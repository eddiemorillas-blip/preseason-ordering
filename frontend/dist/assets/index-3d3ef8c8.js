function ep(e,t){for(var a=0;a<t.length;a++){const l=t[a];if(typeof l!="string"&&!Array.isArray(l)){for(const n in l)if(n!=="default"&&!(n in e)){const r=Object.getOwnPropertyDescriptor(l,n);r&&Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>l[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();function tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ph={exports:{}},Ui={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=Symbol.for("react.transitional.element"),sp=Symbol.for("react.fragment");function gh(e,t,a){var l=null;if(a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),"key"in t){a={};for(var n in t)n!=="key"&&(a[n]=t[n])}else a=t;return t=a.ref,{$$typeof:ap,type:e,key:l,ref:t!==void 0?t:null,props:a}}Ui.Fragment=sp;Ui.jsx=gh;Ui.jsxs=gh;ph.exports=Ui;var s=ph.exports,yh={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.transitional.element"),lp=Symbol.for("react.portal"),np=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),cp=Symbol.for("react.consumer"),op=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),mp=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),hp=Symbol.for("react.activity"),fu=Symbol.iterator;function xp(e){return e===null||typeof e!="object"?null:(e=fu&&e[fu]||e["@@iterator"],typeof e=="function"?e:null)}var vh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jh=Object.assign,Nh={};function en(e,t,a){this.props=e,this.context=t,this.refs=Nh,this.updater=a||vh}en.prototype.isReactComponent={};en.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sh(){}Sh.prototype=en.prototype;function sd(e,t,a){this.props=e,this.context=t,this.refs=Nh,this.updater=a||vh}var ld=sd.prototype=new Sh;ld.constructor=sd;jh(ld,en.prototype);ld.isPureReactComponent=!0;var pu=Array.isArray;function Jc(){}var Pe={H:null,A:null,T:null,S:null},wh=Object.prototype.hasOwnProperty;function nd(e,t,a){var l=a.ref;return{$$typeof:ad,type:e,key:t,ref:l!==void 0?l:null,props:a}}function fp(e,t){return nd(e.type,t,e.props)}function rd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ad}function pp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var gu=/\/+/g;function cc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pp(""+e.key):t.toString(36)}function gp(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Jc,Jc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function bl(e,t,a,l,n){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(r){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ad:case lp:i=!0;break;case bh:return i=e._init,bl(i(e._payload),t,a,l,n)}}if(i)return n=n(e),i=l===""?"."+cc(e,0):l,pu(n)?(a="",i!=null&&(a=i.replace(gu,"$&/")+"/"),bl(n,t,a,"",function(d){return d})):n!=null&&(rd(n)&&(n=fp(n,a+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(gu,"$&/")+"/")+i)),t.push(n)),1;i=0;var c=l===""?".":l+":";if(pu(e))for(var o=0;o<e.length;o++)l=e[o],r=c+cc(l,o),i+=bl(l,t,a,r,n);else if(o=xp(e),typeof o=="function")for(e=o.call(e),o=0;!(l=e.next()).done;)l=l.value,r=c+cc(l,o++),i+=bl(l,t,a,r,n);else if(r==="object"){if(typeof e.then=="function")return bl(gp(e),t,a,l,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function br(e,t,a){if(e==null)return e;var l=[],n=0;return bl(e,l,"","",function(r){return t.call(a,r,n++)}),l}function yp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bp={map:br,forEach:function(e,t,a){br(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return br(e,function(){t++}),t},toArray:function(e){return br(e,function(t){return t})||[]},only:function(e){if(!rd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Activity=hp;Se.Children=bp;Se.Component=en;Se.Fragment=np;Se.Profiler=ip;Se.PureComponent=sd;Se.StrictMode=rp;Se.Suspense=up;Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;Se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Pe.H.useMemoCache(e)}};Se.cache=function(e){return function(){return e.apply(null,arguments)}};Se.cacheSignal=function(){return null};Se.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var l=jh({},e.props),n=e.key;if(t!=null)for(r in t.key!==void 0&&(n=""+t.key),t)!wh.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(l[r]=t[r]);var r=arguments.length-2;if(r===1)l.children=a;else if(1<r){for(var i=Array(r),c=0;c<r;c++)i[c]=arguments[c+2];l.children=i}return nd(e.type,n,l)};Se.createContext=function(e){return e={$$typeof:op,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:cp,_context:e},e};Se.createElement=function(e,t,a){var l,n={},r=null;if(t!=null)for(l in t.key!==void 0&&(r=""+t.key),t)wh.call(t,l)&&l!=="key"&&l!=="__self"&&l!=="__source"&&(n[l]=t[l]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var c=Array(i),o=0;o<i;o++)c[o]=arguments[o+2];n.children=c}if(e&&e.defaultProps)for(l in i=e.defaultProps,i)n[l]===void 0&&(n[l]=i[l]);return nd(e,r,n)};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:dp,render:e}};Se.isValidElement=rd;Se.lazy=function(e){return{$$typeof:bh,_payload:{_status:-1,_result:e},_init:yp}};Se.memo=function(e,t){return{$$typeof:mp,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Pe.T,a={};Pe.T=a;try{var l=e(),n=Pe.S;n!==null&&n(a,l),typeof l=="object"&&l!==null&&typeof l.then=="function"&&l.then(Jc,yu)}catch(r){yu(r)}finally{t!==null&&a.types!==null&&(t.types=a.types),Pe.T=t}};Se.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};Se.use=function(e){return Pe.H.use(e)};Se.useActionState=function(e,t,a){return Pe.H.useActionState(e,t,a)};Se.useCallback=function(e,t){return Pe.H.useCallback(e,t)};Se.useContext=function(e){return Pe.H.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e,t){return Pe.H.useDeferredValue(e,t)};Se.useEffect=function(e,t){return Pe.H.useEffect(e,t)};Se.useEffectEvent=function(e){return Pe.H.useEffectEvent(e)};Se.useId=function(){return Pe.H.useId()};Se.useImperativeHandle=function(e,t,a){return Pe.H.useImperativeHandle(e,t,a)};Se.useInsertionEffect=function(e,t){return Pe.H.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Pe.H.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Pe.H.useMemo(e,t)};Se.useOptimistic=function(e,t){return Pe.H.useOptimistic(e,t)};Se.useReducer=function(e,t,a){return Pe.H.useReducer(e,t,a)};Se.useRef=function(e){return Pe.H.useRef(e)};Se.useState=function(e){return Pe.H.useState(e)};Se.useSyncExternalStore=function(e,t,a){return Pe.H.useSyncExternalStore(e,t,a)};Se.useTransition=function(){return Pe.H.useTransition()};Se.version="19.2.0";yh.exports=Se;var m=yh.exports;const vp=tp(m),jp=ep({__proto__:null,default:vp},[m]);var Ch={exports:{}},Bi={},_h={exports:{}},Eh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,$){var T=R.length;R.push($);e:for(;0<T;){var Q=T-1>>>1,ne=R[Q];if(0<n(ne,$))R[Q]=$,R[T]=ne,T=Q;else break e}}function a(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var $=R[0],T=R.pop();if(T!==$){R[0]=T;e:for(var Q=0,ne=R.length,X=ne>>>1;Q<X;){var z=2*(Q+1)-1,B=R[z],O=z+1,F=R[O];if(0>n(B,T))O<ne&&0>n(F,B)?(R[Q]=F,R[O]=T,Q=O):(R[Q]=B,R[z]=T,Q=z);else if(O<ne&&0>n(F,T))R[Q]=F,R[O]=T,Q=O;else break e}}return $}function n(R,$){var T=R.sortIndex-$.sortIndex;return T!==0?T:R.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],u=1,h=null,x=3,j=!1,S=!1,N=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function y(R){for(var $=a(d);$!==null;){if($.callback===null)l(d);else if($.startTime<=R)l(d),$.sortIndex=$.expirationTime,t(o,$);else break;$=a(d)}}function A(R){if(N=!1,y(R),!S)if(a(o)!==null)S=!0,U||(U=!0,D());else{var $=a(d);$!==null&&oe(A,$.startTime-R)}}var U=!1,_=-1,H=5,G=-1;function E(){return v?!0:!(e.unstable_now()-G<H)}function W(){if(v=!1,U){var R=e.unstable_now();G=R;var $=!0;try{e:{S=!1,N&&(N=!1,f(_),_=-1),j=!0;var T=x;try{t:{for(y(R),h=a(o);h!==null&&!(h.expirationTime>R&&E());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,x=h.priorityLevel;var ne=Q(h.expirationTime<=R);if(R=e.unstable_now(),typeof ne=="function"){h.callback=ne,y(R),$=!0;break t}h===a(o)&&l(o),y(R)}else l(o);h=a(o)}if(h!==null)$=!0;else{var X=a(d);X!==null&&oe(A,X.startTime-R),$=!1}}break e}finally{h=null,x=T,j=!1}$=void 0}}finally{$?D():U=!1}}}var D;if(typeof p=="function")D=function(){p(W)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ie=ue.port2;ue.port1.onmessage=W,D=function(){ie.postMessage(null)}}else D=function(){g(W,0)};function oe(R,$){_=g(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var T=x;x=$;try{return R()}finally{x=T}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var T=x;x=R;try{return $()}finally{x=T}},e.unstable_scheduleCallback=function(R,$,T){var Q=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?Q+T:Q):T=Q,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=T+ne,R={id:u++,callback:$,priorityLevel:R,startTime:T,expirationTime:ne,sortIndex:-1},T>Q?(R.sortIndex=T,t(d,R),a(o)===null&&R===a(d)&&(N?(f(_),_=-1):N=!0,oe(A,T-Q))):(R.sortIndex=ne,t(o,R),S||j||(S=!0,U||(U=!0,D()))),R},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(R){var $=x;return function(){var T=x;x=$;try{return R.apply(this,arguments)}finally{x=T}}}})(Eh);_h.exports=Eh;var Np=_h.exports,Ah={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=m;function Oh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ds(){}var $t={d:{f:ds,r:function(){throw Error(Oh(522))},D:ds,C:ds,L:ds,m:ds,X:ds,S:ds,M:ds},p:0,findDOMNode:null},wp=Symbol.for("react.portal");function Cp(e,t,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wp,key:l==null?null:""+l,children:e,containerInfo:t,implementation:a}}var En=Sp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ki(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$t;Qt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Oh(299));return Cp(e,t,null,a)};Qt.flushSync=function(e){var t=En.T,a=$t.p;try{if(En.T=null,$t.p=2,e)return e()}finally{En.T=t,$t.p=a,$t.d.f()}};Qt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,$t.d.C(e,t))};Qt.prefetchDNS=function(e){typeof e=="string"&&$t.d.D(e)};Qt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,l=ki(a,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?$t.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:l,integrity:n,fetchPriority:r}):a==="script"&&$t.d.X(e,{crossOrigin:l,integrity:n,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=ki(t.as,t.crossOrigin);$t.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&$t.d.M(e)};Qt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,l=ki(a,t.crossOrigin);$t.d.L(e,a,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qt.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=ki(t.as,t.crossOrigin);$t.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else $t.d.m(e)};Qt.requestFormReset=function(e){$t.d.r(e)};Qt.unstable_batchedUpdates=function(e,t){return e(t)};Qt.useFormState=function(e,t,a){return En.H.useFormState(e,t,a)};Qt.useFormStatus=function(){return En.H.useHostTransitionStatus()};Qt.version="19.2.0";function zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zh)}catch(e){console.error(e)}}zh(),Ah.exports=Qt;var _p=Ah.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=Np,Th=m,Ep=_p;function Z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Rh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bu(e){if(sr(e)!==e)throw Error(Z(188))}function Ap(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return bu(n),e;if(r===l)return bu(n),t;r=r.sibling}throw Error(Z(188))}if(a.return!==l.return)a=n,l=r;else{for(var i=!1,c=n.child;c;){if(c===a){i=!0,a=n,l=r;break}if(c===l){i=!0,l=n,a=r;break}c=c.sibling}if(!i){for(c=r.child;c;){if(c===a){i=!0,a=r,l=n;break}if(c===l){i=!0,l=r,a=n;break}c=c.sibling}if(!i)throw Error(Z(189))}}if(a.alternate!==l)throw Error(Z(190))}if(a.tag!==3)throw Error(Z(188));return a.stateNode.current===a?e:t}function Uh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Uh(e),t!==null)return t;e=e.sibling}return null}var Ie=Object.assign,Op=Symbol.for("react.element"),vr=Symbol.for("react.transitional.element"),jn=Symbol.for("react.portal"),Sl=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Pc=Symbol.for("react.profiler"),kh=Symbol.for("react.consumer"),Ka=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),Wc=Symbol.for("react.suspense"),Ic=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),eo=Symbol.for("react.activity"),zp=Symbol.for("react.memo_cache_sentinel"),vu=Symbol.iterator;function hn(e){return e===null||typeof e!="object"?null:(e=vu&&e[vu]||e["@@iterator"],typeof e=="function"?e:null)}var Tp=Symbol.for("react.client.reference");function to(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Tp?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sl:return"Fragment";case Pc:return"Profiler";case Bh:return"StrictMode";case Wc:return"Suspense";case Ic:return"SuspenseList";case eo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case jn:return"Portal";case Ka:return e.displayName||"Context";case kh:return(e._context.displayName||"Context")+".Consumer";case id:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cd:return t=e.displayName||null,t!==null?t:to(e.type)||"Memo";case us:t=e._payload,e=e._init;try{return to(e(t))}catch{}}return null}var Nn=Array.isArray,be=Th.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le=Ep.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Js={pending:!1,data:null,method:null,action:null},ao=[],wl=-1;function La(e){return{current:e}}function zt(e){0>wl||(e.current=ao[wl],ao[wl]=null,wl--)}function Ze(e,t){wl++,ao[wl]=e.current,e.current=t}var ka=La(null),Fn=La(null),Ss=La(null),ti=La(null);function ai(e,t){switch(Ze(Ss,t),Ze(Fn,e),Ze(ka,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_m(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_m(t),e=l0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}zt(ka),Ze(ka,e)}function $l(){zt(ka),zt(Fn),zt(Ss)}function so(e){e.memoizedState!==null&&Ze(ti,e);var t=ka.current,a=l0(t,e.type);t!==a&&(Ze(Fn,e),Ze(ka,a))}function si(e){Fn.current===e&&(zt(ka),zt(Fn)),ti.current===e&&(zt(ti),Wn._currentValue=Js)}var oc,ju;function Ys(e){if(oc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);oc=t&&t[1]||"",ju=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oc+e+ju}var dc=!1;function uc(e,t){if(!e||dc)return"";dc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(j){var x=j}Reflect.construct(e,[],h)}else{try{h.call()}catch(j){x=j}e.call(h.prototype)}}else{try{throw Error()}catch(j){x=j}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(j){if(j&&x&&typeof j.stack=="string")return[j.stack,x.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),i=r[0],c=r[1];if(i&&c){var o=i.split(`
`),d=c.split(`
`);for(n=l=0;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;for(;n<d.length&&!d[n].includes("DetermineComponentFrameRoot");)n++;if(l===o.length||n===d.length)for(l=o.length-1,n=d.length-1;1<=l&&0<=n&&o[l]!==d[n];)n--;for(;1<=l&&0<=n;l--,n--)if(o[l]!==d[n]){if(l!==1||n!==1)do if(l--,n--,0>n||o[l]!==d[n]){var u=`
`+o[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=n);break}}}finally{dc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ys(a):""}function Dp(e,t){switch(e.tag){case 26:case 27:case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return e.child!==t&&t!==null?Ys("Suspense Fallback"):Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 15:return uc(e.type,!1);case 11:return uc(e.type.render,!1);case 1:return uc(e.type,!0);case 31:return Ys("Activity");default:return""}}function Nu(e){try{var t="",a=null;do t+=Dp(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var lo=Object.prototype.hasOwnProperty,od=wt.unstable_scheduleCallback,mc=wt.unstable_cancelCallback,Rp=wt.unstable_shouldYield,Mp=wt.unstable_requestPaint,oa=wt.unstable_now,Up=wt.unstable_getCurrentPriorityLevel,Lh=wt.unstable_ImmediatePriority,qh=wt.unstable_UserBlockingPriority,li=wt.unstable_NormalPriority,Bp=wt.unstable_LowPriority,Hh=wt.unstable_IdlePriority,kp=wt.log,Lp=wt.unstable_setDisableYieldValue,lr=null,da=null;function gs(e){if(typeof kp=="function"&&Lp(e),da&&typeof da.setStrictMode=="function")try{da.setStrictMode(lr,e)}catch{}}var ua=Math.clz32?Math.clz32:Fp,qp=Math.log,Hp=Math.LN2;function Fp(e){return e>>>=0,e===0?32:31-(qp(e)/Hp|0)|0}var jr=256,Nr=262144,Sr=4194304;function Gs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Li(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var c=l&134217727;return c!==0?(l=c&~r,l!==0?n=Gs(l):(i&=c,i!==0?n=Gs(i):a||(a=c&~e,a!==0&&(n=Gs(a))))):(c=l&~r,c!==0?n=Gs(c):i!==0?n=Gs(i):a||(a=l&~e,a!==0&&(n=Gs(a)))),n===0?0:t!==0&&t!==n&&!(t&r)&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function nr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $p(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(){var e=Sr;return Sr<<=1,!(Sr&62914560)&&(Sr=4194304),e}function hc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function rr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qp(e,t,a,l,n,r){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,d=e.hiddenUpdates;for(a=i&~a;0<a;){var u=31-ua(a),h=1<<u;c[u]=0,o[u]=-1;var x=d[u];if(x!==null)for(d[u]=null,u=0;u<x.length;u++){var j=x[u];j!==null&&(j.lane&=-536870913)}a&=~h}l!==0&&$h(e,l,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~t))}function $h(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ua(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Qh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ua(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function Vh(e,t){var a=t&-t;return a=a&42?1:dd(a),a&(e.suspendedLanes|t)?0:a}function dd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ud(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Yh(){var e=Le.p;return e!==0?e:(e=window.event,e===void 0?32:f0(e.type))}function Su(e,t){var a=Le.p;try{return Le.p=e,t()}finally{Le.p=a}}var Ls=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ls,Wt="__reactProps$"+Ls,tn="__reactContainer$"+Ls,no="__reactEvents$"+Ls,Vp="__reactListeners$"+Ls,Yp="__reactHandles$"+Ls,wu="__reactResources$"+Ls,ir="__reactMarker$"+Ls;function md(e){delete e[Ut],delete e[Wt],delete e[no],delete e[Vp],delete e[Yp]}function Cl(e){var t=e[Ut];if(t)return t;for(var a=e.parentNode;a;){if(t=a[tn]||a[Ut]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Tm(e);e!==null;){if(a=e[Ut])return a;e=Tm(e)}return t}e=a,a=e.parentNode}return null}function an(e){if(e=e[Ut]||e[tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Z(33))}function Ul(e){var t=e[wu];return t||(t=e[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ot(e){e[ir]=!0}var Gh=new Set,Xh={};function il(e,t){Ql(e,t),Ql(e+"Capture",t)}function Ql(e,t){for(Xh[e]=t,e=0;e<t.length;e++)Gh.add(t[e])}var Gp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},_u={};function Xp(e){return lo.call(_u,e)?!0:lo.call(Cu,e)?!1:Gp.test(e)?_u[e]=!0:(Cu[e]=!0,!1)}function Br(e,t,a){if(Xp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function wr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function $a(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function ga(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zp(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,r=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){if(!e._valueTracker){var t=Zh(e)?"checked":"value";e._valueTracker=Zp(e,t,""+e[t])}}function Kh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Zh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kp=/[\n"\\]/g;function va(e){return e.replace(Kp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function io(e,t,a,l,n,r,i,c){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ga(t)):e.value!==""+ga(t)&&(e.value=""+ga(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?co(e,i,ga(t)):a!=null?co(e,i,ga(a)):l!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+ga(c):e.removeAttribute("name")}function Jh(e,t,a,l,n,r,i,c){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){ro(e);return}a=a!=null?""+ga(a):"",t=t!=null?""+ga(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=c?e.checked:!!l,e.defaultChecked=!!l,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),ro(e)}function co(e,t,a){t==="number"&&ni(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ga(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ph(e,t,a){if(t!=null&&(t=""+ga(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ga(a):""}function Wh(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(Z(92));if(Nn(l)){if(1<l.length)throw Error(Z(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=ga(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ro(e)}function Vl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Jp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Jp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ih(e,t,a){if(t!=null&&typeof t!="object")throw Error(Z(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Eu(e,n,l)}else for(var r in t)t.hasOwnProperty(r)&&Eu(e,r,t[r])}function hd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(e){return Wp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ja(){}var oo=null;function xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,kl=null;function Au(e){var t=an(e);if(t&&(e=t.stateNode)){var a=e[Wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(io(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+va(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[Wt]||null;if(!n)throw Error(Z(90));io(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Kh(l)}break e;case"textarea":Ph(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Bl(e,!!a.multiple,t,!1)}}}var xc=!1;function ex(e,t,a){if(xc)return e(t,a);xc=!0;try{var l=e(t);return l}finally{if(xc=!1,(_l!==null||kl!==null)&&(Ji(),_l&&(t=_l,e=kl,kl=_l=null,Au(t),e)))for(t=0;t<e.length;t++)Au(e[t])}}function $n(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(Z(231,t,typeof a));return a}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=!1;if(as)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{uo=!1}var ys=null,fd=null,Lr=null;function tx(){if(Lr)return Lr;var e,t=fd,a=t.length,l,n="value"in ys?ys.value:ys.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var i=a-e;for(l=1;l<=i&&t[a-l]===n[r-l];l++);return Lr=n.slice(e,1<l?1-l:void 0)}function qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cr(){return!0}function Ou(){return!1}function It(e){function t(a,l,n,r,i){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Cr:Ou,this.isPropagationStopped=Ou,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),t}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=It(cl),cr=Ie({},cl,{view:0,detail:0}),Ip=It(cr),fc,pc,fn,Hi=Ie({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(fc=e.screenX-fn.screenX,pc=e.screenY-fn.screenY):pc=fc=0,fn=e),fc)},movementY:function(e){return"movementY"in e?e.movementY:pc}}),zu=It(Hi),eg=Ie({},Hi,{dataTransfer:0}),tg=It(eg),ag=Ie({},cr,{relatedTarget:0}),gc=It(ag),sg=Ie({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=It(sg),ng=Ie({},cl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rg=It(ng),ig=Ie({},cl,{data:0}),Tu=It(ig),cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dg[e])?!!t[e]:!1}function pd(){return ug}var mg=Ie({},cr,{key:function(e){if(e.key){var t=cg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pd,charCode:function(e){return e.type==="keypress"?qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=It(mg),xg=Ie({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=It(xg),fg=Ie({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pd}),pg=It(fg),gg=Ie({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=It(gg),bg=Ie({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=It(bg),jg=Ie({},cl,{newState:0,oldState:0}),Ng=It(jg),Sg=[9,13,27,32],gd=as&&"CompositionEvent"in window,An=null;as&&"documentMode"in document&&(An=document.documentMode);var wg=as&&"TextEvent"in window&&!An,ax=as&&(!gd||An&&8<An&&11>=An),Ru=String.fromCharCode(32),Mu=!1;function sx(e,t){switch(e){case"keyup":return Sg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var El=!1;function Cg(e,t){switch(e){case"compositionend":return lx(t);case"keypress":return t.which!==32?null:(Mu=!0,Ru);case"textInput":return e=t.data,e===Ru&&Mu?null:e;default:return null}}function _g(e,t){if(El)return e==="compositionend"||!gd&&sx(e,t)?(e=tx(),Lr=fd=ys=null,El=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ax&&t.locale!=="ko"?null:t.data;default:return null}}var Eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eg[e.type]:t==="textarea"}function nx(e,t,a,l){_l?kl?kl.push(l):kl=[l]:_l=l,t=Si(t,"onChange"),0<t.length&&(a=new qi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var On=null,Qn=null;function Ag(e){t0(e,0)}function Fi(e){var t=Sn(e);if(Kh(t))return e}function Bu(e,t){if(e==="change")return t}var rx=!1;if(as){var yc;if(as){var bc="oninput"in document;if(!bc){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),bc=typeof ku.oninput=="function"}yc=bc}else yc=!1;rx=yc&&(!document.documentMode||9<document.documentMode)}function Lu(){On&&(On.detachEvent("onpropertychange",ix),Qn=On=null)}function ix(e){if(e.propertyName==="value"&&Fi(Qn)){var t=[];nx(t,Qn,e,xd(e)),ex(Ag,t)}}function Og(e,t,a){e==="focusin"?(Lu(),On=t,Qn=a,On.attachEvent("onpropertychange",ix)):e==="focusout"&&Lu()}function zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fi(Qn)}function Tg(e,t){if(e==="click")return Fi(t)}function Dg(e,t){if(e==="input"||e==="change")return Fi(t)}function Rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ha=typeof Object.is=="function"?Object.is:Rg;function Vn(e,t){if(ha(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!lo.call(t,n)||!ha(e[n],t[n]))return!1}return!0}function qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hu(e,t){var a=qu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qu(a)}}function cx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ox(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ni(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ni(e.document)}return t}function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Mg=as&&"documentMode"in document&&11>=document.documentMode,Al=null,mo=null,zn=null,ho=!1;function Fu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ho||Al==null||Al!==ni(l)||(l=Al,"selectionStart"in l&&yd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zn&&Vn(zn,l)||(zn=l,l=Si(mo,"onSelect"),0<l.length&&(t=new qi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Al)))}function Qs(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ol={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},vc={},dx={};as&&(dx=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function ol(e){if(vc[e])return vc[e];if(!Ol[e])return e;var t=Ol[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in dx)return vc[e]=t[a];return e}var ux=ol("animationend"),mx=ol("animationiteration"),hx=ol("animationstart"),Ug=ol("transitionrun"),Bg=ol("transitionstart"),kg=ol("transitioncancel"),xx=ol("transitionend"),fx=new Map,xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xo.push("scrollEnd");function za(e,t){fx.set(e,t),il(t,[e])}var ri=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pa=[],zl=0,bd=0;function $i(){for(var e=zl,t=bd=zl=0;t<e;){var a=pa[t];pa[t++]=null;var l=pa[t];pa[t++]=null;var n=pa[t];pa[t++]=null;var r=pa[t];if(pa[t++]=null,l!==null&&n!==null){var i=l.pending;i===null?n.next=n:(n.next=i.next,i.next=n),l.pending=n}r!==0&&px(a,n,r)}}function Qi(e,t,a,l){pa[zl++]=e,pa[zl++]=t,pa[zl++]=a,pa[zl++]=l,bd|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vd(e,t,a,l){return Qi(e,t,a,l),ii(e)}function dl(e,t){return Qi(e,null,null,t),ii(e)}function px(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-ua(a),e=r.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),r):null}function ii(e){if(50<qn)throw qn=0,Uo=null,Error(Z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Tl={};function Lg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(e,t,a,l){return new Lg(e,t,a,l)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ia(e,t){var a=e.alternate;return a===null?(a=ia(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gx(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,a,l,n,r){var i=0;if(l=e,typeof e=="function")jd(e)&&(i=1);else if(typeof e=="string")i=Qy(e,a,ka.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case eo:return e=ia(31,a,t,n),e.elementType=eo,e.lanes=r,e;case Sl:return Ps(a.children,n,r,t);case Bh:i=8,n|=24;break;case Pc:return e=ia(12,a,t,n|2),e.elementType=Pc,e.lanes=r,e;case Wc:return e=ia(13,a,t,n),e.elementType=Wc,e.lanes=r,e;case Ic:return e=ia(19,a,t,n),e.elementType=Ic,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ka:i=10;break e;case kh:i=9;break e;case id:i=11;break e;case cd:i=14;break e;case us:i=16,l=null;break e}i=29,a=Error(Z(130,e===null?"null":typeof e,"")),l=null}return t=ia(i,a,t,n),t.elementType=e,t.type=l,t.lanes=r,t}function Ps(e,t,a,l){return e=ia(7,e,l,t),e.lanes=a,e}function jc(e,t,a){return e=ia(6,e,null,t),e.lanes=a,e}function yx(e){var t=ia(18,null,null,0);return t.stateNode=e,t}function Nc(e,t,a){return t=ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $u=new WeakMap;function ja(e,t){if(typeof e=="object"&&e!==null){var a=$u.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Nu(t)},$u.set(e,t),t)}return{value:e,source:t,stack:Nu(t)}}var Dl=[],Rl=0,ci=null,Yn=0,ya=[],ba=0,Ms=null,Ma=1,Ua="";function Xa(e,t){Dl[Rl++]=Yn,Dl[Rl++]=ci,ci=e,Yn=t}function bx(e,t,a){ya[ba++]=Ma,ya[ba++]=Ua,ya[ba++]=Ms,Ms=e;var l=Ma;e=Ua;var n=32-ua(l)-1;l&=~(1<<n),a+=1;var r=32-ua(t)+n;if(30<r){var i=n-n%5;r=(l&(1<<i)-1).toString(32),l>>=i,n-=i,Ma=1<<32-ua(t)+n|a<<n|l,Ua=r+e}else Ma=1<<r|a<<n|l,Ua=e}function Nd(e){e.return!==null&&(Xa(e,1),bx(e,1,0))}function Sd(e){for(;e===ci;)ci=Dl[--Rl],Dl[Rl]=null,Yn=Dl[--Rl],Dl[Rl]=null;for(;e===Ms;)Ms=ya[--ba],ya[ba]=null,Ua=ya[--ba],ya[ba]=null,Ma=ya[--ba],ya[ba]=null}function vx(e,t){ya[ba++]=Ma,ya[ba++]=Ua,ya[ba++]=Ms,Ma=t.id,Ua=t.overflow,Ms=e}var Bt=null,Je=null,De=!1,ws=null,Na=!1,fo=Error(Z(519));function Us(e){var t=Error(Z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gn(ja(t,e)),fo}function Qu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Ut]=e,t[Wt]=l,a){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(a=0;a<Jn.length;a++)Ae(Jn[a],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),Jh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),Wh(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||s0(t.textContent,a)?(l.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),l.onScroll!=null&&Ae("scroll",t),l.onScrollEnd!=null&&Ae("scrollend",t),l.onClick!=null&&(t.onclick=Ja),t=!0):t=!1,t||Us(e,!0)}function Vu(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Na=!1;return;case 27:case 3:Na=!0;return;default:Bt=Bt.return}}function pl(e){if(e!==Bt)return!1;if(!De)return Vu(e),De=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ho(e.type,e.memoizedProps)),a=!a),a&&Je&&Us(e),Vu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));Je=zm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));Je=zm(e)}else t===27?(t=Je,qs(e.type)?(e=Vo,Vo=null,Je=e):Je=t):Je=Bt?wa(e.stateNode.nextSibling):null;return!0}function tl(){Je=Bt=null,De=!1}function Sc(){var e=ws;return e!==null&&(Kt===null?Kt=e:Kt.push.apply(Kt,e),ws=null),e}function Gn(e){ws===null?ws=[e]:ws.push(e)}var po=La(null),ul=null,Pa=null;function hs(e,t,a){Ze(po,t._currentValue),t._currentValue=a}function es(e){e._currentValue=po.current,zt(po)}function go(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function yo(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var i=n.child;r=r.firstContext;e:for(;r!==null;){var c=r;r=n;for(var o=0;o<t.length;o++)if(c.context===t[o]){r.lanes|=a,c=r.alternate,c!==null&&(c.lanes|=a),go(r.return,a,e),l||(i=null);break e}r=c.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(Z(341));i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),go(i,a,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function sn(e,t,a,l){e=null;for(var n=t,r=!1;n!==null;){if(!r){if(n.flags&524288)r=!0;else if(n.flags&262144)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(Z(387));if(i=i.memoizedProps,i!==null){var c=n.type;ha(n.pendingProps.value,i.value)||(e!==null?e.push(c):e=[c])}}else if(n===ti.current){if(i=n.alternate,i===null)throw Error(Z(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Wn):e=[Wn])}n=n.return}e!==null&&yo(t,e,a,l),t.flags|=262144}function oi(e){for(e=e.firstContext;e!==null;){if(!ha(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function al(e){ul=e,Pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return jx(ul,e)}function _r(e,t){return ul===null&&al(e),jx(e,t)}function jx(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Pa===null){if(e===null)throw Error(Z(308));Pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pa=Pa.next=t;return a}var qg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Hg=wt.unstable_scheduleCallback,Fg=wt.unstable_NormalPriority,bt={$$typeof:Ka,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new qg,data:new Map,refCount:0}}function or(e){e.refCount--,e.refCount===0&&Hg(Fg,function(){e.controller.abort()})}var Tn=null,bo=0,Yl=0,Ll=null;function $g(e,t){if(Tn===null){var a=Tn=[];bo=0,Yl=Kd(),Ll={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bo++,t.then(Yu,Yu),t}function Yu(){if(--bo===0&&Tn!==null){Ll!==null&&(Ll.status="fulfilled");var e=Tn;Tn=null,Yl=0,Ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Gu=be.S;be.S=function(e,t){Bf=oa(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$g(e,t),Gu!==null&&Gu(e,t)};var Ws=La(null);function Cd(){var e=Ws.current;return e!==null?e:Ve.pooledCache}function Fr(e,t){t===null?Ze(Ws,Ws.current):Ze(Ws,t.pool)}function Nx(){var e=Cd();return e===null?null:{parent:bt._currentValue,pool:e}}var ln=Error(Z(460)),_d=Error(Z(474)),Vi=Error(Z(542)),di={then:function(){}};function Xu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sx(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ja,Ja),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ku(e),e;default:if(typeof t.status=="string")t.then(Ja,Ja);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(Z(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ku(e),e}throw Is=t,ln}}function Xs(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Is=a,ln):a}}var Is=null;function Zu(){if(Is===null)throw Error(Z(459));var e=Is;return Is=null,e}function Ku(e){if(e===ln||e===Vi)throw Error(Z(483))}var ql=null,Xn=0;function Er(e){var t=Xn;return Xn+=1,ql===null&&(ql=[]),Sx(ql,e,t)}function pn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===Op?Error(Z(525)):(e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wx(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function a(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function l(g){for(var f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function n(g,f){return g=Ia(g,f),g.index=0,g.sibling=null,g}function r(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=67108866,f):p):(g.flags|=67108866,f)):(g.flags|=1048576,f)}function i(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function c(g,f,p,y){return f===null||f.tag!==6?(f=jc(p,g.mode,y),f.return=g,f):(f=n(f,p),f.return=g,f)}function o(g,f,p,y){var A=p.type;return A===Sl?u(g,f,p.props.children,y,p.key):f!==null&&(f.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===us&&Xs(A)===f.type)?(f=n(f,p.props),pn(f,p),f.return=g,f):(f=Hr(p.type,p.key,p.props,null,g.mode,y),pn(f,p),f.return=g,f)}function d(g,f,p,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Nc(p,g.mode,y),f.return=g,f):(f=n(f,p.children||[]),f.return=g,f)}function u(g,f,p,y,A){return f===null||f.tag!==7?(f=Ps(p,g.mode,y,A),f.return=g,f):(f=n(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=jc(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vr:return p=Hr(f.type,f.key,f.props,null,g.mode,p),pn(p,f),p.return=g,p;case jn:return f=Nc(f,g.mode,p),f.return=g,f;case us:return f=Xs(f),h(g,f,p)}if(Nn(f)||hn(f))return f=Ps(f,g.mode,p,null),f.return=g,f;if(typeof f.then=="function")return h(g,Er(f),p);if(f.$$typeof===Ka)return h(g,_r(g,f),p);Ar(g,f)}return null}function x(g,f,p,y){var A=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return A!==null?null:c(g,f,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vr:return p.key===A?o(g,f,p,y):null;case jn:return p.key===A?d(g,f,p,y):null;case us:return p=Xs(p),x(g,f,p,y)}if(Nn(p)||hn(p))return A!==null?null:u(g,f,p,y,null);if(typeof p.then=="function")return x(g,f,Er(p),y);if(p.$$typeof===Ka)return x(g,f,_r(g,p),y);Ar(g,p)}return null}function j(g,f,p,y,A){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return g=g.get(p)||null,c(f,g,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vr:return g=g.get(y.key===null?p:y.key)||null,o(f,g,y,A);case jn:return g=g.get(y.key===null?p:y.key)||null,d(f,g,y,A);case us:return y=Xs(y),j(g,f,p,y,A)}if(Nn(y)||hn(y))return g=g.get(p)||null,u(f,g,y,A,null);if(typeof y.then=="function")return j(g,f,p,Er(y),A);if(y.$$typeof===Ka)return j(g,f,p,_r(f,y),A);Ar(f,y)}return null}function S(g,f,p,y){for(var A=null,U=null,_=f,H=f=0,G=null;_!==null&&H<p.length;H++){_.index>H?(G=_,_=null):G=_.sibling;var E=x(g,_,p[H],y);if(E===null){_===null&&(_=G);break}e&&_&&E.alternate===null&&t(g,_),f=r(E,f,H),U===null?A=E:U.sibling=E,U=E,_=G}if(H===p.length)return a(g,_),De&&Xa(g,H),A;if(_===null){for(;H<p.length;H++)_=h(g,p[H],y),_!==null&&(f=r(_,f,H),U===null?A=_:U.sibling=_,U=_);return De&&Xa(g,H),A}for(_=l(_);H<p.length;H++)G=j(_,g,H,p[H],y),G!==null&&(e&&G.alternate!==null&&_.delete(G.key===null?H:G.key),f=r(G,f,H),U===null?A=G:U.sibling=G,U=G);return e&&_.forEach(function(W){return t(g,W)}),De&&Xa(g,H),A}function N(g,f,p,y){if(p==null)throw Error(Z(151));for(var A=null,U=null,_=f,H=f=0,G=null,E=p.next();_!==null&&!E.done;H++,E=p.next()){_.index>H?(G=_,_=null):G=_.sibling;var W=x(g,_,E.value,y);if(W===null){_===null&&(_=G);break}e&&_&&W.alternate===null&&t(g,_),f=r(W,f,H),U===null?A=W:U.sibling=W,U=W,_=G}if(E.done)return a(g,_),De&&Xa(g,H),A;if(_===null){for(;!E.done;H++,E=p.next())E=h(g,E.value,y),E!==null&&(f=r(E,f,H),U===null?A=E:U.sibling=E,U=E);return De&&Xa(g,H),A}for(_=l(_);!E.done;H++,E=p.next())E=j(_,g,H,E.value,y),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?H:E.key),f=r(E,f,H),U===null?A=E:U.sibling=E,U=E);return e&&_.forEach(function(D){return t(g,D)}),De&&Xa(g,H),A}function v(g,f,p,y){if(typeof p=="object"&&p!==null&&p.type===Sl&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case vr:e:{for(var A=p.key;f!==null;){if(f.key===A){if(A=p.type,A===Sl){if(f.tag===7){a(g,f.sibling),y=n(f,p.props.children),y.return=g,g=y;break e}}else if(f.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===us&&Xs(A)===f.type){a(g,f.sibling),y=n(f,p.props),pn(y,p),y.return=g,g=y;break e}a(g,f);break}else t(g,f);f=f.sibling}p.type===Sl?(y=Ps(p.props.children,g.mode,y,p.key),y.return=g,g=y):(y=Hr(p.type,p.key,p.props,null,g.mode,y),pn(y,p),y.return=g,g=y)}return i(g);case jn:e:{for(A=p.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){a(g,f.sibling),y=n(f,p.children||[]),y.return=g,g=y;break e}else{a(g,f);break}else t(g,f);f=f.sibling}y=Nc(p,g.mode,y),y.return=g,g=y}return i(g);case us:return p=Xs(p),v(g,f,p,y)}if(Nn(p))return S(g,f,p,y);if(hn(p)){if(A=hn(p),typeof A!="function")throw Error(Z(150));return p=A.call(p),N(g,f,p,y)}if(typeof p.then=="function")return v(g,f,Er(p),y);if(p.$$typeof===Ka)return v(g,f,_r(g,p),y);Ar(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,f!==null&&f.tag===6?(a(g,f.sibling),y=n(f,p),y.return=g,g=y):(a(g,f),y=jc(p,g.mode,y),y.return=g,g=y),i(g)):a(g,f)}return function(g,f,p,y){try{Xn=0;var A=v(g,f,p,y);return ql=null,A}catch(_){if(_===ln||_===Vi)throw _;var U=ia(29,_,null,g.mode);return U.lanes=y,U.return=g,U}finally{}}}var sl=wx(!0),Cx=wx(!1),ms=!1;function Ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _s(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ke&2){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=ii(e),px(e,null,a),t}return Qi(e,l,t,a),ii(e)}function Dn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Qh(e,a)}}function wc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=i:r=r.next=i,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var jo=!1;function Rn(){if(jo){var e=Ll;if(e!==null)throw e}}function Mn(e,t,a,l){jo=!1;var n=e.updateQueue;ms=!1;var r=n.firstBaseUpdate,i=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?r=d:i.next=d,i=o;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==i&&(c===null?u.firstBaseUpdate=d:c.next=d,u.lastBaseUpdate=o))}if(r!==null){var h=n.baseState;i=0,u=d=o=null,c=r;do{var x=c.lane&-536870913,j=x!==c.lane;if(j?(Te&x)===x:(l&x)===x){x!==0&&x===Yl&&(jo=!0),u!==null&&(u=u.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var S=e,N=c;x=t;var v=a;switch(N.tag){case 1:if(S=N.payload,typeof S=="function"){h=S.call(v,h,x);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=N.payload,x=typeof S=="function"?S.call(v,h,x):S,x==null)break e;h=Ie({},h,x);break e;case 2:ms=!0}}x=c.callback,x!==null&&(e.flags|=64,j&&(e.flags|=8192),j=n.callbacks,j===null?n.callbacks=[x]:j.push(x))}else j={lane:x,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(d=u=j,o=h):u=u.next=j,i|=x;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;j=c,c=j.next,j.next=null,n.lastBaseUpdate=j,n.shared.pending=null}}while(1);u===null&&(o=h),n.baseState=o,n.firstBaseUpdate=d,n.lastBaseUpdate=u,r===null&&(n.shared.lanes=0),ks|=i,e.lanes=i,e.memoizedState=h}}function _x(e,t){if(typeof e!="function")throw Error(Z(191,e));e.call(t)}function Ex(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_x(a[e],t)}var Gl=La(null),ui=La(0);function Ju(e,t){e=rs,Ze(ui,e),Ze(Gl,t),rs=e|t.baseLanes}function No(){Ze(ui,rs),Ze(Gl,Gl.current)}function Ad(){rs=ui.current,zt(Gl),zt(ui)}var xa=La(null),Sa=null;function xs(e){var t=e.alternate;Ze(mt,mt.current&1),Ze(xa,e),Sa===null&&(t===null||Gl.current!==null||t.memoizedState!==null)&&(Sa=e)}function So(e){Ze(mt,mt.current),Ze(xa,e),Sa===null&&(Sa=e)}function Ax(e){e.tag===22?(Ze(mt,mt.current),Ze(xa,e),Sa===null&&(Sa=e)):fs()}function fs(){Ze(mt,mt.current),Ze(xa,xa.current)}function ra(e){zt(xa),Sa===e&&(Sa=null),zt(mt)}var mt=La(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$o(a)||Qo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ss=0,_e=null,$e=null,gt=null,hi=!1,Hl=!1,ll=!1,xi=0,Zn=0,Fl=null,Vg=0;function it(){throw Error(Z(321))}function Od(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ha(e[a],t[a]))return!1;return!0}function zd(e,t,a,l,n,r){return ss=r,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,be.H=e===null||e.memoizedState===null?nf:Fd,ll=!1,r=a(l,n),ll=!1,Hl&&(r=zx(t,a,l,n)),Ox(e),r}function Ox(e){be.H=Kn;var t=$e!==null&&$e.next!==null;if(ss=0,gt=$e=_e=null,hi=!1,Zn=0,Fl=null,t)throw Error(Z(300));e===null||vt||(e=e.dependencies,e!==null&&oi(e)&&(vt=!0))}function zx(e,t,a,l){_e=e;var n=0;do{if(Hl&&(Fl=null),Zn=0,Hl=!1,25<=n)throw Error(Z(301));if(n+=1,gt=$e=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}be.H=rf,r=t(a,l)}while(Hl);return r}function Yg(){var e=be.H,t=e.useState()[0];return t=typeof t.then=="function"?dr(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(_e.flags|=1024),t}function Td(){var e=xi!==0;return xi=0,e}function Dd(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Rd(e){if(hi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}hi=!1}ss=0,gt=$e=_e=null,Hl=!1,Zn=xi=0,Fl=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?_e.memoizedState=gt=e:gt=gt.next=e,gt}function ht(){if($e===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=gt===null?_e.memoizedState:gt.next;if(t!==null)gt=t,$e=e;else{if(e===null)throw _e.alternate===null?Error(Z(467)):Error(Z(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},gt===null?_e.memoizedState=gt=e:gt=gt.next=e}return gt}function Yi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dr(e){var t=Zn;return Zn+=1,Fl===null&&(Fl=[]),e=Sx(Fl,e,t),t=_e,(gt===null?t.memoizedState:gt.next)===null&&(t=t.alternate,be.H=t===null||t.memoizedState===null?nf:Fd),e}function Gi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dr(e);if(e.$$typeof===Ka)return kt(e)}throw Error(Z(438,String(e)))}function Md(e){var t=null,a=_e.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=_e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Yi(),_e.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=zp;return t.index++,a}function ls(e,t){return typeof t=="function"?t(e):t}function $r(e){var t=ht();return Ud(t,$e,e)}function Ud(e,t,a){var l=e.queue;if(l===null)throw Error(Z(311));l.lastRenderedReducer=a;var n=e.baseQueue,r=l.pending;if(r!==null){if(n!==null){var i=n.next;n.next=r.next,r.next=i}t.baseQueue=n=r,l.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var c=i=null,o=null,d=t,u=!1;do{var h=d.lane&-536870913;if(h!==d.lane?(Te&h)===h:(ss&h)===h){var x=d.revertLane;if(x===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Yl&&(u=!0);else if((ss&x)===x){d=d.next,x===Yl&&(u=!0);continue}else h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=h,i=r):o=o.next=h,_e.lanes|=x,ks|=x;h=d.action,ll&&a(r,h),r=d.hasEagerState?d.eagerState:a(r,h)}else x={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=x,i=r):o=o.next=x,_e.lanes|=h,ks|=h;d=d.next}while(d!==null&&d!==t);if(o===null?i=r:o.next=c,!ha(r,e.memoizedState)&&(vt=!0,u&&(a=Ll,a!==null)))throw a;e.memoizedState=r,e.baseState=i,e.baseQueue=o,l.lastRenderedState=r}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Cc(e){var t=ht(),a=t.queue;if(a===null)throw Error(Z(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do r=e(r,i.action),i=i.next;while(i!==n);ha(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,l]}function Tx(e,t,a){var l=_e,n=ht(),r=De;if(r){if(a===void 0)throw Error(Z(407));a=a()}else a=t();var i=!ha(($e||n).memoizedState,a);if(i&&(n.memoizedState=a,vt=!0),n=n.queue,Bd(Mx.bind(null,l,n,e),[e]),n.getSnapshot!==t||i||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Xl(9,{destroy:void 0},Rx.bind(null,l,n,a,t),null),Ve===null)throw Error(Z(349));r||ss&127||Dx(l,t,a)}return a}function Dx(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=_e.updateQueue,t===null?(t=Yi(),_e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Rx(e,t,a,l){t.value=a,t.getSnapshot=l,Ux(t)&&Bx(e)}function Mx(e,t,a){return a(function(){Ux(t)&&Bx(e)})}function Ux(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ha(e,a)}catch{return!0}}function Bx(e){var t=dl(e,2);t!==null&&Jt(t,e,2)}function wo(e){var t=Ft();if(typeof e=="function"){var a=e;if(e=a(),ll){gs(!0);try{a()}finally{gs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e},t}function kx(e,t,a,l){return e.baseState=a,Ud(e,$e,typeof l=="function"?l:ls)}function Gg(e,t,a,l,n){if(Zi(e))throw Error(Z(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};be.T!==null?a(!0):r.isTransition=!1,l(r),a=t.pending,a===null?(r.next=t.pending=r,Lx(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Lx(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var r=be.T,i={};be.T=i;try{var c=a(n,l),o=be.S;o!==null&&o(i,c),Pu(e,t,c)}catch(d){Co(e,t,d)}finally{r!==null&&i.types!==null&&(r.types=i.types),be.T=r}}else try{r=a(n,l),Pu(e,t,r)}catch(d){Co(e,t,d)}}function Pu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wu(e,t,l)},function(l){return Co(e,t,l)}):Wu(e,t,a)}function Wu(e,t,a){t.status="fulfilled",t.value=a,qx(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Lx(e,a)))}function Co(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,qx(t),t=t.next;while(t!==l)}e.action=null}function qx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hx(e,t){return t}function Iu(e,t){if(De){var a=Ve.formState;if(a!==null){e:{var l=_e;if(De){if(Je){t:{for(var n=Je,r=Na;n.nodeType!==8;){if(!r){n=null;break t}if(n=wa(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Je=wa(n.nextSibling),l=n.data==="F!";break e}}Us(l)}l=!1}l&&(t=a[0])}}return a=Ft(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hx,lastRenderedState:t},a.queue=l,a=af.bind(null,_e,l),l.dispatch=a,l=wo(!1),r=Hd.bind(null,_e,!1,l.queue),l=Ft(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Gg.bind(null,_e,n,r,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function em(e){var t=ht();return Fx(t,$e,e)}function Fx(e,t,a){if(t=Ud(e,t,Hx)[0],e=$r(ls)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=dr(t)}catch(i){throw i===ln?Vi:i}else l=t;t=ht();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(_e.flags|=2048,Xl(9,{destroy:void 0},Xg.bind(null,n,a),null)),[l,r,e]}function Xg(e,t){e.action=t}function tm(e){var t=ht(),a=$e;if(a!==null)return Fx(t,a,e);ht(),t=t.memoizedState,a=ht();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Xl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=_e.updateQueue,t===null&&(t=Yi(),_e.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function $x(){return ht().memoizedState}function Qr(e,t,a,l){var n=Ft();_e.flags|=e,n.memoizedState=Xl(1|t,{destroy:void 0},a,l===void 0?null:l)}function Xi(e,t,a,l){var n=ht();l=l===void 0?null:l;var r=n.memoizedState.inst;$e!==null&&l!==null&&Od(l,$e.memoizedState.deps)?n.memoizedState=Xl(t,r,a,l):(_e.flags|=e,n.memoizedState=Xl(1|t,r,a,l))}function am(e,t){Qr(8390656,8,e,t)}function Bd(e,t){Xi(2048,8,e,t)}function Zg(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=Yi(),_e.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Qx(e){var t=ht().memoizedState;return Zg({ref:t,nextImpl:e}),function(){if(ke&2)throw Error(Z(440));return t.impl.apply(void 0,arguments)}}function Vx(e,t){return Xi(4,2,e,t)}function Yx(e,t){return Xi(4,4,e,t)}function Gx(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xx(e,t,a){a=a!=null?a.concat([e]):null,Xi(4,4,Gx.bind(null,t,e),a)}function kd(){}function Zx(e,t){var a=ht();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Od(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Kx(e,t){var a=ht();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Od(t,l[1]))return l[0];if(l=e(),ll){gs(!0);try{e()}finally{gs(!1)}}return a.memoizedState=[l,t],l}function Ld(e,t,a){return a===void 0||ss&1073741824&&!(Te&261930)?e.memoizedState=t:(e.memoizedState=a,e=Lf(),_e.lanes|=e,ks|=e,a)}function Jx(e,t,a,l){return ha(a,t)?a:Gl.current!==null?(e=Ld(e,a,l),ha(e,t)||(vt=!0),e):!(ss&42)||ss&1073741824&&!(Te&261930)?(vt=!0,e.memoizedState=a):(e=Lf(),_e.lanes|=e,ks|=e,t)}function Px(e,t,a,l,n){var r=Le.p;Le.p=r!==0&&8>r?r:8;var i=be.T,c={};be.T=c,Hd(e,!1,t,a);try{var o=n(),d=be.S;if(d!==null&&d(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=Qg(o,l);Un(e,t,u,ma(e))}else Un(e,t,l,ma(e))}catch(h){Un(e,t,{then:function(){},status:"rejected",reason:h},ma())}finally{Le.p=r,i!==null&&c.types!==null&&(i.types=c.types),be.T=i}}function Kg(){}function _o(e,t,a,l){if(e.tag!==5)throw Error(Z(476));var n=Wx(e).queue;Px(e,n,t,Js,a===null?Kg:function(){return Ix(e),a(l)})}function Wx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Js,baseState:Js,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:Js},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ix(e){var t=Wx(e);t.next===null&&(t=e.alternate.memoizedState),Un(e,t.next.queue,{},ma())}function qd(){return kt(Wn)}function ef(){return ht().memoizedState}function tf(){return ht().memoizedState}function Jg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ma();e=Cs(a);var l=_s(t,e,a);l!==null&&(Jt(l,t,a),Dn(l,t,a)),t={cache:wd()},e.payload=t;return}t=t.return}}function Pg(e,t,a){var l=ma();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zi(e)?sf(t,a):(a=vd(e,t,a,l),a!==null&&(Jt(a,e,l),lf(a,t,l)))}function af(e,t,a){var l=ma();Un(e,t,a,l)}function Un(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zi(e))sf(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,c=r(i,a);if(n.hasEagerState=!0,n.eagerState=c,ha(c,i))return Qi(e,t,n,0),Ve===null&&$i(),!1}catch{}finally{}if(a=vd(e,t,n,l),a!==null)return Jt(a,e,l),lf(a,t,l),!0}return!1}function Hd(e,t,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zi(e)){if(t)throw Error(Z(479))}else t=vd(e,a,l,2),t!==null&&Jt(t,e,2)}function Zi(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function sf(e,t){Hl=hi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function lf(e,t,a){if(a&4194048){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Qh(e,a)}}var Kn={readContext:kt,use:Gi,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};Kn.useEffectEvent=it;var nf={readContext:kt,use:Gi,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:am,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Qr(4194308,4,Gx.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){Qr(4,2,e,t)},useMemo:function(e,t){var a=Ft();t=t===void 0?null:t;var l=e();if(ll){gs(!0);try{e()}finally{gs(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ft();if(a!==void 0){var n=a(t);if(ll){gs(!0);try{a(t)}finally{gs(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Pg.bind(null,_e,e),[l.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:function(e){e=wo(e);var t=e.queue,a=af.bind(null,_e,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:kd,useDeferredValue:function(e,t){var a=Ft();return Ld(a,e,t)},useTransition:function(){var e=wo(!1);return e=Px.bind(null,_e,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=_e,n=Ft();if(De){if(a===void 0)throw Error(Z(407));a=a()}else{if(a=t(),Ve===null)throw Error(Z(349));Te&127||Dx(l,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,am(Mx.bind(null,l,r,e),[e]),l.flags|=2048,Xl(9,{destroy:void 0},Rx.bind(null,l,r,a,t),null),a},useId:function(){var e=Ft(),t=Ve.identifierPrefix;if(De){var a=Ua,l=Ma;a=(l&~(1<<32-ua(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=xi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Vg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qd,useFormState:Iu,useActionState:Iu,useOptimistic:function(e){var t=Ft();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Hd.bind(null,_e,!0,a),a.dispatch=t,[e,t]},useMemoCache:Md,useCacheRefresh:function(){return Ft().memoizedState=Jg.bind(null,_e)},useEffectEvent:function(e){var t=Ft(),a={impl:e};return t.memoizedState=a,function(){if(ke&2)throw Error(Z(440));return a.impl.apply(void 0,arguments)}}},Fd={readContext:kt,use:Gi,useCallback:Zx,useContext:kt,useEffect:Bd,useImperativeHandle:Xx,useInsertionEffect:Vx,useLayoutEffect:Yx,useMemo:Kx,useReducer:$r,useRef:$x,useState:function(){return $r(ls)},useDebugValue:kd,useDeferredValue:function(e,t){var a=ht();return Jx(a,$e.memoizedState,e,t)},useTransition:function(){var e=$r(ls)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:dr(e),t]},useSyncExternalStore:Tx,useId:ef,useHostTransitionStatus:qd,useFormState:em,useActionState:em,useOptimistic:function(e,t){var a=ht();return kx(a,$e,e,t)},useMemoCache:Md,useCacheRefresh:tf};Fd.useEffectEvent=Qx;var rf={readContext:kt,use:Gi,useCallback:Zx,useContext:kt,useEffect:Bd,useImperativeHandle:Xx,useInsertionEffect:Vx,useLayoutEffect:Yx,useMemo:Kx,useReducer:Cc,useRef:$x,useState:function(){return Cc(ls)},useDebugValue:kd,useDeferredValue:function(e,t){var a=ht();return $e===null?Ld(a,e,t):Jx(a,$e.memoizedState,e,t)},useTransition:function(){var e=Cc(ls)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:dr(e),t]},useSyncExternalStore:Tx,useId:ef,useHostTransitionStatus:qd,useFormState:tm,useActionState:tm,useOptimistic:function(e,t){var a=ht();return $e!==null?kx(a,$e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:tf};rf.useEffectEvent=Qx;function _c(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:Ie({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Eo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=ma(),n=Cs(l);n.payload=t,a!=null&&(n.callback=a),t=_s(e,n,l),t!==null&&(Jt(t,e,l),Dn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=ma(),n=Cs(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=_s(e,n,l),t!==null&&(Jt(t,e,l),Dn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ma(),l=Cs(a);l.tag=2,t!=null&&(l.callback=t),t=_s(e,l,a),t!==null&&(Jt(t,e,a),Dn(t,e,a))}};function sm(e,t,a,l,n,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,r,i):t.prototype&&t.prototype.isPureReactComponent?!Vn(a,l)||!Vn(n,r):!0}function lm(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function nl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=Ie({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function cf(e){ri(e)}function of(e){console.error(e)}function df(e){ri(e)}function fi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function nm(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ao(e,t,a){return a=Cs(a),a.tag=3,a.payload={element:null},a.callback=function(){fi(e,t)},a}function uf(e){return e=Cs(e),e.tag=3,e}function mf(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=l.value;e.payload=function(){return n(r)},e.callback=function(){nm(t,a,l)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){nm(t,a,l),typeof n!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var c=l.stack;this.componentDidCatch(l.value,{componentStack:c!==null?c:""})})}function Wg(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&sn(t,a,n,!0),a=xa.current,a!==null){switch(a.tag){case 31:case 13:return Sa===null?vi():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===di?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),kc(e,l,n)),!1;case 22:return a.flags|=65536,l===di?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),kc(e,l,n)),!1}throw Error(Z(435,a.tag))}return kc(e,l,n),vi(),!1}if(De)return t=xa.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==fo&&(e=Error(Z(422),{cause:l}),Gn(ja(e,a)))):(l!==fo&&(t=Error(Z(423),{cause:l}),Gn(ja(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=ja(l,a),n=Ao(e.stateNode,l,n),wc(e,n),ct!==4&&(ct=2)),!1;var r=Error(Z(520),{cause:l});if(r=ja(r,a),Ln===null?Ln=[r]:Ln.push(r),ct!==4&&(ct=2),t===null)return!0;l=ja(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Ao(a.stateNode,l,e),wc(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=uf(n),mf(n,e,a,l),wc(a,n),!1}a=a.return}while(a!==null);return!1}var $d=Error(Z(461)),vt=!1;function Mt(e,t,a,l){t.child=e===null?Cx(t,null,a,l):sl(t,e.child,a,l)}function rm(e,t,a,l,n){a=a.render;var r=t.ref;if("ref"in l){var i={};for(var c in l)c!=="ref"&&(i[c]=l[c])}else i=l;return al(t),l=zd(e,t,a,i,r,n),c=Td(),e!==null&&!vt?(Dd(e,t,n),ns(e,t,n)):(De&&c&&Nd(t),t.flags|=1,Mt(e,t,l,n),t.child)}function im(e,t,a,l,n){if(e===null){var r=a.type;return typeof r=="function"&&!jd(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,hf(e,t,r,l,n)):(e=Hr(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Qd(e,n)){var i=r.memoizedProps;if(a=a.compare,a=a!==null?a:Vn,a(i,l)&&e.ref===t.ref)return ns(e,t,n)}return t.flags|=1,e=Ia(r,l),e.ref=t.ref,e.return=t,t.child=e}function hf(e,t,a,l,n){if(e!==null){var r=e.memoizedProps;if(Vn(r,l)&&e.ref===t.ref)if(vt=!1,t.pendingProps=l=r,Qd(e,n))e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,ns(e,t,n)}return Oo(e,t,a,l,n)}function xf(e,t,a,l){var n=l.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~r}else l=0,t.child=null;return cm(e,t,r,a,l)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fr(t,r!==null?r.cachePool:null),r!==null?Ju(t,r):No(),Ax(t);else return l=t.lanes=536870912,cm(e,t,r!==null?r.baseLanes|a:a,a,l)}else r!==null?(Fr(t,r.cachePool),Ju(t,r),fs(),t.memoizedState=null):(e!==null&&Fr(t,null),No(),fs());return Mt(e,t,n,a),t.child}function wn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cm(e,t,a,l,n){var r=Cd();return r=r===null?null:{parent:bt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Fr(t,null),No(),Ax(t),e!==null&&sn(e,t,l,!0),t.childLanes=n,null}function Vr(e,t){return t=pi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function om(e,t,a){return sl(t,e.child,null,a),e=Vr(t,t.pendingProps),e.flags|=2,ra(t),t.memoizedState=null,e}function Ig(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(l.mode==="hidden")return e=Vr(t,l),t.lanes=536870912,wn(null,e);if(So(t),(e=Je)?(e=r0(e,Na),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Ma,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},a=yx(e),a.return=t,t.child=a,Bt=t,Je=null)):e=null,e===null)throw Us(t);return t.lanes=536870912,null}return Vr(t,l)}var r=e.memoizedState;if(r!==null){var i=r.dehydrated;if(So(t),n)if(t.flags&256)t.flags&=-257,t=om(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(Z(558));else if(vt||sn(e,t,a,!1),n=(a&e.childLanes)!==0,vt||n){if(l=Ve,l!==null&&(i=Vh(l,a),i!==0&&i!==r.retryLane))throw r.retryLane=i,dl(e,i),Jt(l,e,i),$d;vi(),t=om(e,t,a)}else e=r.treeContext,Je=wa(i.nextSibling),Bt=t,De=!0,ws=null,Na=!1,e!==null&&vx(t,e),t=Vr(t,l),t.flags|=4096;return t}return e=Ia(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Yr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(Z(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Oo(e,t,a,l,n){return al(t),a=zd(e,t,a,l,void 0,n),l=Td(),e!==null&&!vt?(Dd(e,t,n),ns(e,t,n)):(De&&l&&Nd(t),t.flags|=1,Mt(e,t,a,n),t.child)}function dm(e,t,a,l,n,r){return al(t),t.updateQueue=null,a=zx(t,l,a,n),Ox(e),l=Td(),e!==null&&!vt?(Dd(e,t,r),ns(e,t,r)):(De&&l&&Nd(t),t.flags|=1,Mt(e,t,a,r),t.child)}function um(e,t,a,l,n){if(al(t),t.stateNode===null){var r=Tl,i=a.contextType;typeof i=="object"&&i!==null&&(r=kt(i)),r=new a(l,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Eo,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=l,r.state=t.memoizedState,r.refs={},Ed(t),i=a.contextType,r.context=typeof i=="object"&&i!==null?kt(i):Tl,r.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(_c(t,a,i,l),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&Eo.enqueueReplaceState(r,r.state,null),Mn(t,l,r,n),Rn(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){r=t.stateNode;var c=t.memoizedProps,o=nl(a,c);r.props=o;var d=r.context,u=a.contextType;i=Tl,typeof u=="object"&&u!==null&&(i=kt(u));var h=a.getDerivedStateFromProps;u=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,u||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c||d!==i)&&lm(t,r,l,i),ms=!1;var x=t.memoizedState;r.state=x,Mn(t,l,r,n),Rn(),d=t.memoizedState,c||x!==d||ms?(typeof h=="function"&&(_c(t,a,h,l),d=t.memoizedState),(o=ms||sm(t,a,o,l,x,d,i))?(u||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=d),r.props=l,r.state=d,r.context=i,l=o):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{r=t.stateNode,vo(e,t),i=t.memoizedProps,u=nl(a,i),r.props=u,h=t.pendingProps,x=r.context,d=a.contextType,o=Tl,typeof d=="object"&&d!==null&&(o=kt(d)),c=a.getDerivedStateFromProps,(d=typeof c=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==h||x!==o)&&lm(t,r,l,o),ms=!1,x=t.memoizedState,r.state=x,Mn(t,l,r,n),Rn();var j=t.memoizedState;i!==h||x!==j||ms||e!==null&&e.dependencies!==null&&oi(e.dependencies)?(typeof c=="function"&&(_c(t,a,c,l),j=t.memoizedState),(u=ms||sm(t,a,u,l,x,j,o)||e!==null&&e.dependencies!==null&&oi(e.dependencies))?(d||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,j,o),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,j,o)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=j),r.props=l,r.state=j,r.context=o,l=u):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),l=!1)}return r=l,Yr(e,t),l=(t.flags&128)!==0,r||l?(r=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&l?(t.child=sl(t,e.child,null,n),t.child=sl(t,null,a,n)):Mt(e,t,a,n),t.memoizedState=r.state,e=t.child):e=ns(e,t,n),e}function mm(e,t,a,l){return tl(),t.flags|=256,Mt(e,t,a,l),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ac(e){return{baseLanes:e,cachePool:Nx()}}function Oc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ca),e}function ff(e,t,a){var l=t.pendingProps,n=!1,r=(t.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(n?xs(t):fs(),(e=Je)?(e=r0(e,Na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Ma,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},a=yx(e),a.return=t,t.child=a,Bt=t,Je=null)):e=null,e===null)throw Us(t);return Qo(e)?t.lanes=32:t.lanes=536870912,null}var c=l.children;return l=l.fallback,n?(fs(),n=t.mode,c=pi({mode:"hidden",children:c},n),l=Ps(l,n,a,null),c.return=t,l.return=t,c.sibling=l,t.child=c,l=t.child,l.memoizedState=Ac(a),l.childLanes=Oc(e,i,a),t.memoizedState=Ec,wn(null,l)):(xs(t),zo(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(r)t.flags&256?(xs(t),t.flags&=-257,t=zc(e,t,a)):t.memoizedState!==null?(fs(),t.child=e.child,t.flags|=128,t=null):(fs(),c=l.fallback,n=t.mode,l=pi({mode:"visible",children:l.children},n),c=Ps(c,n,a,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,sl(t,e.child,null,a),l=t.child,l.memoizedState=Ac(a),l.childLanes=Oc(e,i,a),t.memoizedState=Ec,t=wn(null,l));else if(xs(t),Qo(c)){if(i=c.nextSibling&&c.nextSibling.dataset,i)var d=i.dgst;i=d,l=Error(Z(419)),l.stack="",l.digest=i,Gn({value:l,source:null,stack:null}),t=zc(e,t,a)}else if(vt||sn(e,t,a,!1),i=(a&e.childLanes)!==0,vt||i){if(i=Ve,i!==null&&(l=Vh(i,a),l!==0&&l!==o.retryLane))throw o.retryLane=l,dl(e,l),Jt(i,e,l),$d;$o(c)||vi(),t=zc(e,t,a)}else $o(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Je=wa(c.nextSibling),Bt=t,De=!0,ws=null,Na=!1,e!==null&&vx(t,e),t=zo(t,l.children),t.flags|=4096);return t}return n?(fs(),c=l.fallback,n=t.mode,o=e.child,d=o.sibling,l=Ia(o,{mode:"hidden",children:l.children}),l.subtreeFlags=o.subtreeFlags&65011712,d!==null?c=Ia(d,c):(c=Ps(c,n,a,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,wn(null,l),l=t.child,c=e.child.memoizedState,c===null?c=Ac(a):(n=c.cachePool,n!==null?(o=bt._currentValue,n=n.parent!==o?{parent:o,pool:o}:n):n=Nx(),c={baseLanes:c.baseLanes|a,cachePool:n}),l.memoizedState=c,l.childLanes=Oc(e,i,a),t.memoizedState=Ec,wn(e.child,l)):(xs(t),a=e.child,e=a.sibling,a=Ia(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function zo(e,t){return t=pi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pi(e,t){return e=ia(22,e,null,t),e.lanes=0,e}function zc(e,t,a){return sl(t,e.child,null,a),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),go(e.return,t,a)}function Tc(e,t,a,l,n,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=a,i.tailMode=n,i.treeForkCount=r)}function pf(e,t,a){var l=t.pendingProps,n=l.revealOrder,r=l.tail;l=l.children;var i=mt.current,c=(i&2)!==0;if(c?(i=i&1|2,t.flags|=128):i&=1,Ze(mt,i),Mt(e,t,l,a),l=De?Yn:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,a,t);else if(e.tag===19)hm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&mi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Tc(t,!1,n,a,r,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&mi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Tc(t,!0,a,null,r,l);break;case"together":Tc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ns(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ks|=t.lanes,!(a&t.childLanes))if(e!==null){if(sn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,a=Ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Qd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&oi(e)))}function ey(e,t,a){switch(t.tag){case 3:ai(t,t.stateNode.containerInfo),hs(t,bt,e.memoizedState.cache),tl();break;case 27:case 5:so(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:hs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,So(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(t),t.flags|=128,null):a&t.child.childLanes?ff(e,t,a):(xs(t),e=ns(e,t,a),e!==null?e.sibling:null);xs(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(sn(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return pf(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ze(mt,mt.current),l)break;return null;case 22:return t.lanes=0,xf(e,t,a,t.pendingProps);case 24:hs(t,bt,e.memoizedState.cache)}return ns(e,t,a)}function gf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!Qd(e,a)&&!(t.flags&128))return vt=!1,ey(e,t,a);vt=!!(e.flags&131072)}else vt=!1,De&&t.flags&1048576&&bx(t,Yn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Xs(t.elementType),t.type=e,typeof e=="function")jd(e)?(l=nl(e,l),t.tag=1,t=um(null,t,e,l,a)):(t.tag=0,t=Oo(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===id){t.tag=11,t=rm(null,t,e,l,a);break e}else if(n===cd){t.tag=14,t=im(null,t,e,l,a);break e}}throw t=to(e)||e,Error(Z(306,t,""))}}return t;case 0:return Oo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=nl(l,t.pendingProps),um(e,t,l,n,a);case 3:e:{if(ai(t,t.stateNode.containerInfo),e===null)throw Error(Z(387));l=t.pendingProps;var r=t.memoizedState;n=r.element,vo(e,t),Mn(t,l,null,a);var i=t.memoizedState;if(l=i.cache,hs(t,bt,l),l!==r.cache&&yo(t,[bt],a,!0),Rn(),l=i.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=mm(e,t,l,a);break e}else if(l!==n){n=ja(Error(Z(424)),t),Gn(n),t=mm(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=wa(e.firstChild),Bt=t,De=!0,ws=null,Na=!0,a=Cx(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===n){t=ns(e,t,a);break e}Mt(e,t,l,a)}t=t.child}return t;case 26:return Yr(e,t),e===null?(a=Rm(t.type,null,t.pendingProps,null))?t.memoizedState=a:De||(a=t.type,e=t.pendingProps,l=wi(Ss.current).createElement(a),l[Ut]=t,l[Wt]=e,Lt(l,a,e),Ot(l),t.stateNode=l):t.memoizedState=Rm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return so(t),e===null&&De&&(l=t.stateNode=i0(t.type,t.pendingProps,Ss.current),Bt=t,Na=!0,n=Je,qs(t.type)?(Vo=n,Je=wa(l.firstChild)):Je=n),Mt(e,t,t.pendingProps.children,a),Yr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((n=l=Je)&&(l=zy(l,t.type,t.pendingProps,Na),l!==null?(t.stateNode=l,Bt=t,Je=wa(l.firstChild),Na=!1,n=!0):n=!1),n||Us(t)),so(t),n=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,Ho(n,r)?l=null:i!==null&&Ho(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=zd(e,t,Yg,null,null,a),Wn._currentValue=n),Yr(e,t),Mt(e,t,l,a),t.child;case 6:return e===null&&De&&((e=a=Je)&&(a=Ty(a,t.pendingProps,Na),a!==null?(t.stateNode=a,Bt=t,Je=null,e=!0):e=!1),e||Us(t)),null;case 13:return ff(e,t,a);case 4:return ai(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=sl(t,null,l,a):Mt(e,t,l,a),t.child;case 11:return rm(e,t,t.type,t.pendingProps,a);case 7:return Mt(e,t,t.pendingProps,a),t.child;case 8:return Mt(e,t,t.pendingProps.children,a),t.child;case 12:return Mt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,hs(t,t.type,l.value),Mt(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,al(t),n=kt(n),l=l(n),t.flags|=1,Mt(e,t,l,a),t.child;case 14:return im(e,t,t.type,t.pendingProps,a);case 15:return hf(e,t,t.type,t.pendingProps,a);case 19:return pf(e,t,a);case 31:return Ig(e,t,a);case 22:return xf(e,t,a,t.pendingProps);case 24:return al(t),l=kt(bt),e===null?(n=Cd(),n===null&&(n=Ve,r=wd(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:l,cache:n},Ed(t),hs(t,bt,n)):(e.lanes&a&&(vo(e,t),Mn(t,null,null,a),Rn()),n=e.memoizedState,r=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),hs(t,bt,l)):(l=r.cache,hs(t,bt,l),l!==n.cache&&yo(t,[bt],a,!0))),Mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(Z(156,t.tag))}function Qa(e){e.flags|=4}function Dc(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Ff())e.flags|=8192;else throw Is=di,_d}else e.flags&=-16777217}function xm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!d0(t))if(Ff())e.flags|=8192;else throw Is=di,_d}function Or(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fh():536870912,e.lanes|=t,Zl|=t)}function gn(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function ty(e,t,a){var l=t.pendingProps;switch(Sd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),es(bt),$l(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pl(t)?Qa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sc())),Ke(t),null;case 26:var n=t.type,r=t.memoizedState;return e===null?(Qa(t),r!==null?(Ke(t),xm(t,r)):(Ke(t),Dc(t,n,null,l,a))):r?r!==e.memoizedState?(Qa(t),Ke(t),xm(t,r)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Qa(t),Ke(t),Dc(t,n,e,l,a)),null;case 27:if(si(t),a=Ss.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Qa(t);else{if(!l){if(t.stateNode===null)throw Error(Z(166));return Ke(t),null}e=ka.current,pl(t)?Qu(t):(e=i0(n,l,a),t.stateNode=e,Qa(t))}return Ke(t),null;case 5:if(si(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Qa(t);else{if(!l){if(t.stateNode===null)throw Error(Z(166));return Ke(t),null}if(r=ka.current,pl(t))Qu(t);else{var i=wi(Ss.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?i.createElement("select",{is:l.is}):i.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?i.createElement(n,{is:l.is}):i.createElement(n)}}r[Ut]=t,r[Wt]=l;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=r;e:switch(Lt(r,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qa(t)}}return Ke(t),Dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Qa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(Z(166));if(e=Ss.current,pl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=Bt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s0(e.nodeValue,a)),e||Us(t,!0)}else e=wi(e).createTextNode(l),e[Ut]=t,t.stateNode=e}return Ke(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=pl(t),a!==null){if(e===null){if(!l)throw Error(Z(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(557));e[Ut]=t}else tl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else a=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ra(t),t):(ra(t),null);if(t.flags&128)throw Error(Z(558))}return Ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=pl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(Z(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Z(317));n[Ut]=t}else tl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),n=!1}else n=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(ra(t),t):(ra(t),null)}return ra(t),t.flags&128?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Or(t,t.updateQueue),Ke(t),null);case 4:return $l(),e===null&&Jd(t.stateNode.containerInfo),Ke(t),null;case 10:return es(t.type),Ke(t),null;case 19:if(zt(mt),l=t.memoizedState,l===null)return Ke(t),null;if(n=(t.flags&128)!==0,r=l.rendering,r===null)if(n)gn(l,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=mi(e),r!==null){for(t.flags|=128,gn(l,!1),e=r.updateQueue,t.updateQueue=e,Or(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)gx(a,e),a=a.sibling;return Ze(mt,mt.current&1|2),De&&Xa(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&oa()>yi&&(t.flags|=128,n=!0,gn(l,!1),t.lanes=4194304)}else{if(!n)if(e=mi(r),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Or(t,e),gn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!De)return Ke(t),null}else 2*oa()-l.renderingStartTime>yi&&a!==536870912&&(t.flags|=128,n=!0,gn(l,!1),t.lanes=4194304);l.isBackwards?(r.sibling=t.child,t.child=r):(e=l.last,e!==null?e.sibling=r:t.child=r,l.last=r)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=oa(),e.sibling=null,a=mt.current,Ze(mt,n?a&1|2:a&1),De&&Xa(t,l.treeForkCount),e):(Ke(t),null);case 22:case 23:return ra(t),Ad(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?a&536870912&&!(t.flags&128)&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),a=t.updateQueue,a!==null&&Or(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&zt(Ws),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),es(bt),Ke(t),null;case 25:return null;case 30:return null}throw Error(Z(156,t.tag))}function ay(e,t){switch(Sd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(bt),$l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return si(t),null;case 31:if(t.memoizedState!==null){if(ra(t),t.alternate===null)throw Error(Z(340));tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(mt),null;case 4:return $l(),null;case 10:return es(t.type),null;case 22:case 23:return ra(t),Ad(),e!==null&&zt(Ws),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return es(bt),null;case 25:return null;default:return null}}function yf(e,t){switch(Sd(t),t.tag){case 3:es(bt),$l();break;case 26:case 27:case 5:si(t);break;case 4:$l();break;case 31:t.memoizedState!==null&&ra(t);break;case 13:ra(t);break;case 19:zt(mt);break;case 10:es(t.type);break;case 22:case 23:ra(t),Ad(),e!==null&&zt(Ws);break;case 24:es(bt)}}function ur(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var r=a.create,i=a.inst;l=r(),i.destroy=l}a=a.next}while(a!==n)}}catch(c){He(t,t.return,c)}}function Bs(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var r=n.next;l=r;do{if((l.tag&e)===e){var i=l.inst,c=i.destroy;if(c!==void 0){i.destroy=void 0,n=t;var o=a,d=c;try{d()}catch(u){He(n,o,u)}}}l=l.next}while(l!==r)}}catch(u){He(t,t.return,u)}}function bf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ex(t,a)}catch(l){He(e,e.return,l)}}}function vf(e,t,a){a.props=nl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){He(e,t,l)}}function Bn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){He(e,t,n)}}function Ba(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){He(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){He(e,t,n)}else a.current=null}function jf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){He(e,e.return,n)}}function Rc(e,t,a){try{var l=e.stateNode;wy(l,e.type,a,t),l[Wt]=t}catch(n){He(e,e.return,n)}}function Nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function To(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ja));else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(To(e,t,a),e=e.sibling;e!==null;)To(e,t,a),e=e.sibling}function gi(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(gi(e,t,a),e=e.sibling;e!==null;)gi(e,t,a),e=e.sibling}function Sf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Lt(t,l,a),t[Ut]=e,t[Wt]=a}catch(r){He(e,e.return,r)}}var Za=!1,yt=!1,Uc=!1,fm=typeof WeakSet=="function"?WeakSet:Set,At=null;function sy(e,t){if(e=e.containerInfo,Lo=Ai,e=ox(e),yd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var i=0,c=-1,o=-1,d=0,u=0,h=e,x=null;t:for(;;){for(var j;h!==a||n!==0&&h.nodeType!==3||(c=i+n),h!==r||l!==0&&h.nodeType!==3||(o=i+l),h.nodeType===3&&(i+=h.nodeValue.length),(j=h.firstChild)!==null;)x=h,h=j;for(;;){if(h===e)break t;if(x===a&&++d===n&&(c=i),x===r&&++u===l&&(o=i),(j=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=j}a=c===-1||o===-1?null:{start:c,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(qo={focusedElem:e,selectionRange:a},Ai=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,l=a.stateNode;try{var S=nl(a.type,n);e=l.getSnapshotBeforeUpdate(S,r),l.__reactInternalSnapshotBeforeUpdate=e}catch(N){He(a,a.return,N)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Fo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Z(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function wf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ya(e,a),l&4&&ur(5,a);break;case 1:if(Ya(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){He(a,a.return,i)}else{var n=nl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){He(a,a.return,i)}}l&64&&bf(a),l&512&&Bn(a,a.return);break;case 3:if(Ya(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ex(e,t)}catch(i){He(a,a.return,i)}}break;case 27:t===null&&l&4&&Sf(a);case 26:case 5:Ya(e,a),t===null&&l&4&&jf(a),l&512&&Bn(a,a.return);break;case 12:Ya(e,a);break;case 31:Ya(e,a),l&4&&Ef(e,a);break;case 13:Ya(e,a),l&4&&Af(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=my.bind(null,a),Dy(e,a))));break;case 22:if(l=a.memoizedState!==null||Za,!l){t=t!==null&&t.memoizedState!==null||yt,n=Za;var r=yt;Za=l,(yt=t)&&!r?Ga(e,a,(a.subtreeFlags&8772)!==0):Ya(e,a),Za=n,yt=r}break;case 30:break;default:Ya(e,a)}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&md(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,Zt=!1;function Va(e,t,a){for(a=a.child;a!==null;)_f(e,t,a),a=a.sibling}function _f(e,t,a){if(da&&typeof da.onCommitFiberUnmount=="function")try{da.onCommitFiberUnmount(lr,a)}catch{}switch(a.tag){case 26:yt||Ba(a,t),Va(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||Ba(a,t);var l=at,n=Zt;qs(a.type)&&(at=a.stateNode,Zt=!1),Va(e,t,a),Hn(a.stateNode),at=l,Zt=n;break;case 5:yt||Ba(a,t);case 6:if(l=at,n=Zt,at=null,Va(e,t,a),at=l,Zt=n,at!==null)if(Zt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(r){He(a,t,r)}else try{at.removeChild(a.stateNode)}catch(r){He(a,t,r)}break;case 18:at!==null&&(Zt?(e=at,Am(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Wl(e)):Am(at,a.stateNode));break;case 4:l=at,n=Zt,at=a.stateNode.containerInfo,Zt=!0,Va(e,t,a),at=l,Zt=n;break;case 0:case 11:case 14:case 15:Bs(2,a,t),yt||Bs(4,a,t),Va(e,t,a);break;case 1:yt||(Ba(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vf(a,t,l)),Va(e,t,a);break;case 21:Va(e,t,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Va(e,t,a),yt=l;break;default:Va(e,t,a)}}function Ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wl(e)}catch(a){He(t,t.return,a)}}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(a){He(t,t.return,a)}}function ly(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fm),t;default:throw Error(Z(435,e.tag))}}function zr(e,t){var a=ly(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=hy.bind(null,e,l);l.then(n,n)}})}function Gt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],r=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 27:if(qs(c.type)){at=c.stateNode,Zt=!1;break e}break;case 5:at=c.stateNode,Zt=!1;break e;case 3:case 4:at=c.stateNode.containerInfo,Zt=!0;break e}c=c.return}if(at===null)throw Error(Z(160));_f(r,i,n),at=null,Zt=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Of(t,e),t=t.sibling}var Aa=null;function Of(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(t,e),Xt(e),l&4&&(Bs(3,e,e.return),ur(3,e),Bs(5,e,e.return));break;case 1:Gt(t,e),Xt(e),l&512&&(yt||a===null||Ba(a,a.return)),l&64&&Za&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Aa;if(Gt(t,e),Xt(e),l&512&&(yt||a===null||Ba(a,a.return)),l&4){var r=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":r=n.getElementsByTagName("title")[0],(!r||r[ir]||r[Ut]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(l),n.head.insertBefore(r,n.querySelector("head > title"))),Lt(r,l,a),r[Ut]=e,Ot(r),l=r;break e;case"link":var i=Um("link","href",n).get(l+(a.href||""));if(i){for(var c=0;c<i.length;c++)if(r=i[c],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(c,1);break t}}r=n.createElement(l),Lt(r,l,a),n.head.appendChild(r);break;case"meta":if(i=Um("meta","content",n).get(l+(a.content||""))){for(c=0;c<i.length;c++)if(r=i[c],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(c,1);break t}}r=n.createElement(l),Lt(r,l,a),n.head.appendChild(r);break;default:throw Error(Z(468,l))}r[Ut]=e,Ot(r),l=r}e.stateNode=l}else Bm(n,e.type,e.stateNode);else e.stateNode=Mm(n,l,e.memoizedProps);else r!==l?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,l===null?Bm(n,e.type,e.stateNode):Mm(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Gt(t,e),Xt(e),l&512&&(yt||a===null||Ba(a,a.return)),a!==null&&l&4&&Rc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Gt(t,e),Xt(e),l&512&&(yt||a===null||Ba(a,a.return)),e.flags&32){n=e.stateNode;try{Vl(n,"")}catch(S){He(e,e.return,S)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Rc(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Uc=!0);break;case 6:if(Gt(t,e),Xt(e),l&4){if(e.stateNode===null)throw Error(Z(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(S){He(e,e.return,S)}}break;case 3:if(Zr=null,n=Aa,Aa=Ci(t.containerInfo),Gt(t,e),Aa=n,Xt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(S){He(e,e.return,S)}Uc&&(Uc=!1,zf(e));break;case 4:l=Aa,Aa=Ci(e.stateNode.containerInfo),Gt(t,e),Xt(e),Aa=l;break;case 12:Gt(t,e),Xt(e);break;case 31:Gt(t,e),Xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zr(e,l)));break;case 13:Gt(t,e),Xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ki=oa()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zr(e,l)));break;case 22:n=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,d=Za,u=yt;if(Za=d||n,yt=u||o,Gt(t,e),yt=u,Za=d,Xt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||o||Za||yt||Zs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(r=o.stateNode,n)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{c=o.stateNode;var h=o.memoizedProps.style,x=h!=null&&h.hasOwnProperty("display")?h.display:null;c.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(S){He(o,o.return,S)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=n?"":o.memoizedProps}catch(S){He(o,o.return,S)}}}else if(t.tag===18){if(a===null){o=t;try{var j=o.stateNode;n?Om(j,!0):Om(o.stateNode,!1)}catch(S){He(o,o.return,S)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zr(e,a))));break;case 19:Gt(t,e),Xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zr(e,l)));break;case 30:break;case 21:break;default:Gt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Nf(l)){a=l;break}l=l.return}if(a==null)throw Error(Z(160));switch(a.tag){case 27:var n=a.stateNode,r=Mc(e);gi(e,r,n);break;case 5:var i=a.stateNode;a.flags&32&&(Vl(i,""),a.flags&=-33);var c=Mc(e);gi(e,c,i);break;case 3:case 4:var o=a.stateNode.containerInfo,d=Mc(e);To(e,d,o);break;default:throw Error(Z(161))}}catch(u){He(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;zf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wf(e,t.alternate,t),t=t.sibling}function Zs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bs(4,t,t.return),Zs(t);break;case 1:Ba(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&vf(t,t.return,a),Zs(t);break;case 27:Hn(t.stateNode);case 26:case 5:Ba(t,t.return),Zs(t);break;case 22:t.memoizedState===null&&Zs(t);break;case 30:Zs(t);break;default:Zs(t)}e=e.sibling}}function Ga(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:Ga(n,r,a),ur(4,r);break;case 1:if(Ga(n,r,a),l=r,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(d){He(l,l.return,d)}if(l=r,n=l.updateQueue,n!==null){var c=l.stateNode;try{var o=n.shared.hiddenCallbacks;if(o!==null)for(n.shared.hiddenCallbacks=null,n=0;n<o.length;n++)_x(o[n],c)}catch(d){He(l,l.return,d)}}a&&i&64&&bf(r),Bn(r,r.return);break;case 27:Sf(r);case 26:case 5:Ga(n,r,a),a&&l===null&&i&4&&jf(r),Bn(r,r.return);break;case 12:Ga(n,r,a);break;case 31:Ga(n,r,a),a&&i&4&&Ef(n,r);break;case 13:Ga(n,r,a),a&&i&4&&Af(n,r);break;case 22:r.memoizedState===null&&Ga(n,r,a),Bn(r,r.return);break;case 30:break;default:Ga(n,r,a)}t=t.sibling}}function Vd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&or(a))}function Yd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&or(e))}function Ea(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tf(e,t,a,l),t=t.sibling}function Tf(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ea(e,t,a,l),n&2048&&ur(9,t);break;case 1:Ea(e,t,a,l);break;case 3:Ea(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&or(e)));break;case 12:if(n&2048){Ea(e,t,a,l),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,c=r.onPostCommit;typeof c=="function"&&c(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){He(t,t.return,o)}}else Ea(e,t,a,l);break;case 31:Ea(e,t,a,l);break;case 13:Ea(e,t,a,l);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,t.memoizedState!==null?r._visibility&2?Ea(e,t,a,l):kn(e,t):r._visibility&2?Ea(e,t,a,l):(r._visibility|=2,vl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Vd(i,t);break;case 24:Ea(e,t,a,l),n&2048&&Yd(t.alternate,t);break;default:Ea(e,t,a,l)}}function vl(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,i=t,c=a,o=l,d=i.flags;switch(i.tag){case 0:case 11:case 15:vl(r,i,c,o,n),ur(8,i);break;case 23:break;case 22:var u=i.stateNode;i.memoizedState!==null?u._visibility&2?vl(r,i,c,o,n):kn(r,i):(u._visibility|=2,vl(r,i,c,o,n)),n&&d&2048&&Vd(i.alternate,i);break;case 24:vl(r,i,c,o,n),n&&d&2048&&Yd(i.alternate,i);break;default:vl(r,i,c,o,n)}t=t.sibling}}function kn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:kn(a,l),n&2048&&Vd(l.alternate,l);break;case 24:kn(a,l),n&2048&&Yd(l.alternate,l);break;default:kn(a,l)}t=t.sibling}}var Cn=8192;function gl(e,t,a){if(e.subtreeFlags&Cn)for(e=e.child;e!==null;)Df(e,t,a),e=e.sibling}function Df(e,t,a){switch(e.tag){case 26:gl(e,t,a),e.flags&Cn&&e.memoizedState!==null&&Vy(a,Aa,e.memoizedState,e.memoizedProps);break;case 5:gl(e,t,a);break;case 3:case 4:var l=Aa;Aa=Ci(e.stateNode.containerInfo),gl(e,t,a),Aa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cn,Cn=16777216,gl(e,t,a),Cn=l):gl(e,t,a));break;default:gl(e,t,a)}}function Rf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function yn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];At=l,Uf(l,e)}Rf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mf(e),e=e.sibling}function Mf(e){switch(e.tag){case 0:case 11:case 15:yn(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:yn(e);break;case 12:yn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gr(e)):yn(e);break;default:yn(e)}}function Gr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];At=l,Uf(l,e)}Rf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bs(8,t,t.return),Gr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Gr(t));break;default:Gr(t)}e=e.sibling}}function Uf(e,t){for(;At!==null;){var a=At;switch(a.tag){case 0:case 11:case 15:Bs(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:or(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,At=l;else e:for(a=e;At!==null;){l=At;var n=l.sibling,r=l.return;if(Cf(l),l===a){At=null;break e}if(n!==null){n.return=r,At=n;break e}At=r}}}var ny={getCacheForType:function(e){var t=kt(bt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return kt(bt).controller.signal}},ry=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ve=null,Oe=null,Te=0,qe=0,na=null,bs=!1,nn=!1,Gd=!1,rs=0,ct=0,ks=0,el=0,Xd=0,ca=0,Zl=0,Ln=null,Kt=null,Do=!1,Ki=0,Bf=0,yi=1/0,bi=null,Es=null,St=0,As=null,Kl=null,ts=0,Ro=0,Mo=null,kf=null,qn=0,Uo=null;function ma(){return ke&2&&Te!==0?Te&-Te:be.T!==null?Kd():Yh()}function Lf(){if(ca===0)if(!(Te&536870912)||De){var e=Nr;Nr<<=1,!(Nr&3932160)&&(Nr=262144),ca=e}else ca=536870912;return e=xa.current,e!==null&&(e.flags|=32),ca}function Jt(e,t,a){(e===Ve&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(Jl(e,0),vs(e,Te,ca,!1)),rr(e,a),(!(ke&2)||e!==Ve)&&(e===Ve&&(!(ke&2)&&(el|=a),ct===4&&vs(e,Te,ca,!1)),qa(e))}function qf(e,t,a){if(ke&6)throw Error(Z(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||nr(e,t),n=l?oy(e,t):Bc(e,t,!0),r=l;do{if(n===0){nn&&!l&&vs(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!iy(a)){n=Bc(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var c=e;n=Ln;var o=c.current.memoizedState.isDehydrated;if(o&&(Jl(c,i).flags|=256),i=Bc(c,i,!1),i!==2){if(Gd&&!o){c.errorRecoveryDisabledLanes|=r,el|=r,n=4;break e}r=Kt,Kt=n,r!==null&&(Kt===null?Kt=r:Kt.push.apply(Kt,r))}n=i}if(r=!1,n!==2)continue}}if(n===1){Jl(e,0),vs(e,t,0,!0);break}e:{switch(l=e,r=n,r){case 0:case 1:throw Error(Z(345));case 4:if((t&4194048)!==t)break;case 6:vs(l,t,ca,!bs);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(Z(329))}if((t&62914560)===t&&(n=Ki+300-oa(),10<n)){if(vs(l,t,ca,!bs),Li(l,0,!0)!==0)break e;ts=t,l.timeoutHandle=n0(pm.bind(null,l,a,Kt,bi,Do,t,ca,el,Zl,bs,r,"Throttled",-0,0),n);break e}pm(l,a,Kt,bi,Do,t,ca,el,Zl,bs,r,null,-0,0)}}break}while(1);qa(e)}function pm(e,t,a,l,n,r,i,c,o,d,u,h,x,j){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ja},Df(t,r,h);var S=(r&62914560)===r?Ki-oa():(r&4194048)===r?Bf-oa():0;if(S=Yy(h,S),S!==null){ts=r,e.cancelPendingCommit=S(ym.bind(null,e,t,r,a,l,n,i,c,o,u,h,null,x,j)),vs(e,r,i,!d);return}}ym(e,t,r,a,l,n,i,c,o)}function iy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],r=n.getSnapshot;n=n.value;try{if(!ha(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vs(e,t,a,l){t&=~Xd,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var r=31-ua(n),i=1<<r;l[r]=-1,n&=~i}a!==0&&$h(e,a,t)}function Ji(){return ke&6?!0:(mr(0,!1),!1)}function Zd(){if(Oe!==null){if(qe===0)var e=Oe.return;else e=Oe,Pa=ul=null,Rd(e),ql=null,Xn=0,e=Oe;for(;e!==null;)yf(e.alternate,e),e=e.return;Oe=null}}function Jl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ey(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ts=0,Zd(),Ve=e,Oe=a=Ia(e.current,null),Te=t,qe=0,na=null,bs=!1,nn=nr(e,t),Gd=!1,Zl=ca=Xd=el=ks=ct=0,Kt=Ln=null,Do=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-ua(l),r=1<<n;t|=e[n],l&=~r}return rs=t,$i(),a}function Hf(e,t){_e=null,be.H=Kn,t===ln||t===Vi?(t=Zu(),qe=3):t===_d?(t=Zu(),qe=4):qe=t===$d?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,na=t,Oe===null&&(ct=1,fi(e,ja(t,e.current)))}function Ff(){var e=xa.current;return e===null?!0:(Te&4194048)===Te?Sa===null:(Te&62914560)===Te||Te&536870912?e===Sa:!1}function $f(){var e=be.H;return be.H=Kn,e===null?Kn:e}function Qf(){var e=be.A;return be.A=ny,e}function vi(){ct=4,bs||(Te&4194048)!==Te&&xa.current!==null||(nn=!0),!(ks&134217727)&&!(el&134217727)||Ve===null||vs(Ve,Te,ca,!1)}function Bc(e,t,a){var l=ke;ke|=2;var n=$f(),r=Qf();(Ve!==e||Te!==t)&&(bi=null,Jl(e,t)),t=!1;var i=ct;e:do try{if(qe!==0&&Oe!==null){var c=Oe,o=na;switch(qe){case 8:Zd(),i=6;break e;case 3:case 2:case 9:case 6:xa.current===null&&(t=!0);var d=qe;if(qe=0,na=null,Ml(e,c,o,d),a&&nn){i=0;break e}break;default:d=qe,qe=0,na=null,Ml(e,c,o,d)}}cy(),i=ct;break}catch(u){Hf(e,u)}while(1);return t&&e.shellSuspendCounter++,Pa=ul=null,ke=l,be.H=n,be.A=r,Oe===null&&(Ve=null,Te=0,$i()),i}function cy(){for(;Oe!==null;)Vf(Oe)}function oy(e,t){var a=ke;ke|=2;var l=$f(),n=Qf();Ve!==e||Te!==t?(bi=null,yi=oa()+500,Jl(e,t)):nn=nr(e,t);e:do try{if(qe!==0&&Oe!==null){t=Oe;var r=na;t:switch(qe){case 1:qe=0,na=null,Ml(e,t,r,1);break;case 2:case 9:if(Xu(r)){qe=0,na=null,gm(t);break}t=function(){qe!==2&&qe!==9||Ve!==e||(qe=7),qa(e)},r.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Xu(r)?(qe=0,na=null,gm(t)):(qe=0,na=null,Ml(e,t,r,7));break;case 5:var i=null;switch(Oe.tag){case 26:i=Oe.memoizedState;case 5:case 27:var c=Oe;if(i?d0(i):c.stateNode.complete){qe=0,na=null;var o=c.sibling;if(o!==null)Oe=o;else{var d=c.return;d!==null?(Oe=d,Pi(d)):Oe=null}break t}}qe=0,na=null,Ml(e,t,r,5);break;case 6:qe=0,na=null,Ml(e,t,r,6);break;case 8:Zd(),ct=6;break e;default:throw Error(Z(462))}}dy();break}catch(u){Hf(e,u)}while(1);return Pa=ul=null,be.H=l,be.A=n,ke=a,Oe!==null?0:(Ve=null,Te=0,$i(),ct)}function dy(){for(;Oe!==null&&!Rp();)Vf(Oe)}function Vf(e){var t=gf(e.alternate,e,rs);e.memoizedProps=e.pendingProps,t===null?Pi(e):Oe=t}function gm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=dm(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=dm(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Rd(t);default:yf(a,t),t=Oe=gx(t,rs),t=gf(a,t,rs)}e.memoizedProps=e.pendingProps,t===null?Pi(e):Oe=t}function Ml(e,t,a,l){Pa=ul=null,Rd(t),ql=null,Xn=0;var n=t.return;try{if(Wg(e,n,t,a,Te)){ct=1,fi(e,ja(a,e.current)),Oe=null;return}}catch(r){if(n!==null)throw Oe=n,r;ct=1,fi(e,ja(a,e.current)),Oe=null;return}t.flags&32768?(De||l===1?e=!0:nn||Te&536870912?e=!1:(bs=e=!0,(l===2||l===9||l===3||l===6)&&(l=xa.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yf(t,e)):Pi(t)}function Pi(e){var t=e;do{if(t.flags&32768){Yf(t,bs);return}e=t.return;var a=ty(t.alternate,t,rs);if(a!==null){Oe=a;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ct===0&&(ct=5)}function Yf(e,t){do{var a=ay(e.alternate,e);if(a!==null){a.flags&=32767,Oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=a}while(e!==null);ct=6,Oe=null}function ym(e,t,a,l,n,r,i,c,o){e.cancelPendingCommit=null;do Wi();while(St!==0);if(ke&6)throw Error(Z(327));if(t!==null){if(t===e.current)throw Error(Z(177));if(r=t.lanes|t.childLanes,r|=bd,Qp(e,a,r,i,c,o),e===Ve&&(Oe=Ve=null,Te=0),Kl=t,As=e,ts=a,Ro=r,Mo=n,kf=l,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,xy(li,function(){return Jf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,t.subtreeFlags&13878||l){l=be.T,be.T=null,n=Le.p,Le.p=2,i=ke,ke|=4;try{sy(e,t,a)}finally{ke=i,Le.p=n,be.T=l}}St=1,Gf(),Xf(),Zf()}}function Gf(){if(St===1){St=0;var e=As,t=Kl,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=be.T,be.T=null;var l=Le.p;Le.p=2;var n=ke;ke|=4;try{Of(t,e);var r=qo,i=ox(e.containerInfo),c=r.focusedElem,o=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&cx(c.ownerDocument.documentElement,c)){if(o!==null&&yd(c)){var d=o.start,u=o.end;if(u===void 0&&(u=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(u,c.value.length);else{var h=c.ownerDocument||document,x=h&&h.defaultView||window;if(x.getSelection){var j=x.getSelection(),S=c.textContent.length,N=Math.min(o.start,S),v=o.end===void 0?N:Math.min(o.end,S);!j.extend&&N>v&&(i=v,v=N,N=i);var g=Hu(c,N),f=Hu(c,v);if(g&&f&&(j.rangeCount!==1||j.anchorNode!==g.node||j.anchorOffset!==g.offset||j.focusNode!==f.node||j.focusOffset!==f.offset)){var p=h.createRange();p.setStart(g.node,g.offset),j.removeAllRanges(),N>v?(j.addRange(p),j.extend(f.node,f.offset)):(p.setEnd(f.node,f.offset),j.addRange(p))}}}}for(h=[],j=c;j=j.parentNode;)j.nodeType===1&&h.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<h.length;c++){var y=h[c];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}Ai=!!Lo,qo=Lo=null}finally{ke=n,Le.p=l,be.T=a}}e.current=t,St=2}}function Xf(){if(St===2){St=0;var e=As,t=Kl,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=be.T,be.T=null;var l=Le.p;Le.p=2;var n=ke;ke|=4;try{wf(e,t.alternate,t)}finally{ke=n,Le.p=l,be.T=a}}St=3}}function Zf(){if(St===4||St===3){St=0,Mp();var e=As,t=Kl,a=ts,l=kf;t.subtreeFlags&10256||t.flags&10256?St=5:(St=0,Kl=As=null,Kf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Es=null),ud(a),t=t.stateNode,da&&typeof da.onCommitFiberRoot=="function")try{da.onCommitFiberRoot(lr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=be.T,n=Le.p,Le.p=2,be.T=null;try{for(var r=e.onRecoverableError,i=0;i<l.length;i++){var c=l[i];r(c.value,{componentStack:c.stack})}}finally{be.T=t,Le.p=n}}ts&3&&Wi(),qa(e),n=e.pendingLanes,a&261930&&n&42?e===Uo?qn++:(qn=0,Uo=e):qn=0,mr(0,!1)}}function Kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,or(t)))}function Wi(){return Gf(),Xf(),Zf(),Jf()}function Jf(){if(St!==5)return!1;var e=As,t=Ro;Ro=0;var a=ud(ts),l=be.T,n=Le.p;try{Le.p=32>a?32:a,be.T=null,a=Mo,Mo=null;var r=As,i=ts;if(St=0,Kl=As=null,ts=0,ke&6)throw Error(Z(331));var c=ke;if(ke|=4,Mf(r.current),Tf(r,r.current,i,a),ke=c,mr(0,!1),da&&typeof da.onPostCommitFiberRoot=="function")try{da.onPostCommitFiberRoot(lr,r)}catch{}return!0}finally{Le.p=n,be.T=l,Kf(e,t)}}function bm(e,t,a){t=ja(a,t),t=Ao(e.stateNode,t,2),e=_s(e,t,2),e!==null&&(rr(e,2),qa(e))}function He(e,t,a){if(e.tag===3)bm(e,e,a);else for(;t!==null;){if(t.tag===3){bm(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){e=ja(a,e),a=uf(2),l=_s(t,a,2),l!==null&&(mf(a,l,t,e),rr(l,2),qa(l));break}}t=t.return}}function kc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ry;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Gd=!0,n.add(a),e=uy.bind(null,e,t,a),t.then(e,e))}function uy(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(Te&a)===a&&(ct===4||ct===3&&(Te&62914560)===Te&&300>oa()-Ki?!(ke&2)&&Jl(e,0):Xd|=a,Zl===Te&&(Zl=0)),qa(e)}function Pf(e,t){t===0&&(t=Fh()),e=dl(e,t),e!==null&&(rr(e,t),qa(e))}function my(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Pf(e,a)}function hy(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(Z(314))}l!==null&&l.delete(t),Pf(e,a)}function xy(e,t){return od(e,t)}var ji=null,jl=null,Bo=!1,Ni=!1,Lc=!1,js=0;function qa(e){e!==jl&&e.next===null&&(jl===null?ji=jl=e:jl=jl.next=e),Ni=!0,Bo||(Bo=!0,py())}function mr(e,t){if(!Lc&&Ni){Lc=!0;do for(var a=!1,l=ji;l!==null;){if(!t)if(e!==0){var n=l.pendingLanes;if(n===0)var r=0;else{var i=l.suspendedLanes,c=l.pingedLanes;r=(1<<31-ua(42|e)+1)-1,r&=n&~(i&~c),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,vm(l,r))}else r=Te,r=Li(l,l===Ve?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(r&3)||nr(l,r)||(a=!0,vm(l,r));l=l.next}while(a);Lc=!1}}function fy(){Wf()}function Wf(){Ni=Bo=!1;var e=0;js!==0&&_y()&&(e=js);for(var t=oa(),a=null,l=ji;l!==null;){var n=l.next,r=If(l,t);r===0?(l.next=null,a===null?ji=n:a.next=n,n===null&&(jl=a)):(a=l,(e!==0||r&3)&&(Ni=!0)),l=n}St!==0&&St!==5||mr(e,!1),js!==0&&(js=0)}function If(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-ua(r),c=1<<i,o=n[i];o===-1?(!(c&a)||c&l)&&(n[i]=$p(c,t)):o<=t&&(e.expiredLanes|=c),r&=~c}if(t=Ve,a=Te,a=Li(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&mc(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||nr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&mc(l),ud(a)){case 2:case 8:a=qh;break;case 32:a=li;break;case 268435456:a=Hh;break;default:a=li}return l=e0.bind(null,e),a=od(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&mc(l),e.callbackPriority=2,e.callbackNode=null,2}function e0(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wi()&&e.callbackNode!==a)return null;var l=Te;return l=Li(e,e===Ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(qf(e,l,t),If(e,oa()),e.callbackNode!=null&&e.callbackNode===a?e0.bind(null,e):null)}function vm(e,t){if(Wi())return null;qf(e,t,!0)}function py(){Ay(function(){ke&6?od(Lh,fy):Wf()})}function Kd(){if(js===0){var e=Yl;e===0&&(e=jr,jr<<=1,!(jr&261888)&&(jr=256)),js=e}return js}function jm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kr(""+e)}function Nm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function gy(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var r=jm((n[Wt]||null).action),i=l.submitter;i&&(t=(t=i[Wt]||null)?jm(t.formAction):i.getAttribute("formAction"),t!==null&&(r=t,i=null));var c=new qi("action","action",null,l,n);e.push({event:c,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(js!==0){var o=i?Nm(n,i):new FormData(n);_o(a,{pending:!0,data:o,method:n.method,action:r},null,o)}}else typeof r=="function"&&(c.preventDefault(),o=i?Nm(n,i):new FormData(n),_o(a,{pending:!0,data:o,method:n.method,action:r},r,o))},currentTarget:n}]})}}for(var qc=0;qc<xo.length;qc++){var Hc=xo[qc],yy=Hc.toLowerCase(),by=Hc[0].toUpperCase()+Hc.slice(1);za(yy,"on"+by)}za(ux,"onAnimationEnd");za(mx,"onAnimationIteration");za(hx,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(Ug,"onTransitionRun");za(Bg,"onTransitionStart");za(kg,"onTransitionCancel");za(xx,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));il("onBeforeInput",["compositionend","keypress","textInput","paste"]);il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jn));function t0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var r=void 0;if(t)for(var i=l.length-1;0<=i;i--){var c=l[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==r&&n.isPropagationStopped())break e;r=c,n.currentTarget=d;try{r(n)}catch(u){ri(u)}n.currentTarget=null,r=o}else for(i=0;i<l.length;i++){if(c=l[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==r&&n.isPropagationStopped())break e;r=c,n.currentTarget=d;try{r(n)}catch(u){ri(u)}n.currentTarget=null,r=o}}}}function Ae(e,t){var a=t[no];a===void 0&&(a=t[no]=new Set);var l=e+"__bubble";a.has(l)||(a0(t,e,2,!1),a.add(l))}function Fc(e,t,a){var l=0;t&&(l|=4),a0(a,e,l,t)}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Jd(e){if(!e[Tr]){e[Tr]=!0,Gh.forEach(function(a){a!=="selectionchange"&&(vy.has(a)||Fc(a,!1,e),Fc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tr]||(t[Tr]=!0,Fc("selectionchange",!1,t))}}function a0(e,t,a,l){switch(f0(t)){case 2:var n=Zy;break;case 8:n=Ky;break;default:n=eu}a=n.bind(null,t,a,e),n=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function $c(e,t,a,l,n){var r=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var c=l.stateNode.containerInfo;if(c===n)break;if(i===4)for(i=l.return;i!==null;){var o=i.tag;if((o===3||o===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;c!==null;){if(i=Cl(c),i===null)return;if(o=i.tag,o===5||o===6||o===26||o===27){l=r=i;continue e}c=c.parentNode}}l=l.return}ex(function(){var d=r,u=xd(a),h=[];e:{var x=fx.get(e);if(x!==void 0){var j=qi,S=e;switch(e){case"keypress":if(qr(a)===0)break e;case"keydown":case"keyup":j=hg;break;case"focusin":S="focus",j=gc;break;case"focusout":S="blur",j=gc;break;case"beforeblur":case"afterblur":j=gc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=pg;break;case ux:case mx:case hx:j=lg;break;case xx:j=yg;break;case"scroll":case"scrollend":j=Ip;break;case"wheel":j=vg;break;case"copy":case"cut":case"paste":j=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Du;break;case"toggle":case"beforetoggle":j=Ng}var N=(t&4)!==0,v=!N&&(e==="scroll"||e==="scrollend"),g=N?x!==null?x+"Capture":null:x;N=[];for(var f=d,p;f!==null;){var y=f;if(p=y.stateNode,y=y.tag,y!==5&&y!==26&&y!==27||p===null||g===null||(y=$n(f,g),y!=null&&N.push(Pn(f,y,p))),v)break;f=f.return}0<N.length&&(x=new j(x,S,null,a,u),h.push({event:x,listeners:N}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",x&&a!==oo&&(S=a.relatedTarget||a.fromElement)&&(Cl(S)||S[tn]))break e;if((j||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,j?(S=a.relatedTarget||a.toElement,j=d,S=S?Cl(S):null,S!==null&&(v=sr(S),N=S.tag,S!==v||N!==5&&N!==27&&N!==6)&&(S=null)):(j=null,S=d),j!==S)){if(N=zu,y="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(N=Du,y="onPointerLeave",g="onPointerEnter",f="pointer"),v=j==null?x:Sn(j),p=S==null?x:Sn(S),x=new N(y,f+"leave",j,a,u),x.target=v,x.relatedTarget=p,y=null,Cl(u)===d&&(N=new N(g,f+"enter",S,a,u),N.target=p,N.relatedTarget=v,y=N),v=y,j&&S)t:{for(N=jy,g=j,f=S,p=0,y=g;y;y=N(y))p++;y=0;for(var A=f;A;A=N(A))y++;for(;0<p-y;)g=N(g),p--;for(;0<y-p;)f=N(f),y--;for(;p--;){if(g===f||f!==null&&g===f.alternate){N=g;break t}g=N(g),f=N(f)}N=null}else N=null;j!==null&&Sm(h,x,j,N,!1),S!==null&&v!==null&&Sm(h,v,S,N,!0)}}e:{if(x=d?Sn(d):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var U=Bu;else if(Uu(x))if(rx)U=Dg;else{U=zg;var _=Og}else j=x.nodeName,!j||j.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?d&&hd(d.elementType)&&(U=Bu):U=Tg;if(U&&(U=U(e,d))){nx(h,U,a,u);break e}_&&_(e,x,d),e==="focusout"&&d&&x.type==="number"&&d.memoizedProps.value!=null&&co(x,"number",x.value)}switch(_=d?Sn(d):window,e){case"focusin":(Uu(_)||_.contentEditable==="true")&&(Al=_,mo=d,zn=null);break;case"focusout":zn=mo=Al=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,Fu(h,a,u);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":Fu(h,a,u)}var H;if(gd)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else El?sx(e,a)&&(G="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(G="onCompositionStart");G&&(ax&&a.locale!=="ko"&&(El||G!=="onCompositionStart"?G==="onCompositionEnd"&&El&&(H=tx()):(ys=u,fd="value"in ys?ys.value:ys.textContent,El=!0)),_=Si(d,G),0<_.length&&(G=new Tu(G,e,null,a,u),h.push({event:G,listeners:_}),H?G.data=H:(H=lx(a),H!==null&&(G.data=H)))),(H=wg?Cg(e,a):_g(e,a))&&(G=Si(d,"onBeforeInput"),0<G.length&&(_=new Tu("onBeforeInput","beforeinput",null,a,u),h.push({event:_,listeners:G}),_.data=H)),gy(h,e,d,a,u)}t0(h,t)})}function Pn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Si(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=$n(e,a),n!=null&&l.unshift(Pn(e,n,r)),n=$n(e,t),n!=null&&l.push(Pn(e,n,r))),e.tag===3)return l;e=e.return}return[]}function jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,t,a,l,n){for(var r=t._reactName,i=[];a!==null&&a!==l;){var c=a,o=c.alternate,d=c.stateNode;if(c=c.tag,o!==null&&o===l)break;c!==5&&c!==26&&c!==27||d===null||(o=d,n?(d=$n(a,r),d!=null&&i.unshift(Pn(a,d,o))):n||(d=$n(a,r),d!=null&&i.push(Pn(a,d,o)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var Ny=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(Ny,`
`).replace(Sy,"")}function s0(e,t){return t=wm(t),wm(e)===t}function Fe(e,t,a,l,n,r){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Vl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Vl(e,""+l);break;case"className":wr(e,"class",l);break;case"tabIndex":wr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wr(e,a,l);break;case"style":Ih(e,l,r);break;case"data":if(t!=="object"){wr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Fe(e,t,"name",n.name,n,null),Fe(e,t,"formEncType",n.formEncType,n,null),Fe(e,t,"formMethod",n.formMethod,n,null),Fe(e,t,"formTarget",n.formTarget,n,null)):(Fe(e,t,"encType",n.encType,n,null),Fe(e,t,"method",n.method,n,null),Fe(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ja);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(Z(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(Z(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=kr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Br(e,"popover",l);break;case"xlinkActuate":$a(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$a(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$a(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$a(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$a(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$a(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$a(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$a(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$a(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pp.get(a)||a,Br(e,a,l))}}function ko(e,t,a,l,n,r){switch(a){case"style":Ih(e,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(Z(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(Z(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vl(e,l):(typeof l=="number"||typeof l=="bigint")&&Vl(e,""+l);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[Wt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof l=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Br(e,a,l)}}}function Lt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var l=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var i=a[r];if(i!=null)switch(r){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,t));default:Fe(e,t,r,i,a,null)}}n&&Fe(e,t,"srcSet",a.srcSet,a,null),l&&Fe(e,t,"src",a.src,a,null);return;case"input":Ae("invalid",e);var c=r=i=n=null,o=null,d=null;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];if(u!=null)switch(l){case"name":n=u;break;case"type":i=u;break;case"checked":o=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":c=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Z(137,t));break;default:Fe(e,t,l,u,a,null)}}Jh(e,r,c,o,d,i,n,!1);return;case"select":Ae("invalid",e),l=i=r=null;for(n in a)if(a.hasOwnProperty(n)&&(c=a[n],c!=null))switch(n){case"value":r=c;break;case"defaultValue":i=c;break;case"multiple":l=c;default:Fe(e,t,n,c,a,null)}t=r,a=i,e.multiple=!!l,t!=null?Bl(e,!!l,t,!1):a!=null&&Bl(e,!!l,a,!0);return;case"textarea":Ae("invalid",e),r=n=l=null;for(i in a)if(a.hasOwnProperty(i)&&(c=a[i],c!=null))switch(i){case"value":l=c;break;case"defaultValue":n=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(Z(91));break;default:Fe(e,t,i,c,a,null)}Wh(e,l,n,r);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(l=a[o],l!=null))switch(o){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(e,t,o,l,a,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(l=0;l<Jn.length;l++)Ae(Jn[l],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&(l=a[d],l!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,t));default:Fe(e,t,d,l,a,null)}return;default:if(hd(t)){for(u in a)a.hasOwnProperty(u)&&(l=a[u],l!==void 0&&ko(e,t,u,l,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(l=a[c],l!=null&&Fe(e,t,c,l,a,null))}function wy(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,i=null,c=null,o=null,d=null,u=null;for(j in a){var h=a[j];if(a.hasOwnProperty(j)&&h!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":o=h;default:l.hasOwnProperty(j)||Fe(e,t,j,null,l,h)}}for(var x in l){var j=l[x];if(h=a[x],l.hasOwnProperty(x)&&(j!=null||h!=null))switch(x){case"type":r=j;break;case"name":n=j;break;case"checked":d=j;break;case"defaultChecked":u=j;break;case"value":i=j;break;case"defaultValue":c=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(Z(137,t));break;default:j!==h&&Fe(e,t,x,j,l,h)}}io(e,i,c,o,d,u,r,n);return;case"select":j=i=c=x=null;for(r in a)if(o=a[r],a.hasOwnProperty(r)&&o!=null)switch(r){case"value":break;case"multiple":j=o;default:l.hasOwnProperty(r)||Fe(e,t,r,null,l,o)}for(n in l)if(r=l[n],o=a[n],l.hasOwnProperty(n)&&(r!=null||o!=null))switch(n){case"value":x=r;break;case"defaultValue":c=r;break;case"multiple":i=r;default:r!==o&&Fe(e,t,n,r,l,o)}t=c,a=i,l=j,x!=null?Bl(e,!!a,x,!1):!!l!=!!a&&(t!=null?Bl(e,!!a,t,!0):Bl(e,!!a,a?[]:"",!1));return;case"textarea":j=x=null;for(c in a)if(n=a[c],a.hasOwnProperty(c)&&n!=null&&!l.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Fe(e,t,c,null,l,n)}for(i in l)if(n=l[i],r=a[i],l.hasOwnProperty(i)&&(n!=null||r!=null))switch(i){case"value":x=n;break;case"defaultValue":j=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(Z(91));break;default:n!==r&&Fe(e,t,i,n,l,r)}Ph(e,x,j);return;case"option":for(var S in a)if(x=a[S],a.hasOwnProperty(S)&&x!=null&&!l.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:Fe(e,t,S,null,l,x)}for(o in l)if(x=l[o],j=a[o],l.hasOwnProperty(o)&&x!==j&&(x!=null||j!=null))switch(o){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Fe(e,t,o,x,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in a)x=a[N],a.hasOwnProperty(N)&&x!=null&&!l.hasOwnProperty(N)&&Fe(e,t,N,null,l,x);for(d in l)if(x=l[d],j=a[d],l.hasOwnProperty(d)&&x!==j&&(x!=null||j!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(Z(137,t));break;default:Fe(e,t,d,x,l,j)}return;default:if(hd(t)){for(var v in a)x=a[v],a.hasOwnProperty(v)&&x!==void 0&&!l.hasOwnProperty(v)&&ko(e,t,v,void 0,l,x);for(u in l)x=l[u],j=a[u],!l.hasOwnProperty(u)||x===j||x===void 0&&j===void 0||ko(e,t,u,x,l,j);return}}for(var g in a)x=a[g],a.hasOwnProperty(g)&&x!=null&&!l.hasOwnProperty(g)&&Fe(e,t,g,null,l,x);for(h in l)x=l[h],j=a[h],!l.hasOwnProperty(h)||x===j||x==null&&j==null||Fe(e,t,h,x,l,j)}function Cm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],r=n.transferSize,i=n.initiatorType,c=n.duration;if(r&&c&&Cm(i)){for(i=0,c=n.responseEnd,l+=1;l<a.length;l++){var o=a[l],d=o.startTime;if(d>c)break;var u=o.transferSize,h=o.initiatorType;u&&Cm(h)&&(o=o.responseEnd,i+=u*(o<c?1:(c-d)/(o-d)))}if(--l,t+=8*(r+i)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lo=null,qo=null;function wi(e){return e.nodeType===9?e:e.ownerDocument}function _m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qc=null;function _y(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,Ay=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(e){return Em.resolve(null).then(e).catch(Oy)}:n0;function Oy(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function Am(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),Wl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Hn(a);for(var r=a.firstChild;r;){var i=r.nextSibling,c=r.nodeName;r[ir]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=i}}else a==="body"&&Hn(e.ownerDocument.body);a=n}while(a);Wl(t)}function Om(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Fo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fo(a),md(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zy(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ir])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=wa(e.nextSibling),e===null)break}return null}function Ty(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=wa(e.nextSibling),e===null))return null;return e}function r0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=wa(e.nextSibling),e===null))return null;return e}function $o(e){return e.data==="$?"||e.data==="$~"}function Qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vo=null;function zm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return wa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function i0(e,t,a){switch(t=wi(a),e){case"html":if(e=t.documentElement,!e)throw Error(Z(452));return e;case"head":if(e=t.head,!e)throw Error(Z(453));return e;case"body":if(e=t.body,!e)throw Error(Z(454));return e;default:throw Error(Z(451))}}function Hn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);md(e)}var Ca=new Map,Dm=new Set;function Ci(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=Le.d;Le.d={f:Ry,r:My,D:Uy,C:By,L:ky,m:Ly,X:Hy,S:qy,M:Fy};function Ry(){var e=is.f(),t=Ji();return e||t}function My(e){var t=an(e);t!==null&&t.tag===5&&t.type==="form"?Ix(t):is.r(e)}var rn=typeof document>"u"?null:document;function c0(e,t,a){var l=rn;if(l&&typeof t=="string"&&t){var n=va(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Dm.has(n)||(Dm.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Lt(t,"link",e),Ot(t),l.head.appendChild(t)))}}function Uy(e){is.D(e),c0("dns-prefetch",e,null)}function By(e,t){is.C(e,t),c0("preconnect",e,t)}function ky(e,t,a){is.L(e,t,a);var l=rn;if(l&&e&&t){var n='link[rel="preload"][as="'+va(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+va(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+va(a.imageSizes)+'"]')):n+='[href="'+va(e)+'"]';var r=n;switch(t){case"style":r=Pl(e);break;case"script":r=cn(e)}Ca.has(r)||(e=Ie({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ca.set(r,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(hr(r))||t==="script"&&l.querySelector(xr(r))||(t=l.createElement("link"),Lt(t,"link",e),Ot(t),l.head.appendChild(t)))}}function Ly(e,t){is.m(e,t);var a=rn;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+va(l)+'"][href="'+va(e)+'"]',r=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=cn(e)}if(!Ca.has(r)&&(e=Ie({rel:"modulepreload",href:e},t),Ca.set(r,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xr(r)))return}l=a.createElement("link"),Lt(l,"link",e),Ot(l),a.head.appendChild(l)}}}function qy(e,t,a){is.S(e,t,a);var l=rn;if(l&&e){var n=Ul(l).hoistableStyles,r=Pl(e);t=t||"default";var i=n.get(r);if(!i){var c={loading:0,preload:null};if(i=l.querySelector(hr(r)))c.loading=5;else{e=Ie({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ca.get(r))&&Pd(e,a);var o=i=l.createElement("link");Ot(o),Lt(o,"link",e),o._p=new Promise(function(d,u){o.onload=d,o.onerror=u}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Xr(i,t,l)}i={type:"stylesheet",instance:i,count:1,state:c},n.set(r,i)}}}function Hy(e,t){is.X(e,t);var a=rn;if(a&&e){var l=Ul(a).hoistableScripts,n=cn(e),r=l.get(n);r||(r=a.querySelector(xr(n)),r||(e=Ie({src:e,async:!0},t),(t=Ca.get(n))&&Wd(e,t),r=a.createElement("script"),Ot(r),Lt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function Fy(e,t){is.M(e,t);var a=rn;if(a&&e){var l=Ul(a).hoistableScripts,n=cn(e),r=l.get(n);r||(r=a.querySelector(xr(n)),r||(e=Ie({src:e,async:!0,type:"module"},t),(t=Ca.get(n))&&Wd(e,t),r=a.createElement("script"),Ot(r),Lt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function Rm(e,t,a,l){var n=(n=Ss.current)?Ci(n):null;if(!n)throw Error(Z(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Pl(a.href),a=Ul(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pl(a.href);var r=Ul(n).hoistableStyles,i=r.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=n.querySelector(hr(e)))&&!r._p&&(i.instance=r,i.state.loading=5),Ca.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ca.set(e,a),r||$y(n,e,a,i.state))),t&&l===null)throw Error(Z(528,""));return i}if(t&&l!==null)throw Error(Z(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cn(a),a=Ul(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(Z(444,e))}}function Pl(e){return'href="'+va(e)+'"'}function hr(e){return'link[rel="stylesheet"]['+e+"]"}function o0(e){return Ie({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Lt(t,"link",a),Ot(t),e.head.appendChild(t))}function cn(e){return'[src="'+va(e)+'"]'}function xr(e){return"script[async]"+e}function Mm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+va(a.href)+'"]');if(l)return t.instance=l,Ot(l),l;var n=Ie({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ot(l),Lt(l,"style",n),Xr(l,a.precedence,e),t.instance=l;case"stylesheet":n=Pl(a.href);var r=e.querySelector(hr(n));if(r)return t.state.loading|=4,t.instance=r,Ot(r),r;l=o0(a),(n=Ca.get(n))&&Pd(l,n),r=(e.ownerDocument||e).createElement("link"),Ot(r);var i=r;return i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Lt(r,"link",l),t.state.loading|=4,Xr(r,a.precedence,e),t.instance=r;case"script":return r=cn(a.src),(n=e.querySelector(xr(r)))?(t.instance=n,Ot(n),n):(l=a,(n=Ca.get(r))&&(l=Ie({},a),Wd(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ot(n),Lt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(Z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Xr(l,a.precedence,e));return t.instance}function Xr(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,r=n,i=0;i<l.length;i++){var c=l[i];if(c.dataset.precedence===t)r=c;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Pd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zr=null;function Um(e,t,a){if(Zr===null){var l=new Map,n=Zr=new Map;n.set(a,l)}else n=Zr,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[ir]||r[Ut]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(t)||"";i=e+i;var c=l.get(i);c?c.push(r):l.set(i,[r])}}return l}function Bm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Qy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function d0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Vy(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var n=Pl(l.href),r=t.querySelector(hr(n));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_i.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,Ot(r);return}r=t.ownerDocument||t,l=o0(l),(n=Ca.get(n))&&Pd(l,n),r=r.createElement("link"),Ot(r);var i=r;i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Lt(r,"link",l),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=_i.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Vc=0;function Yy(e,t){return e.stylesheets&&e.count===0&&Kr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Vc===0&&(Vc=62500*Cy());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Vc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function _i(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ei=null;function Kr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ei=new Map,t.forEach(Gy,e),Ei=null,_i.call(e))}function Gy(e,t){if(!(t.state.loading&4)){var a=Ei.get(e);if(a)var l=a.get(null);else{a=new Map,Ei.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var i=n[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),l=i)}l&&a.set(null,l)}n=t.instance,i=n.getAttribute("data-precedence"),r=a.get(i)||l,r===l&&a.set(null,n),a.set(i,n),this.count++,l=_i.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Wn={$$typeof:Ka,Provider:null,Consumer:null,_currentValue:Js,_currentValue2:Js,_threadCount:0};function Xy(e,t,a,l,n,r,i,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hc(0),this.hiddenUpdates=hc(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function u0(e,t,a,l,n,r,i,c,o,d,u,h){return e=new Xy(e,t,a,i,o,d,u,h,c),t=1,r===!0&&(t|=24),r=ia(3,null,null,t),e.current=r,r.stateNode=e,t=wd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:l,isDehydrated:a,cache:t},Ed(r),e}function m0(e){return e?(e=Tl,e):Tl}function h0(e,t,a,l,n,r){n=m0(n),l.context===null?l.context=n:l.pendingContext=n,l=Cs(t),l.payload={element:a},r=r===void 0?null:r,r!==null&&(l.callback=r),a=_s(e,l,t),a!==null&&(Jt(a,e,t),Dn(a,e,t))}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Id(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function x0(e){if(e.tag===13||e.tag===31){var t=dl(e,67108864);t!==null&&Jt(t,e,67108864),Id(e,67108864)}}function Lm(e){if(e.tag===13||e.tag===31){var t=ma();t=dd(t);var a=dl(e,t);a!==null&&Jt(a,e,t),Id(e,t)}}var Ai=!0;function Zy(e,t,a,l){var n=be.T;be.T=null;var r=Le.p;try{Le.p=2,eu(e,t,a,l)}finally{Le.p=r,be.T=n}}function Ky(e,t,a,l){var n=be.T;be.T=null;var r=Le.p;try{Le.p=8,eu(e,t,a,l)}finally{Le.p=r,be.T=n}}function eu(e,t,a,l){if(Ai){var n=Yo(l);if(n===null)$c(e,t,l,Oi,a),qm(e,l);else if(Py(n,e,t,a,l))l.stopPropagation();else if(qm(e,l),t&4&&-1<Jy.indexOf(e)){for(;n!==null;){var r=an(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=Gs(r.pendingLanes);if(i!==0){var c=r;for(c.pendingLanes|=2,c.entangledLanes|=2;i;){var o=1<<31-ua(i);c.entanglements[1]|=o,i&=~o}qa(r),!(ke&6)&&(yi=oa()+500,mr(0,!1))}}break;case 31:case 13:c=dl(r,2),c!==null&&Jt(c,r,2),Ji(),Id(r,2)}if(r=Yo(l),r===null&&$c(e,t,l,Oi,a),r===n)break;n=r}n!==null&&l.stopPropagation()}else $c(e,t,l,null,a)}}function Yo(e){return e=xd(e),tu(e)}var Oi=null;function tu(e){if(Oi=null,e=Cl(e),e!==null){var t=sr(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Rh(t),e!==null)return e;e=null}else if(a===31){if(e=Mh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Oi=e,null}function f0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Up()){case Lh:return 2;case qh:return 8;case li:case Bp:return 32;case Hh:return 268435456;default:return 32}default:return 32}}var Go=!1,Os=null,zs=null,Ts=null,In=new Map,er=new Map,ps=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":In.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function bn(e,t,a,l,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:r,targetContainers:[n]},t!==null&&(t=an(t),t!==null&&x0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Py(e,t,a,l,n){switch(t){case"focusin":return Os=bn(Os,e,t,a,l,n),!0;case"dragenter":return zs=bn(zs,e,t,a,l,n),!0;case"mouseover":return Ts=bn(Ts,e,t,a,l,n),!0;case"pointerover":var r=n.pointerId;return In.set(r,bn(In.get(r)||null,e,t,a,l,n)),!0;case"gotpointercapture":return r=n.pointerId,er.set(r,bn(er.get(r)||null,e,t,a,l,n)),!0}return!1}function p0(e){var t=Cl(e.target);if(t!==null){var a=sr(t);if(a!==null){if(t=a.tag,t===13){if(t=Rh(a),t!==null){e.blockedOn=t,Su(e.priority,function(){Lm(a)});return}}else if(t===31){if(t=Mh(a),t!==null){e.blockedOn=t,Su(e.priority,function(){Lm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Yo(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);oo=l,a.target.dispatchEvent(l),oo=null}else return t=an(a),t!==null&&x0(t),e.blockedOn=a,!1;t.shift()}return!0}function Hm(e,t,a){Jr(e)&&a.delete(t)}function Wy(){Go=!1,Os!==null&&Jr(Os)&&(Os=null),zs!==null&&Jr(zs)&&(zs=null),Ts!==null&&Jr(Ts)&&(Ts=null),In.forEach(Hm),er.forEach(Hm)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Go||(Go=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Wy)))}var Rr=null;function Fm(e){Rr!==e&&(Rr=e,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,function(){Rr===e&&(Rr=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(tu(l||a)===null)continue;break}var r=an(a);r!==null&&(e.splice(t,3),t-=3,_o(r,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Wl(e){function t(o){return Dr(o,e)}Os!==null&&Dr(Os,e),zs!==null&&Dr(zs,e),Ts!==null&&Dr(Ts,e),In.forEach(t),er.forEach(t);for(var a=0;a<ps.length;a++){var l=ps[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)p0(a),a.blockedOn===null&&ps.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],r=a[l+1],i=n[Wt]||null;if(typeof r=="function")i||Fm(a);else if(i){var c=null;if(r&&r.hasAttribute("formAction")){if(n=r,i=r[Wt]||null)c=i.formAction;else if(tu(n)!==null)continue}else c=i.action;typeof c=="function"?a[l+1]=c:(a.splice(l,3),l-=3),Fm(a)}}}function g0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(i){return n=i})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function au(e){this._internalRoot=e}Ii.prototype.render=au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));var a=t.current,l=ma();h0(a,l,e,t,null,null)};Ii.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;h0(e.current,2,null,e,null,null),Ji(),t[tn]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ps.length&&t!==0&&t<ps[a].priority;a++);ps.splice(a,0,e),a===0&&p0(e)}};var $m=Th.version;if($m!=="19.2.0")throw Error(Z(527,$m,"19.2.0"));Le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Ap(t),e=e!==null?Uh(e):null,e=e===null?null:e.stateNode,e};var Iy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mr.isDisabled&&Mr.supportsFiber)try{lr=Mr.inject(Iy),da=Mr}catch{}}Bi.createRoot=function(e,t){if(!Dh(e))throw Error(Z(299));var a=!1,l="",n=cf,r=of,i=df;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=u0(e,1,!1,null,null,a,l,null,n,r,i,g0),e[tn]=t.current,Jd(e),new au(t)};Bi.hydrateRoot=function(e,t,a){if(!Dh(e))throw Error(Z(299));var l=!1,n="",r=cf,i=of,c=df,o=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(o=a.formState)),t=u0(e,1,!0,t,a??null,l,n,o,r,i,c,g0),t.context=m0(null),a=t.current,l=ma(),l=dd(l),n=Cs(l),n.callback=null,_s(a,n,l),a=l,t.current.lanes=a,rr(t,a),qa(t),e[tn]=t.current,Jd(e),new Ii(t)};Bi.version="19.2.0";function y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y0)}catch(e){console.error(e)}}y0(),Ch.exports=Bi;var eb=Ch.exports;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tr(){return tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},tr.apply(this,arguments)}var Ns;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ns||(Ns={}));const Qm="popstate";function tb(e){e===void 0&&(e={});function t(l,n){let{pathname:r,search:i,hash:c}=l.location;return Xo("",{pathname:r,search:i,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(l,n){return typeof n=="string"?n:zi(n)}return sb(t,a,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ab(){return Math.random().toString(36).substr(2,8)}function Vm(e,t){return{usr:e.state,key:e.key,idx:t}}function Xo(e,t,a,l){return a===void 0&&(a=null),tr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?on(t):t,{state:a,key:t&&t.key||l||ab()})}function zi(e){let{pathname:t="/",search:a="",hash:l=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function on(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function sb(e,t,a,l){l===void 0&&(l={});let{window:n=document.defaultView,v5Compat:r=!1}=l,i=n.history,c=Ns.Pop,o=null,d=u();d==null&&(d=0,i.replaceState(tr({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){c=Ns.Pop;let v=u(),g=v==null?null:v-d;d=v,o&&o({action:c,location:N.location,delta:g})}function x(v,g){c=Ns.Push;let f=Xo(N.location,v,g);a&&a(f,v),d=u()+1;let p=Vm(f,d),y=N.createHref(f);try{i.pushState(p,"",y)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(y)}r&&o&&o({action:c,location:N.location,delta:1})}function j(v,g){c=Ns.Replace;let f=Xo(N.location,v,g);a&&a(f,v),d=u();let p=Vm(f,d),y=N.createHref(f);i.replaceState(p,"",y),r&&o&&o({action:c,location:N.location,delta:0})}function S(v){let g=n.location.origin!=="null"?n.location.origin:n.location.href,f=typeof v=="string"?v:zi(v);return f=f.replace(/ $/,"%20"),xt(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let N={get action(){return c},get location(){return e(n,i)},listen(v){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Qm,h),o=v,()=>{n.removeEventListener(Qm,h),o=null}},createHref(v){return t(n,v)},createURL:S,encodeLocation(v){let g=S(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:x,replace:j,go(v){return i.go(v)}};return N}var Ym;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ym||(Ym={}));function lb(e,t,a){return a===void 0&&(a="/"),nb(e,t,a,!1)}function nb(e,t,a,l){let n=typeof t=="string"?on(t):t,r=su(n.pathname||"/",a);if(r==null)return null;let i=v0(e);rb(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let d=gb(r);c=fb(i[o],d,l)}return c}function v0(e,t,a,l){t===void 0&&(t=[]),a===void 0&&(a=[]),l===void 0&&(l="");let n=(r,i,c)=>{let o={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:i,route:r};o.relativePath.startsWith("/")&&(xt(o.relativePath.startsWith(l),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(l.length));let d=Ds([l,o.relativePath]),u=a.concat(o);r.children&&r.children.length>0&&(xt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),v0(r.children,t,u,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:hb(d,r.index),routesMeta:u})};return e.forEach((r,i)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))n(r,i);else for(let o of j0(r.path))n(r,i,o)}),t}function j0(e){let t=e.split("/");if(t.length===0)return[];let[a,...l]=t,n=a.endsWith("?"),r=a.replace(/\?$/,"");if(l.length===0)return n?[r,""]:[r];let i=j0(l.join("/")),c=[];return c.push(...i.map(o=>o===""?r:[r,o].join("/"))),n&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function rb(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:xb(t.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const ib=/^:[\w-]+$/,cb=3,ob=2,db=1,ub=10,mb=-2,Gm=e=>e==="*";function hb(e,t){let a=e.split("/"),l=a.length;return a.some(Gm)&&(l+=mb),t&&(l+=ob),a.filter(n=>!Gm(n)).reduce((n,r)=>n+(ib.test(r)?cb:r===""?db:ub),l)}function xb(e,t){return e.length===t.length&&e.slice(0,-1).every((l,n)=>l===t[n])?e[e.length-1]-t[t.length-1]:0}function fb(e,t,a){a===void 0&&(a=!1);let{routesMeta:l}=e,n={},r="/",i=[];for(let c=0;c<l.length;++c){let o=l[c],d=c===l.length-1,u=r==="/"?t:t.slice(r.length)||"/",h=Xm({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},u),x=o.route;if(!h&&d&&a&&!l[l.length-1].route.index&&(h=Xm({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:Ds([r,h.pathname]),pathnameBase:jb(Ds([r,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(r=Ds([r,h.pathnameBase]))}return i}function Xm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,l]=pb(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let r=n[0],i=r.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:l.reduce((d,u,h)=>{let{paramName:x,isOptional:j}=u;if(x==="*"){let N=c[h]||"";i=r.slice(0,r.length-N.length).replace(/(.)\/+$/,"$1")}const S=c[h];return j&&!S?d[x]=void 0:d[x]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:i,pattern:e}}function pb(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),b0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(l.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),l]}function gb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return b0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function su(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,l=e.charAt(a);return l&&l!=="/"?null:e.slice(a)||"/"}function yb(e,t){t===void 0&&(t="/");let{pathname:a,search:l="",hash:n=""}=typeof e=="string"?on(e):e;return{pathname:a?a.startsWith("/")?a:bb(a,t):t,search:Nb(l),hash:Sb(n)}}function bb(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Yc(e,t,a,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vb(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function lu(e,t){let a=vb(e);return t?a.map((l,n)=>n===a.length-1?l.pathname:l.pathnameBase):a.map(l=>l.pathnameBase)}function nu(e,t,a,l){l===void 0&&(l=!1);let n;typeof e=="string"?n=on(e):(n=tr({},e),xt(!n.pathname||!n.pathname.includes("?"),Yc("?","pathname","search",n)),xt(!n.pathname||!n.pathname.includes("#"),Yc("#","pathname","hash",n)),xt(!n.search||!n.search.includes("#"),Yc("#","search","hash",n)));let r=e===""||n.pathname==="",i=r?"/":n.pathname,c;if(i==null)c=a;else{let h=t.length-1;if(!l&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;n.pathname=x.join("/")}c=h>=0?t[h]:"/"}let o=yb(n,c),d=i&&i!=="/"&&i.endsWith("/"),u=(r||i===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(d||u)&&(o.pathname+="/"),o}const Ds=e=>e.join("/").replace(/\/\/+/g,"/"),jb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const N0=["post","put","patch","delete"];new Set(N0);const Cb=["get",...N0];new Set(Cb);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ar.apply(this,arguments)}const ru=m.createContext(null),_b=m.createContext(null),Hs=m.createContext(null),ec=m.createContext(null),cs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),S0=m.createContext(null);function Eb(e,t){let{relative:a}=t===void 0?{}:t;dn()||xt(!1);let{basename:l,navigator:n}=m.useContext(Hs),{hash:r,pathname:i,search:c}=_0(e,{relative:a}),o=i;return l!=="/"&&(o=i==="/"?l:Ds([l,i])),n.createHref({pathname:o,search:c,hash:r})}function dn(){return m.useContext(ec)!=null}function ml(){return dn()||xt(!1),m.useContext(ec).location}function w0(e){m.useContext(Hs).static||m.useLayoutEffect(e)}function Ha(){let{isDataRoute:e}=m.useContext(cs);return e?Hb():Ab()}function Ab(){dn()||xt(!1);let e=m.useContext(ru),{basename:t,future:a,navigator:l}=m.useContext(Hs),{matches:n}=m.useContext(cs),{pathname:r}=ml(),i=JSON.stringify(lu(n,a.v7_relativeSplatPath)),c=m.useRef(!1);return w0(()=>{c.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!c.current)return;if(typeof d=="number"){l.go(d);return}let h=nu(d,JSON.parse(i),r,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ds([t,h.pathname])),(u.replace?l.replace:l.push)(h,u.state,u)},[t,l,i,r,e])}function C0(){let{matches:e}=m.useContext(cs),t=e[e.length-1];return t?t.params:{}}function _0(e,t){let{relative:a}=t===void 0?{}:t,{future:l}=m.useContext(Hs),{matches:n}=m.useContext(cs),{pathname:r}=ml(),i=JSON.stringify(lu(n,l.v7_relativeSplatPath));return m.useMemo(()=>nu(e,JSON.parse(i),r,a==="path"),[e,i,r,a])}function Ob(e,t){return zb(e,t)}function zb(e,t,a,l){dn()||xt(!1);let{navigator:n}=m.useContext(Hs),{matches:r}=m.useContext(cs),i=r[r.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let d=ml(),u;if(t){var h;let v=typeof t=="string"?on(t):t;o==="/"||(h=v.pathname)!=null&&h.startsWith(o)||xt(!1),u=v}else u=d;let x=u.pathname||"/",j=x;if(o!=="/"){let v=o.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let S=lb(e,{pathname:j}),N=Ub(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Ds([o,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?o:Ds([o,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),r,a,l);return t&&N?m.createElement(ec.Provider,{value:{location:ar({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ns.Pop}},N):N}function Tb(){let e=qb(),t=wb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},r=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),a?m.createElement("pre",{style:n},a):null,r)}const Db=m.createElement(Tb,null);class Rb extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?m.createElement(cs.Provider,{value:this.props.routeContext},m.createElement(S0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mb(e){let{routeContext:t,match:a,children:l}=e,n=m.useContext(ru);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),m.createElement(cs.Provider,{value:t},l)}function Ub(e,t,a,l){var n;if(t===void 0&&(t=[]),a===void 0&&(a=null),l===void 0&&(l=null),e==null){var r;if(!a)return null;if(a.errors)e=a.matches;else if((r=l)!=null&&r.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,c=(n=a)==null?void 0:n.errors;if(c!=null){let u=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);u>=0||xt(!1),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,d=-1;if(a&&l&&l.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:x,errors:j}=a,S=h.route.loader&&x[h.route.id]===void 0&&(!j||j[h.route.id]===void 0);if(h.route.lazy||S){o=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,x)=>{let j,S=!1,N=null,v=null;a&&(j=c&&h.route.id?c[h.route.id]:void 0,N=h.route.errorElement||Db,o&&(d<0&&x===0?(Fb("route-fallback",!1),S=!0,v=null):d===x&&(S=!0,v=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,x+1)),f=()=>{let p;return j?p=N:S?p=v:h.route.Component?p=m.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=u,m.createElement(Mb,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:a!=null},children:p})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?m.createElement(Rb,{location:a.location,revalidation:a.revalidation,component:N,error:j,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var E0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(E0||{}),Ti=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ti||{});function Bb(e){let t=m.useContext(ru);return t||xt(!1),t}function kb(e){let t=m.useContext(_b);return t||xt(!1),t}function Lb(e){let t=m.useContext(cs);return t||xt(!1),t}function A0(e){let t=Lb(),a=t.matches[t.matches.length-1];return a.route.id||xt(!1),a.route.id}function qb(){var e;let t=m.useContext(S0),a=kb(Ti.UseRouteError),l=A0(Ti.UseRouteError);return t!==void 0?t:(e=a.errors)==null?void 0:e[l]}function Hb(){let{router:e}=Bb(E0.UseNavigateStable),t=A0(Ti.UseNavigateStable),a=m.useRef(!1);return w0(()=>{a.current=!0}),m.useCallback(function(n,r){r===void 0&&(r={}),a.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,ar({fromRouteId:t},r)))},[e,t])}const Zm={};function Fb(e,t,a){!t&&!Zm[e]&&(Zm[e]=!0)}function _n(e){let{to:t,replace:a,state:l,relative:n}=e;dn()||xt(!1);let{future:r,static:i}=m.useContext(Hs),{matches:c}=m.useContext(cs),{pathname:o}=ml(),d=Ha(),u=nu(t,lu(c,r.v7_relativeSplatPath),o,n==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:a,state:l,relative:n}),[d,h,n,a,l]),null}function lt(e){xt(!1)}function $b(e){let{basename:t="/",children:a=null,location:l,navigationType:n=Ns.Pop,navigator:r,static:i=!1,future:c}=e;dn()&&xt(!1);let o=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:o,navigator:r,static:i,future:ar({v7_relativeSplatPath:!1},c)}),[o,c,r,i]);typeof l=="string"&&(l=on(l));let{pathname:u="/",search:h="",hash:x="",state:j=null,key:S="default"}=l,N=m.useMemo(()=>{let v=su(u,o);return v==null?null:{location:{pathname:v,search:h,hash:x,state:j,key:S},navigationType:n}},[o,u,h,x,j,S,n]);return N==null?null:m.createElement(Hs.Provider,{value:d},m.createElement(ec.Provider,{children:a,value:N}))}function Qb(e){let{children:t,location:a}=e;return Ob(Zo(t),a)}new Promise(()=>{});function Zo(e,t){t===void 0&&(t=[]);let a=[];return m.Children.forEach(e,(l,n)=>{if(!m.isValidElement(l))return;let r=[...t,n];if(l.type===m.Fragment){a.push.apply(a,Zo(l.props.children,r));return}l.type!==lt&&xt(!1),!l.props.index||!l.props.children||xt(!1);let i={id:l.props.id||r.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(i.children=Zo(l.props.children,r)),a.push(i)}),a}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ko.apply(this,arguments)}function Vb(e,t){if(e==null)return{};var a={},l=Object.keys(e),n,r;for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function Yb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gb(e,t){return e.button===0&&(!t||t==="_self")&&!Yb(e)}function Jo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let l=e[a];return t.concat(Array.isArray(l)?l.map(n=>[a,n]):[[a,l]])},[]))}function Xb(e,t){let a=Jo(e);return t&&t.forEach((l,n)=>{a.has(n)||t.getAll(n).forEach(r=>{a.append(n,r)})}),a}const Zb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Kb="6";try{window.__reactRouterVersion=Kb}catch{}const Jb="startTransition",Km=jp[Jb];function Pb(e){let{basename:t,children:a,future:l,window:n}=e,r=m.useRef();r.current==null&&(r.current=tb({window:n,v5Compat:!0}));let i=r.current,[c,o]=m.useState({action:i.action,location:i.location}),{v7_startTransition:d}=l||{},u=m.useCallback(h=>{d&&Km?Km(()=>o(h)):o(h)},[o,d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.createElement($b,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:i,future:l})}const Wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,la=m.forwardRef(function(t,a){let{onClick:l,relative:n,reloadDocument:r,replace:i,state:c,target:o,to:d,preventScrollReset:u,unstable_viewTransition:h}=t,x=Vb(t,Zb),{basename:j}=m.useContext(Hs),S,N=!1;if(typeof d=="string"&&Ib.test(d)&&(S=d,Wb))try{let p=new URL(window.location.href),y=d.startsWith("//")?new URL(p.protocol+d):new URL(d),A=su(y.pathname,j);y.origin===p.origin&&A!=null?d=A+y.search+y.hash:N=!0}catch{}let v=Eb(d,{relative:n}),g=ev(d,{replace:i,state:c,target:o,preventScrollReset:u,relative:n,unstable_viewTransition:h});function f(p){l&&l(p),p.defaultPrevented||g(p)}return m.createElement("a",Ko({},x,{href:S||v,onClick:N||r?l:f,ref:a,target:o}))});var Jm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jm||(Jm={}));var Pm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pm||(Pm={}));function ev(e,t){let{target:a,replace:l,state:n,preventScrollReset:r,relative:i,unstable_viewTransition:c}=t===void 0?{}:t,o=Ha(),d=ml(),u=_0(e,{relative:i});return m.useCallback(h=>{if(Gb(h,a)){h.preventDefault();let x=l!==void 0?l:zi(d)===zi(u);o(e,{replace:x,state:n,preventScrollReset:r,relative:i,unstable_viewTransition:c})}},[d,o,u,l,n,a,e,r,i,c])}function tc(e){let t=m.useRef(Jo(e)),a=m.useRef(!1),l=ml(),n=m.useMemo(()=>Xb(l.search,a.current?null:t.current),[l.search]),r=Ha(),i=m.useCallback((c,o)=>{const d=Jo(typeof c=="function"?c(n):c);a.current=!0,r("?"+d,o)},[r,n]);return[n,i]}function O0(e,t){return function(){return e.apply(t,arguments)}}const{toString:tv}=Object.prototype,{getPrototypeOf:iu}=Object,{iterator:ac,toStringTag:z0}=Symbol,sc=(e=>t=>{const a=tv.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ta=e=>(e=e.toLowerCase(),t=>sc(t)===e),lc=e=>t=>typeof t===e,{isArray:un}=Array,Il=lc("undefined");function fr(e){return e!==null&&!Il(e)&&e.constructor!==null&&!Il(e.constructor)&&Pt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const T0=Ta("ArrayBuffer");function av(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&T0(e.buffer),t}const sv=lc("string"),Pt=lc("function"),D0=lc("number"),pr=e=>e!==null&&typeof e=="object",lv=e=>e===!0||e===!1,Pr=e=>{if(sc(e)!=="object")return!1;const t=iu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(z0 in e)&&!(ac in e)},nv=e=>{if(!pr(e)||fr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rv=Ta("Date"),iv=Ta("File"),cv=Ta("Blob"),ov=Ta("FileList"),dv=e=>pr(e)&&Pt(e.pipe),uv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Pt(e.append)&&((t=sc(e))==="formdata"||t==="object"&&Pt(e.toString)&&e.toString()==="[object FormData]"))},mv=Ta("URLSearchParams"),[hv,xv,fv,pv]=["ReadableStream","Request","Response","Headers"].map(Ta),gv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gr(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let l,n;if(typeof e!="object"&&(e=[e]),un(e))for(l=0,n=e.length;l<n;l++)t.call(null,e[l],l,e);else{if(fr(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let c;for(l=0;l<i;l++)c=r[l],t.call(null,e[c],c,e)}}function R0(e,t){if(fr(e))return null;t=t.toLowerCase();const a=Object.keys(e);let l=a.length,n;for(;l-- >0;)if(n=a[l],t===n.toLowerCase())return n;return null}const Ks=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),M0=e=>!Il(e)&&e!==Ks;function Po(){const{caseless:e,skipUndefined:t}=M0(this)&&this||{},a={},l=(n,r)=>{const i=e&&R0(a,r)||r;Pr(a[i])&&Pr(n)?a[i]=Po(a[i],n):Pr(n)?a[i]=Po({},n):un(n)?a[i]=n.slice():(!t||!Il(n))&&(a[i]=n)};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&gr(arguments[n],l);return a}const yv=(e,t,a,{allOwnKeys:l}={})=>(gr(t,(n,r)=>{a&&Pt(n)?e[r]=O0(n,a):e[r]=n},{allOwnKeys:l}),e),bv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vv=(e,t,a,l)=>{e.prototype=Object.create(t.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},jv=(e,t,a,l)=>{let n,r,i;const c={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),r=n.length;r-- >0;)i=n[r],(!l||l(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=a!==!1&&iu(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},Nv=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const l=e.indexOf(t,a);return l!==-1&&l===a},Sv=e=>{if(!e)return null;if(un(e))return e;let t=e.length;if(!D0(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},wv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&iu(Uint8Array)),Cv=(e,t)=>{const l=(e&&e[ac]).call(e);let n;for(;(n=l.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},_v=(e,t)=>{let a;const l=[];for(;(a=e.exec(t))!==null;)l.push(a);return l},Ev=Ta("HTMLFormElement"),Av=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,n){return l.toUpperCase()+n}),Wm=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),Ov=Ta("RegExp"),U0=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),l={};gr(a,(n,r)=>{let i;(i=t(n,r,e))!==!1&&(l[r]=i||n)}),Object.defineProperties(e,l)},zv=e=>{U0(e,(t,a)=>{if(Pt(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=e[a];if(Pt(l)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Tv=(e,t)=>{const a={},l=n=>{n.forEach(r=>{a[r]=!0})};return un(e)?l(e):l(String(e).split(t)),a},Dv=()=>{},Rv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mv(e){return!!(e&&Pt(e.append)&&e[z0]==="FormData"&&e[ac])}const Uv=e=>{const t=new Array(10),a=(l,n)=>{if(pr(l)){if(t.indexOf(l)>=0)return;if(fr(l))return l;if(!("toJSON"in l)){t[n]=l;const r=un(l)?[]:{};return gr(l,(i,c)=>{const o=a(i,n+1);!Il(o)&&(r[c]=o)}),t[n]=void 0,r}}return l};return a(e,0)},Bv=Ta("AsyncFunction"),kv=e=>e&&(pr(e)||Pt(e))&&Pt(e.then)&&Pt(e.catch),B0=((e,t)=>e?setImmediate:t?((a,l)=>(Ks.addEventListener("message",({source:n,data:r})=>{n===Ks&&r===a&&l.length&&l.shift()()},!1),n=>{l.push(n),Ks.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Pt(Ks.postMessage)),Lv=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||B0,qv=e=>e!=null&&Pt(e[ac]),L={isArray:un,isArrayBuffer:T0,isBuffer:fr,isFormData:uv,isArrayBufferView:av,isString:sv,isNumber:D0,isBoolean:lv,isObject:pr,isPlainObject:Pr,isEmptyObject:nv,isReadableStream:hv,isRequest:xv,isResponse:fv,isHeaders:pv,isUndefined:Il,isDate:rv,isFile:iv,isBlob:cv,isRegExp:Ov,isFunction:Pt,isStream:dv,isURLSearchParams:mv,isTypedArray:wv,isFileList:ov,forEach:gr,merge:Po,extend:yv,trim:gv,stripBOM:bv,inherits:vv,toFlatObject:jv,kindOf:sc,kindOfTest:Ta,endsWith:Nv,toArray:Sv,forEachEntry:Cv,matchAll:_v,isHTMLForm:Ev,hasOwnProperty:Wm,hasOwnProp:Wm,reduceDescriptors:U0,freezeMethods:zv,toObjectSet:Tv,toCamelCase:Av,noop:Dv,toFiniteNumber:Rv,findKey:R0,global:Ks,isContextDefined:M0,isSpecCompliantForm:Mv,toJSONObject:Uv,isAsyncFn:Bv,isThenable:kv,setImmediate:B0,asap:Lv,isIterable:qv};function Ce(e,t,a,l,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),l&&(this.request=l),n&&(this.response=n,this.status=n.status?n.status:null)}L.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const k0=Ce.prototype,L0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{L0[e]={value:e}});Object.defineProperties(Ce,L0);Object.defineProperty(k0,"isAxiosError",{value:!0});Ce.from=(e,t,a,l,n,r)=>{const i=Object.create(k0);L.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",o=t==null&&e?e.code:t;return Ce.call(i,c,o,a,l,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",r&&Object.assign(i,r),i};const Hv=null;function Wo(e){return L.isPlainObject(e)||L.isArray(e)}function q0(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function Im(e,t,a){return e?e.concat(t).map(function(n,r){return n=q0(n),!a&&r?"["+n+"]":n}).join(a?".":""):t}function Fv(e){return L.isArray(e)&&!e.some(Wo)}const $v=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function nc(e,t,a){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=L.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,v){return!L.isUndefined(v[N])});const l=a.metaTokens,n=a.visitor||u,r=a.dots,i=a.indexes,o=(a.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(n))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(L.isDate(S))return S.toISOString();if(L.isBoolean(S))return S.toString();if(!o&&L.isBlob(S))throw new Ce("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(S)||L.isTypedArray(S)?o&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function u(S,N,v){let g=S;if(S&&!v&&typeof S=="object"){if(L.endsWith(N,"{}"))N=l?N:N.slice(0,-2),S=JSON.stringify(S);else if(L.isArray(S)&&Fv(S)||(L.isFileList(S)||L.endsWith(N,"[]"))&&(g=L.toArray(S)))return N=q0(N),g.forEach(function(p,y){!(L.isUndefined(p)||p===null)&&t.append(i===!0?Im([N],y,r):i===null?N:N+"[]",d(p))}),!1}return Wo(S)?!0:(t.append(Im(v,N,r),d(S)),!1)}const h=[],x=Object.assign($v,{defaultVisitor:u,convertValue:d,isVisitable:Wo});function j(S,N){if(!L.isUndefined(S)){if(h.indexOf(S)!==-1)throw Error("Circular reference detected in "+N.join("."));h.push(S),L.forEach(S,function(g,f){(!(L.isUndefined(g)||g===null)&&n.call(t,g,L.isString(f)?f.trim():f,N,x))===!0&&j(g,N?N.concat(f):[f])}),h.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return j(e),t}function eh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return t[l]})}function cu(e,t){this._pairs=[],e&&nc(e,this,t)}const H0=cu.prototype;H0.append=function(t,a){this._pairs.push([t,a])};H0.toString=function(t){const a=t?function(l){return t.call(this,l,eh)}:eh;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Qv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function F0(e,t,a){if(!t)return e;const l=a&&a.encode||Qv;L.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let r;if(n?r=n(t,a):r=L.isURLSearchParams(t)?t.toString():new cu(t,a).toString(l),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Vv{constructor(){this.handlers=[]}use(t,a,l){return this.handlers.push({fulfilled:t,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(l){l!==null&&t(l)})}}const th=Vv,$0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yv=typeof URLSearchParams<"u"?URLSearchParams:cu,Gv=typeof FormData<"u"?FormData:null,Xv=typeof Blob<"u"?Blob:null,Zv={isBrowser:!0,classes:{URLSearchParams:Yv,FormData:Gv,Blob:Xv},protocols:["http","https","file","blob","url","data"]},ou=typeof window<"u"&&typeof document<"u",Io=typeof navigator=="object"&&navigator||void 0,Kv=ou&&(!Io||["ReactNative","NativeScript","NS"].indexOf(Io.product)<0),Jv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Pv=ou&&window.location.href||"http://localhost",Wv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ou,hasStandardBrowserEnv:Kv,hasStandardBrowserWebWorkerEnv:Jv,navigator:Io,origin:Pv},Symbol.toStringTag,{value:"Module"})),Ht={...Wv,...Zv};function Iv(e,t){return nc(e,new Ht.classes.URLSearchParams,{visitor:function(a,l,n,r){return Ht.isNode&&L.isBuffer(a)?(this.append(l,a.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function ej(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tj(e){const t={},a=Object.keys(e);let l;const n=a.length;let r;for(l=0;l<n;l++)r=a[l],t[r]=e[r];return t}function Q0(e){function t(a,l,n,r){let i=a[r++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),o=r>=a.length;return i=!i&&L.isArray(n)?n.length:i,o?(L.hasOwnProp(n,i)?n[i]=[n[i],l]:n[i]=l,!c):((!n[i]||!L.isObject(n[i]))&&(n[i]=[]),t(a,l,n[i],r)&&L.isArray(n[i])&&(n[i]=tj(n[i])),!c)}if(L.isFormData(e)&&L.isFunction(e.entries)){const a={};return L.forEachEntry(e,(l,n)=>{t(ej(l),n,a,0)}),a}return null}function aj(e,t,a){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(e)}const du={transitional:$0,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const l=a.getContentType()||"",n=l.indexOf("application/json")>-1,r=L.isObject(t);if(r&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return n?JSON.stringify(Q0(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(r){if(l.indexOf("application/x-www-form-urlencoded")>-1)return Iv(t,this.formSerializer).toString();if((c=L.isFileList(t))||l.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return nc(c?{"files[]":t}:t,o&&new o,this.formSerializer)}}return r||n?(a.setContentType("application/json",!1),aj(t)):t}],transformResponse:[function(t){const a=this.transitional||du.transitional,l=a&&a.forcedJSONParsing,n=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(l&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?Ce.from(c,Ce.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{du.headers[e]={}});const uu=du,sj=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lj=e=>{const t={};let a,l,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),l=i.substring(n+1).trim(),!(!a||t[a]&&sj[a])&&(a==="set-cookie"?t[a]?t[a].push(l):t[a]=[l]:t[a]=t[a]?t[a]+", "+l:l)}),t},ah=Symbol("internals");function vn(e){return e&&String(e).trim().toLowerCase()}function Wr(e){return e===!1||e==null?e:L.isArray(e)?e.map(Wr):String(e)}function nj(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(e);)t[l[1]]=l[2];return t}const rj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Gc(e,t,a,l,n){if(L.isFunction(l))return l.call(this,t,a);if(n&&(t=a),!!L.isString(t)){if(L.isString(l))return t.indexOf(l)!==-1;if(L.isRegExp(l))return l.test(t)}}function ij(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,l)=>a.toUpperCase()+l)}function cj(e,t){const a=L.toCamelCase(" "+t);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+a,{value:function(n,r,i){return this[l].call(this,t,n,r,i)},configurable:!0})})}class rc{constructor(t){t&&this.set(t)}set(t,a,l){const n=this;function r(c,o,d){const u=vn(o);if(!u)throw new Error("header name must be a non-empty string");const h=L.findKey(n,u);(!h||n[h]===void 0||d===!0||d===void 0&&n[h]!==!1)&&(n[h||o]=Wr(c))}const i=(c,o)=>L.forEach(c,(d,u)=>r(d,u,o));if(L.isPlainObject(t)||t instanceof this.constructor)i(t,a);else if(L.isString(t)&&(t=t.trim())&&!rj(t))i(lj(t),a);else if(L.isObject(t)&&L.isIterable(t)){let c={},o,d;for(const u of t){if(!L.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[d=u[0]]=(o=c[d])?L.isArray(o)?[...o,u[1]]:[o,u[1]]:u[1]}i(c,a)}else t!=null&&r(a,t,l);return this}get(t,a){if(t=vn(t),t){const l=L.findKey(this,t);if(l){const n=this[l];if(!a)return n;if(a===!0)return nj(n);if(L.isFunction(a))return a.call(this,n,l);if(L.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=vn(t),t){const l=L.findKey(this,t);return!!(l&&this[l]!==void 0&&(!a||Gc(this,this[l],l,a)))}return!1}delete(t,a){const l=this;let n=!1;function r(i){if(i=vn(i),i){const c=L.findKey(l,i);c&&(!a||Gc(l,l[c],c,a))&&(delete l[c],n=!0)}}return L.isArray(t)?t.forEach(r):r(t),n}clear(t){const a=Object.keys(this);let l=a.length,n=!1;for(;l--;){const r=a[l];(!t||Gc(this,this[r],r,t,!0))&&(delete this[r],n=!0)}return n}normalize(t){const a=this,l={};return L.forEach(this,(n,r)=>{const i=L.findKey(l,r);if(i){a[i]=Wr(n),delete a[r];return}const c=t?ij(r):String(r).trim();c!==r&&delete a[r],a[c]=Wr(n),l[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return L.forEach(this,(l,n)=>{l!=null&&l!==!1&&(a[n]=t&&L.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const l=new this(t);return a.forEach(n=>l.set(n)),l}static accessor(t){const l=(this[ah]=this[ah]={accessors:{}}).accessors,n=this.prototype;function r(i){const c=vn(i);l[c]||(cj(n,i),l[c]=!0)}return L.isArray(t)?t.forEach(r):r(t),this}}rc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(rc.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(l){this[a]=l}}});L.freezeMethods(rc);const Oa=rc;function Xc(e,t){const a=this||uu,l=t||a,n=Oa.from(l.headers);let r=l.data;return L.forEach(e,function(c){r=c.call(a,r,n.normalize(),t?t.status:void 0)}),n.normalize(),r}function V0(e){return!!(e&&e.__CANCEL__)}function mn(e,t,a){Ce.call(this,e??"canceled",Ce.ERR_CANCELED,t,a),this.name="CanceledError"}L.inherits(mn,Ce,{__CANCEL__:!0});function Y0(e,t,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?e(a):t(new Ce("Request failed with status code "+a.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function oj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dj(e,t){e=e||10;const a=new Array(e),l=new Array(e);let n=0,r=0,i;return t=t!==void 0?t:1e3,function(o){const d=Date.now(),u=l[r];i||(i=d),a[n]=o,l[n]=d;let h=r,x=0;for(;h!==n;)x+=a[h++],h=h%e;if(n=(n+1)%e,n===r&&(r=(r+1)%e),d-i<t)return;const j=u&&d-u;return j?Math.round(x*1e3/j):void 0}}function uj(e,t){let a=0,l=1e3/t,n,r;const i=(d,u=Date.now())=>{a=u,n=null,r&&(clearTimeout(r),r=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-a;h>=l?i(d,u):(n=d,r||(r=setTimeout(()=>{r=null,i(n)},l-h)))},()=>n&&i(n)]}const Di=(e,t,a=3)=>{let l=0;const n=dj(50,250);return uj(r=>{const i=r.loaded,c=r.lengthComputable?r.total:void 0,o=i-l,d=n(o),u=i<=c;l=i;const h={loaded:i,total:c,progress:c?i/c:void 0,bytes:o,rate:d||void 0,estimated:d&&c&&u?(c-i)/d:void 0,event:r,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},a)},sh=(e,t)=>{const a=e!=null;return[l=>t[0]({lengthComputable:a,total:e,loaded:l}),t[1]]},lh=e=>(...t)=>L.asap(()=>e(...t)),mj=Ht.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,Ht.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(Ht.origin),Ht.navigator&&/(msie|trident)/i.test(Ht.navigator.userAgent)):()=>!0,hj=Ht.hasStandardBrowserEnv?{write(e,t,a,l,n,r,i){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];L.isNumber(a)&&c.push(`expires=${new Date(a).toUTCString()}`),L.isString(l)&&c.push(`path=${l}`),L.isString(n)&&c.push(`domain=${n}`),r===!0&&c.push("secure"),L.isString(i)&&c.push(`SameSite=${i}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function xj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function G0(e,t,a){let l=!xj(t);return e&&(l||a==!1)?fj(e,t):t}const nh=e=>e instanceof Oa?{...e}:e;function rl(e,t){t=t||{};const a={};function l(d,u,h,x){return L.isPlainObject(d)&&L.isPlainObject(u)?L.merge.call({caseless:x},d,u):L.isPlainObject(u)?L.merge({},u):L.isArray(u)?u.slice():u}function n(d,u,h,x){if(L.isUndefined(u)){if(!L.isUndefined(d))return l(void 0,d,h,x)}else return l(d,u,h,x)}function r(d,u){if(!L.isUndefined(u))return l(void 0,u)}function i(d,u){if(L.isUndefined(u)){if(!L.isUndefined(d))return l(void 0,d)}else return l(void 0,u)}function c(d,u,h){if(h in t)return l(d,u);if(h in e)return l(void 0,d)}const o={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(d,u,h)=>n(nh(d),nh(u),h,!0)};return L.forEach(Object.keys({...e,...t}),function(u){const h=o[u]||n,x=h(e[u],t[u],u);L.isUndefined(x)&&h!==c||(a[u]=x)}),a}const X0=e=>{const t=rl({},e);let{data:a,withXSRFToken:l,xsrfHeaderName:n,xsrfCookieName:r,headers:i,auth:c}=t;if(t.headers=i=Oa.from(i),t.url=F0(G0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),L.isFormData(a)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(L.isFunction(a.getHeaders)){const o=a.getHeaders(),d=["content-type","content-length"];Object.entries(o).forEach(([u,h])=>{d.includes(u.toLowerCase())&&i.set(u,h)})}}if(Ht.hasStandardBrowserEnv&&(l&&L.isFunction(l)&&(l=l(t)),l||l!==!1&&mj(t.url))){const o=n&&r&&hj.read(r);o&&i.set(n,o)}return t},pj=typeof XMLHttpRequest<"u",gj=pj&&function(e){return new Promise(function(a,l){const n=X0(e);let r=n.data;const i=Oa.from(n.headers).normalize();let{responseType:c,onUploadProgress:o,onDownloadProgress:d}=n,u,h,x,j,S;function N(){j&&j(),S&&S(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function g(){if(!v)return;const p=Oa.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:p,config:e,request:v};Y0(function(_){a(_),N()},function(_){l(_),N()},A),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(l(new Ce("Request aborted",Ce.ECONNABORTED,e,v)),v=null)},v.onerror=function(y){const A=y&&y.message?y.message:"Network Error",U=new Ce(A,Ce.ERR_NETWORK,e,v);U.event=y||null,l(U),v=null},v.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||$0;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),l(new Ce(y,A.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,v)),v=null},r===void 0&&i.setContentType(null),"setRequestHeader"in v&&L.forEach(i.toJSON(),function(y,A){v.setRequestHeader(A,y)}),L.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),c&&c!=="json"&&(v.responseType=n.responseType),d&&([x,S]=Di(d,!0),v.addEventListener("progress",x)),o&&v.upload&&([h,j]=Di(o),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",j)),(n.cancelToken||n.signal)&&(u=p=>{v&&(l(!p||p.type?new mn(null,e,v):p),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const f=oj(n.url);if(f&&Ht.protocols.indexOf(f)===-1){l(new Ce("Unsupported protocol "+f+":",Ce.ERR_BAD_REQUEST,e));return}v.send(r||null)})},yj=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let l=new AbortController,n;const r=function(d){if(!n){n=!0,c();const u=d instanceof Error?d:this.reason;l.abort(u instanceof Ce?u:new mn(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,r(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),e=null)};e.forEach(d=>d.addEventListener("abort",r));const{signal:o}=l;return o.unsubscribe=()=>L.asap(c),o}},bj=yj,vj=function*(e,t){let a=e.byteLength;if(!t||a<t){yield e;return}let l=0,n;for(;l<a;)n=l+t,yield e.slice(l,n),l=n},jj=async function*(e,t){for await(const a of Nj(e))yield*vj(a,t)},Nj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:l}=await t.read();if(a)break;yield l}}finally{await t.cancel()}},rh=(e,t,a,l)=>{const n=jj(e,t);let r=0,i,c=o=>{i||(i=!0,l&&l(o))};return new ReadableStream({async pull(o){try{const{done:d,value:u}=await n.next();if(d){c(),o.close();return}let h=u.byteLength;if(a){let x=r+=h;a(x)}o.enqueue(new Uint8Array(u))}catch(d){throw c(d),d}},cancel(o){return c(o),n.return()}},{highWaterMark:2})},ih=64*1024,{isFunction:Ur}=L,Sj=(({Request:e,Response:t})=>({Request:e,Response:t}))(L.global),{ReadableStream:ch,TextEncoder:oh}=L.global,dh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wj=e=>{e=L.merge.call({skipUndefined:!0},Sj,e);const{fetch:t,Request:a,Response:l}=e,n=t?Ur(t):typeof fetch=="function",r=Ur(a),i=Ur(l);if(!n)return!1;const c=n&&Ur(ch),o=n&&(typeof oh=="function"?(S=>N=>S.encode(N))(new oh):async S=>new Uint8Array(await new a(S).arrayBuffer())),d=r&&c&&dh(()=>{let S=!1;const N=new a(Ht.origin,{body:new ch,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!N}),u=i&&c&&dh(()=>L.isReadableStream(new l("").body)),h={stream:u&&(S=>S.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!h[S]&&(h[S]=(N,v)=>{let g=N&&N[S];if(g)return g.call(N);throw new Ce(`Response type '${S}' is not supported`,Ce.ERR_NOT_SUPPORT,v)})});const x=async S=>{if(S==null)return 0;if(L.isBlob(S))return S.size;if(L.isSpecCompliantForm(S))return(await new a(Ht.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(L.isArrayBufferView(S)||L.isArrayBuffer(S))return S.byteLength;if(L.isURLSearchParams(S)&&(S=S+""),L.isString(S))return(await o(S)).byteLength},j=async(S,N)=>{const v=L.toFiniteNumber(S.getContentLength());return v??x(N)};return async S=>{let{url:N,method:v,data:g,signal:f,cancelToken:p,timeout:y,onDownloadProgress:A,onUploadProgress:U,responseType:_,headers:H,withCredentials:G="same-origin",fetchOptions:E}=X0(S),W=t||fetch;_=_?(_+"").toLowerCase():"text";let D=bj([f,p&&p.toAbortSignal()],y),ue=null;const ie=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let oe;try{if(U&&d&&v!=="get"&&v!=="head"&&(oe=await j(H,g))!==0){let X=new a(N,{method:"POST",body:g,duplex:"half"}),z;if(L.isFormData(g)&&(z=X.headers.get("content-type"))&&H.setContentType(z),X.body){const[B,O]=sh(oe,Di(lh(U)));g=rh(X.body,ih,B,O)}}L.isString(G)||(G=G?"include":"omit");const R=r&&"credentials"in a.prototype,$={...E,signal:D,method:v.toUpperCase(),headers:H.normalize().toJSON(),body:g,duplex:"half",credentials:R?G:void 0};ue=r&&new a(N,$);let T=await(r?W(ue,E):W(N,$));const Q=u&&(_==="stream"||_==="response");if(u&&(A||Q&&ie)){const X={};["status","statusText","headers"].forEach(F=>{X[F]=T[F]});const z=L.toFiniteNumber(T.headers.get("content-length")),[B,O]=A&&sh(z,Di(lh(A),!0))||[];T=new l(rh(T.body,ih,B,()=>{O&&O(),ie&&ie()}),X)}_=_||"text";let ne=await h[L.findKey(h,_)||"text"](T,S);return!Q&&ie&&ie(),await new Promise((X,z)=>{Y0(X,z,{data:ne,headers:Oa.from(T.headers),status:T.status,statusText:T.statusText,config:S,request:ue})})}catch(R){throw ie&&ie(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,S,ue),{cause:R.cause||R}):Ce.from(R,R&&R.code,S,ue)}}},Cj=new Map,Z0=e=>{let t=e&&e.env||{};const{fetch:a,Request:l,Response:n}=t,r=[l,n,a];let i=r.length,c=i,o,d,u=Cj;for(;c--;)o=r[c],d=u.get(o),d===void 0&&u.set(o,d=c?new Map:wj(t)),u=d;return d};Z0();const mu={http:Hv,xhr:gj,fetch:{get:Z0}};L.forEach(mu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uh=e=>`- ${e}`,_j=e=>L.isFunction(e)||e===null||e===!1;function Ej(e,t){e=L.isArray(e)?e:[e];const{length:a}=e;let l,n;const r={};for(let i=0;i<a;i++){l=e[i];let c;if(n=l,!_j(l)&&(n=mu[(c=String(l)).toLowerCase()],n===void 0))throw new Ce(`Unknown adapter '${c}'`);if(n&&(L.isFunction(n)||(n=n.get(t))))break;r[c||"#"+i]=n}if(!n){const i=Object.entries(r).map(([o,d])=>`adapter ${o} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=a?i.length>1?`since :
`+i.map(uh).join(`
`):" "+uh(i[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n}const K0={getAdapter:Ej,adapters:mu};function Zc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mn(null,e)}function mh(e){return Zc(e),e.headers=Oa.from(e.headers),e.data=Xc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),K0.getAdapter(e.adapter||uu.adapter,e)(e).then(function(l){return Zc(e),l.data=Xc.call(e,e.transformResponse,l),l.headers=Oa.from(l.headers),l},function(l){return V0(l)||(Zc(e),l&&l.response&&(l.response.data=Xc.call(e,e.transformResponse,l.response),l.response.headers=Oa.from(l.response.headers))),Promise.reject(l)})}const J0="1.13.2",ic={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ic[e]=function(l){return typeof l===e||"a"+(t<1?"n ":" ")+e}});const hh={};ic.transitional=function(t,a,l){function n(r,i){return"[Axios v"+J0+"] Transitional option '"+r+"'"+i+(l?". "+l:"")}return(r,i,c)=>{if(t===!1)throw new Ce(n(i," has been removed"+(a?" in "+a:"")),Ce.ERR_DEPRECATED);return a&&!hh[i]&&(hh[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(r,i,c):!0}};ic.spelling=function(t){return(a,l)=>(console.warn(`${l} is likely a misspelling of ${t}`),!0)};function Aj(e,t,a){if(typeof e!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let n=l.length;for(;n-- >0;){const r=l[n],i=t[r];if(i){const c=e[r],o=c===void 0||i(c,r,e);if(o!==!0)throw new Ce("option "+r+" must be "+o,Ce.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ce("Unknown option "+r,Ce.ERR_BAD_OPTION)}}const Ir={assertOptions:Aj,validators:ic},Ra=Ir.validators;class Ri{constructor(t){this.defaults=t||{},this.interceptors={request:new th,response:new th}}async request(t,a){try{return await this._request(t,a)}catch(l){if(l instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const r=n.stack?n.stack.replace(/^.+\n/,""):"";try{l.stack?r&&!String(l.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+r):l.stack=r}catch{}}throw l}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=rl(this.defaults,a);const{transitional:l,paramsSerializer:n,headers:r}=a;l!==void 0&&Ir.assertOptions(l,{silentJSONParsing:Ra.transitional(Ra.boolean),forcedJSONParsing:Ra.transitional(Ra.boolean),clarifyTimeoutError:Ra.transitional(Ra.boolean)},!1),n!=null&&(L.isFunction(n)?a.paramsSerializer={serialize:n}:Ir.assertOptions(n,{encode:Ra.function,serialize:Ra.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ir.assertOptions(a,{baseUrl:Ra.spelling("baseURL"),withXsrfToken:Ra.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=r&&L.merge(r.common,r[a.method]);r&&L.forEach(["delete","get","head","post","put","patch","common"],S=>{delete r[S]}),a.headers=Oa.concat(i,r);const c=[];let o=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(a)===!1||(o=o&&N.synchronous,c.unshift(N.fulfilled,N.rejected))});const d=[];this.interceptors.response.forEach(function(N){d.push(N.fulfilled,N.rejected)});let u,h=0,x;if(!o){const S=[mh.bind(this),void 0];for(S.unshift(...c),S.push(...d),x=S.length,u=Promise.resolve(a);h<x;)u=u.then(S[h++],S[h++]);return u}x=c.length;let j=a;for(;h<x;){const S=c[h++],N=c[h++];try{j=S(j)}catch(v){N.call(this,v);break}}try{u=mh.call(this,j)}catch(S){return Promise.reject(S)}for(h=0,x=d.length;h<x;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=rl(this.defaults,t);const a=G0(t.baseURL,t.url,t.allowAbsoluteUrls);return F0(a,t.params,t.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(t){Ri.prototype[t]=function(a,l){return this.request(rl(l||{},{method:t,url:a,data:(l||{}).data}))}});L.forEach(["post","put","patch"],function(t){function a(l){return function(r,i,c){return this.request(rl(c||{},{method:t,headers:l?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Ri.prototype[t]=a(),Ri.prototype[t+"Form"]=a(!0)});const ei=Ri;class hu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(r){a=r});const l=this;this.promise.then(n=>{if(!l._listeners)return;let r=l._listeners.length;for(;r-- >0;)l._listeners[r](n);l._listeners=null}),this.promise.then=n=>{let r;const i=new Promise(c=>{l.subscribe(c),r=c}).then(n);return i.cancel=function(){l.unsubscribe(r)},i},t(function(r,i,c){l.reason||(l.reason=new mn(r,i,c),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=l=>{t.abort(l)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new hu(function(n){t=n}),cancel:t}}}const Oj=hu;function zj(e){return function(a){return e.apply(null,a)}}function Tj(e){return L.isObject(e)&&e.isAxiosError===!0}const ed={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ed).forEach(([e,t])=>{ed[t]=e});const Dj=ed;function P0(e){const t=new ei(e),a=O0(ei.prototype.request,t);return L.extend(a,ei.prototype,t,{allOwnKeys:!0}),L.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return P0(rl(e,n))},a}const jt=P0(uu);jt.Axios=ei;jt.CanceledError=mn;jt.CancelToken=Oj;jt.isCancel=V0;jt.VERSION=J0;jt.toFormData=nc;jt.AxiosError=Ce;jt.Cancel=jt.CanceledError;jt.all=function(t){return Promise.all(t)};jt.spread=zj;jt.isAxiosError=Tj;jt.mergeConfig=rl;jt.AxiosHeaders=Oa;jt.formToJSON=e=>Q0(L.isHTMLForm(e)?new FormData(e):e);jt.getAdapter=K0.getAdapter;jt.HttpStatusCode=Dj;jt.default=jt;const Rj=jt,Mj=()=>({}).VITE_API_URL?{}.VITE_API_URL:window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?"/api":"http://localhost:5000/api",V=Rj.create({baseURL:Mj()});V.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));V.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const Mi={login:(e,t)=>V.post("/auth/login",{email:e,password:t}),register:e=>V.post("/auth/register",e),getCurrentUser:()=>V.get("/auth/me"),getUsers:()=>V.get("/auth/users")},Wa={getAll:()=>V.get("/brands"),getById:e=>V.get(`/brands/${e}`),create:e=>V.post("/brands",e),update:(e,t)=>V.patch(`/brands/${e}`,t),delete:e=>V.delete(`/brands/${e}`),getStats:e=>V.get(`/brands/${e}/stats`)},W0={search:e=>V.get("/products/search",{params:e}),getByUPC:e=>V.get(`/products/by-upc/${e}`),getById:e=>V.get(`/products/${e}`),getCategories:e=>V.get(`/products/brand/${e}/categories`)},Vs={preview:e=>V.post("/catalogs/preview",e,{headers:{"Content-Type":"multipart/form-data"}}),upload:(e,t)=>V.post("/catalogs/upload",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t,timeout:6e5}),getUploads:()=>V.get("/catalogs/uploads"),deleteUpload:(e,t=!1)=>V.delete(`/catalogs/uploads/${e}`,{params:{deactivateProducts:t}})},Et={getAll:e=>V.get("/orders",{params:e}),getById:e=>V.get(`/orders/${e}`),create:e=>V.post("/orders",e),update:(e,t)=>V.patch(`/orders/${e}`,t),delete:e=>V.delete(`/orders/${e}`),addItem:(e,t)=>V.post(`/orders/${e}/items`,t),updateItem:(e,t,a)=>V.patch(`/orders/${e}/items/${t}`,a),deleteItem:(e,t)=>V.delete(`/orders/${e}/items/${t}`),copy:(e,t)=>V.post(`/orders/${e}/copy`,t),getFamilyGroups:e=>V.get(`/orders/${e}/family-groups`),getInventory:e=>V.get("/orders/inventory",{params:e}),getShipDates:e=>V.get("/orders/ship-dates",{params:e}),adjustItem:(e,t,a)=>V.patch(`/orders/${e}/items/${t}/adjust`,{adjusted_quantity:a}),batchAdjust:e=>V.post("/orders/batch-adjust",{adjustments:e}),getVelocity:e=>V.get("/orders/inventory/velocity",{params:e}),getAvailableProducts:e=>V.get("/orders/available-products",{params:e}),getAvailableProductFilters:e=>V.get("/orders/available-products/filters",{params:e}),ignoreProduct:e=>V.post("/orders/ignore-product",e),getIgnoredProducts:e=>V.get("/orders/ignored-products",{params:e}),unignoreProduct:e=>V.post("/orders/unignore-product",e),finalize:e=>V.post(`/orders/${e}/finalize`),getFinalizedStatus:e=>V.get("/orders/finalized-status",{params:e})},xh={finalized:e=>V.post("/exports/finalized",e,{responseType:"blob"}),updateOrderForm:e=>V.post("/exports/update-order-form",e,{headers:{"Content-Type":"multipart/form-data"}})},td={compare:(e,t,a)=>V.get("/prices/compare",{params:{season1:e,season2:t,...a&&{brandId:a}}}),getProductHistory:e=>V.get(`/prices/product/${e}/history`),getSeasonPrices:(e,t)=>V.get(`/prices/season/${e}`,{params:t}),getCarryover:(e,t)=>V.get(`/prices/carryover/${e}`,{params:t?{brandId:t}:{}}),getSeasonsWithPrices:e=>V.get("/prices/seasons-with-prices",{params:e?{brandId:e}:{}}),update:e=>V.post("/prices",e)},yl={testConnection:()=>V.get("/sales/test-connection"),sync:(e=12)=>V.post("/sales/sync",{months:e}),getSyncStatus:e=>V.get(`/sales/sync-status/${e}`),getByUpc:e=>V.get(`/sales/by-upc/${e}`),getByBrand:(e=12)=>V.get("/sales/by-brand",{params:{period_months:e}}),getTrends:e=>V.get(`/sales/trends/${encodeURIComponent(e)}`),getBrandMapping:()=>V.get("/sales/brand-mapping"),updateBrandMapping:(e,t)=>V.put(`/sales/brand-mapping/${e}`,t),getSummary:()=>V.get("/sales/summary")},Nl={getSeasonBudget:e=>V.get(`/budgets/season/${e}`),setSeasonBudget:(e,t)=>V.post(`/budgets/season/${e}`,t),setAllocations:(e,t)=>V.post(`/budgets/season/${e}/allocations`,{allocations:t}),getSuggestions:(e,t)=>V.get(`/budgets/suggest/${e}`,{params:{total_budget:t}}),getStatus:()=>V.get("/budgets/status"),deleteBudget:e=>V.delete(`/budgets/season/${e}`)},Rs={getAll:e=>V.get("/brand-templates",{params:e?{brandId:e}:{}}),getById:e=>V.get(`/brand-templates/${e}`),preview:e=>V.post("/brand-templates/preview",e,{headers:{"Content-Type":"multipart/form-data"}}),create:e=>V.post("/brand-templates",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>V.put(`/brand-templates/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>V.delete(`/brand-templates/${e}`),download:e=>V.get(`/brand-templates/${e}/download`,{responseType:"blob"}),exportWithTemplate:(e,t)=>V.post("/exports/orders/brand-template",{orderIds:e,templateId:t},{responseType:"blob"})},I0=m.createContext(null),hl=()=>{const e=m.useContext(I0);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Uj=({children:e})=>{const[t,a]=m.useState(null),[l,n]=m.useState(!0),[r,i]=m.useState(localStorage.getItem("token"));m.useEffect(()=>{(async()=>{const S=localStorage.getItem("token"),N=localStorage.getItem("user");if(S&&N)try{i(S),a(JSON.parse(N));const v=await Mi.getCurrentUser();a(v.data.user),localStorage.setItem("user",JSON.stringify(v.data.user))}catch(v){console.error("Token validation failed:",v),o()}n(!1)})()},[]);const c=async(j,S)=>{var N,v;try{const g=await Mi.login(j,S),{token:f,user:p}=g.data;return localStorage.setItem("token",f),localStorage.setItem("user",JSON.stringify(p)),i(f),a(p),{success:!0}}catch(g){return console.error("Login error:",g),{success:!1,error:((v=(N=g.response)==null?void 0:N.data)==null?void 0:v.error)||"Login failed. Please try again."}}},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),a(null)},d=j=>t?Array.isArray(j)?j.includes(t.role):t.role===j:!1,x={user:t,token:r,loading:l,login:c,logout:o,hasRole:d,isAdmin:()=>d("admin"),isBuyer:()=>d(["admin","buyer"]),isAuthenticated:!!r&&!!t};return s.jsx(I0.Provider,{value:x,children:e})},Rt=({children:e,requiredRole:t})=>{const{user:a,loading:l,isAuthenticated:n,hasRole:r}=hl();return l?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?t&&!r(t)?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):e:s.jsx(_n,{to:"/login",replace:!0})},Bj=()=>{const[e,t]=m.useState(""),[a,l]=m.useState(""),[n,r]=m.useState(""),[i,c]=m.useState(!1),{login:o}=hl(),d=Ha(),u=async h=>{h.preventDefault(),r(""),c(!0);try{const x=await o(e,a);x.success?d("/"):r(x.error||"Login failed. Please try again.")}catch{r("An unexpected error occurred. Please try again.")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-2xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"The Front Climbing Club"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Preseason Ordering System"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[n&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsx("div",{className:"flex",children:s.jsx("div",{className:"ml-3",children:s.jsx("h3",{className:"text-sm font-medium text-red-800",children:n})})})}),s.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:h=>t(h.target.value),disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:a,onChange:h=>l(h.target.value),disabled:i})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${i?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:i?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})]})})},We=({children:e})=>{const{user:t,logout:a,isAdmin:l,isBuyer:n}=hl(),r=Ha(),i=ml(),c=()=>{a(),r("/login")},o=u=>i.pathname===u,d=u=>{const h="px-3 py-2 rounded-md text-sm font-medium transition-colors";return o(u)?`${h} bg-blue-700 text-white`:`${h} text-blue-100 hover:bg-blue-700 hover:text-white`};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-blue-600 shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(la,{to:"/",className:"text-white text-xl font-bold",children:"Front Climbing - Preseason"})}),s.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[s.jsx(la,{to:"/",className:d("/"),children:"Orders"}),s.jsx(la,{to:"/products",className:d("/products"),children:"Products"}),s.jsx(la,{to:"/brands",className:d("/brands"),children:"Brands"}),n()&&s.jsxs(s.Fragment,{children:[s.jsx(la,{to:"/catalog-upload",className:d("/catalog-upload"),children:"Catalog Upload"}),s.jsx(la,{to:"/sales-data-upload",className:d("/sales-data-upload"),children:"Sales Data"}),s.jsx(la,{to:"/order-suggestions",className:d("/order-suggestions"),children:"Suggestions"}),s.jsx(la,{to:"/sales-sync",className:d("/sales-sync"),children:"Sales Sync"}),s.jsx(la,{to:"/budget",className:d("/budget"),children:"Budget"}),s.jsx(la,{to:"/order-adjustment",className:d("/order-adjustment"),children:"Adjust Orders"}),s.jsx(la,{to:"/export-center",className:d("/export-center"),children:"Export"})]}),l()&&s.jsx(la,{to:"/users",className:d("/users"),children:"Users"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(la,{to:"/help",className:"text-blue-100 hover:text-white transition-colors",title:"Help",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"text-white text-sm",children:[s.jsxs("span",{className:"font-medium",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),s.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-500 rounded text-xs",children:t==null?void 0:t.role})]}),s.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm font-medium",children:"Logout"})]})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),s.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsx("p",{className:"text-center text-gray-500 text-sm",children:" 2025 The Front Climbing Club - Preseason Ordering System"})})})]})},kj=()=>{const[e,t]=m.useState(""),[a,l]=m.useState([]),[n,r]=m.useState([]),[i,c]=m.useState(""),[o,d]=m.useState(!1),[u,h]=m.useState(""),[x,j]=m.useState(1),[S,N]=m.useState(0),v=50;m.useEffect(()=>{(async()=>{try{const W=await Wa.getAll();r(W.data.brands||[])}catch(W){console.error("Error fetching brands:",W)}})()},[]);const g=m.useCallback(async(E,W,D=1)=>{var ue,ie;d(!0),h("");try{const oe={limit:v,offset:(D-1)*v};E&&E.trim().length>=2&&(oe.q=E.trim()),W&&(oe.brandId=W);const R=await W0.search(oe);l(R.data.products||[]),N(R.data.count||0)}catch(oe){console.error("Search error:",oe),h(((ie=(ue=oe.response)==null?void 0:ue.data)==null?void 0:ie.error)||"Failed to load products. Please try again."),l([])}finally{d(!1)}},[]);m.useEffect(()=>{const E=setTimeout(()=>{g(e,i,x)},e?300:0);return()=>clearTimeout(E)},[e,i,x,g]);const f=E=>{t(E.target.value),j(1)},p=E=>{c(E.target.value),j(1)},y=()=>{a.length===v&&j(E=>E+1)},A=()=>{x>1&&j(E=>E-1)},U=E=>{const W=Math.ceil(S/v);E>=1&&E<=W&&j(E)},_=Math.ceil(S/v),H=()=>{const E=[];if(_<=7)for(let D=1;D<=_;D++)E.push(D);else{E.push(1),x>3&&E.push("...");const D=Math.max(2,x-1),ue=Math.min(_-1,x+1);for(let ie=D;ie<=ue;ie++)E.includes(ie)||E.push(ie);x<_-2&&E.push("..."),E.includes(_)||E.push(_)}return E},G=E=>E?`$${parseFloat(E).toFixed(2)}`:"N/A";return s.jsx(We,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Search"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Search across ",S.toLocaleString()," products from all brands"]})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Products"}),s.jsx("input",{type:"text",id:"search",placeholder:"Search by name, UPC, SKU, description...",value:e,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Brand"}),s.jsxs("select",{id:"brand",value:i,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"All Brands"}),n.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]})]})]})}),u&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:u})}),o&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!o&&a.length===0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e?"Try adjusting your search or filter to find what you're looking for.":"No products have been uploaded yet. Upload a catalog to get started."})]}),!o&&a.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"UPC"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),a.some(E=>E.inseam)&&s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inseam"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Color"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wholesale"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MSRP"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),E.sku&&s.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",E.sku]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.upc}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.brand_name||"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[E.category||"N/A",E.subcategory&&s.jsx("div",{className:"text-xs text-gray-400",children:E.subcategory})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.size||"N/A"}),a.some(W=>W.inseam)&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.inseam||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.color||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G(E.wholesale_cost)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G(E.msrp)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-4",onClick:()=>alert("View details: Coming soon!"),children:"View"}),s.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>alert("Add to order: Coming soon!"),children:"Add to Order"})]})]},E.id))})]})})}),s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-lg shadow",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:A,disabled:x===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700 self-center",children:[x," / ",_]}),s.jsx("button",{onClick:y,disabled:x>=_,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(x-1)*v+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(x*v,(x-1)*v+a.length)})," ","of ",s.jsx("span",{className:"font-medium",children:S.toLocaleString()})," results"]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsxs("button",{onClick:A,disabled:x===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),H().map((E,W)=>E==="..."?s.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},`ellipsis-${W}`):s.jsx("button",{onClick:()=>U(E),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${E===x?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:E},E)),s.jsxs("button",{onClick:y,disabled:x>=_,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),_>7&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Go to:"}),s.jsx("input",{type:"number",min:"1",max:_,className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",onKeyDown:E=>{E.key==="Enter"&&(U(parseInt(E.target.value,10)),E.target.value="")},placeholder:x.toString()})]})]})]})]})]})]})})},Lj=({brandId:e,brandName:t,onClose:a,onSuccess:l,existingTemplate:n=null})=>{const[r,i]=m.useState(1),[c,o]=m.useState(null),[d,u]=m.useState(null),[h,x]=m.useState(!1),[j,S]=m.useState(""),[N,v]=m.useState((n==null?void 0:n.name)||""),[g,f]=m.useState((n==null?void 0:n.description)||""),[p,y]=m.useState((n==null?void 0:n.data_start_row)||2),[A,U]=m.useState((n==null?void 0:n.column_mappings)||{}),[_,H]=m.useState((n==null?void 0:n.sheet_name)||""),[G,E]=m.useState((n==null?void 0:n.ship_date_columns)||{}),W=m.useRef(null),D=async B=>{var F,K;const O=B.target.files[0];if(O){o(O),S(""),x(!0);try{const I=new FormData;I.append("file",O);const ee=await Rs.preview(I);u(ee.data),ee.data.sheetNames.length>0&&!_&&H(ee.data.sheetNames[0]),i(2)}catch(I){console.error("Error previewing file:",I),S(((K=(F=I.response)==null?void 0:F.data)==null?void 0:K.error)||"Failed to preview file"),o(null)}finally{x(!1)}}},ue=(B,O)=>{if(O===""){const F={...A};delete F[B],U(F)}else U({...A,[B]:O})},ie=(B,O)=>{if(O===""){const F={...G};delete F[B],E(F)}else E({...G,[B]:O})},oe=()=>{const B=Object.keys(G),O=d==null?void 0:d.columns.find(F=>!B.includes(F));O&&E({...G,[O]:""})},R=B=>{const O={...G};delete O[B],E(O)},$=async()=>{var B,O;if(!N.trim()){S("Template name is required");return}if(Object.keys(A).length===0){S("At least one column mapping is required");return}x(!0),S("");try{const F=new FormData;c&&F.append("file",c),F.append("brandId",e),F.append("name",N.trim()),F.append("description",g.trim()),F.append("dataStartRow",p),F.append("columnMappings",JSON.stringify(A)),F.append("shipDateColumns",JSON.stringify(G)),_&&F.append("sheetName",_),n?await Rs.update(n.id,F):await Rs.create(F),l()}catch(F){console.error("Error saving template:",F),S(((O=(B=F.response)==null?void 0:B.data)==null?void 0:O.error)||"Failed to save template")}finally{x(!1)}},T=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>{var B;return(B=W.current)==null?void 0:B.click()},children:[s.jsx("div",{className:"text-gray-400 mb-2",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),s.jsx("p",{className:"text-gray-600",children:"Click to upload Excel template"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Supports .xlsx and .xls files"})]}),s.jsx("input",{ref:W,type:"file",accept:".xlsx,.xls",onChange:D,className:"hidden"})]}),c&&s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded",children:[s.jsx("span",{className:"text-sm text-gray-600",children:c.name}),s.jsx("button",{onClick:()=>{o(null),u(null)},className:"text-red-500 hover:text-red-700",children:"Remove"})]})]}),Q=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Start Row"}),s.jsx("input",{type:"number",min:"1",max:(d==null?void 0:d.totalRows)||100,value:p,onChange:B=>y(parseInt(B.target.value)||2),className:"w-full border border-gray-300 rounded px-3 py-2"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Row where data should begin (rows above are preserved as headers)"})]}),(d==null?void 0:d.sheetNames.length)>1&&s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sheet"}),s.jsx("select",{value:_,onChange:B=>H(B.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",children:d.sheetNames.map(B=>s.jsx("option",{value:B,children:B},B))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview (First 10 rows)"}),s.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded max-h-64",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500",children:"Row"}),d==null?void 0:d.columns.map(B=>s.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500",children:B},B))]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:d==null?void 0:d.previewRows.map((B,O)=>s.jsxs("tr",{className:O+1===p-1?"bg-yellow-50":"",children:[s.jsx("td",{className:"px-2 py-1 text-gray-400",children:O+1}),d.columns.map(F=>s.jsx("td",{className:"px-2 py-1 truncate max-w-[150px]",title:String(B[F]||""),children:B[F]||""},F))]},O))})]})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Yellow row = last header row (row ",p-1,")"]})]}),s.jsx("button",{onClick:()=>i(3),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Next: Map Columns"})]}),ne=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Column Mappings"}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Map Excel columns to data fields. Header values from row ",p-1," shown for reference."]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:d==null?void 0:d.availableFields.map(B=>{var K;const O=d.previewRows[p-2]||d.previewRows[0]||{},F=(K=Object.entries(A).find(([I,ee])=>I===B.key))==null?void 0:K[1];return s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"w-32 text-sm font-medium text-gray-700",children:B.label}),s.jsxs("select",{value:F||"",onChange:I=>ue(B.key,I.target.value),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",children:"-- Not mapped --"}),d.columns.map(I=>s.jsxs("option",{value:I,children:[I," ",O[I]?`(${O[I]})`:""]},I))]})]},B.key)})}),s.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Mapped fields:"})," ",Object.keys(A).length>0?Object.entries(A).map(([B,O])=>`${B}${O}`).join(", "):"None"]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i(2),className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded hover:bg-gray-200",children:"Back"}),s.jsx("button",{onClick:()=>i(4),disabled:Object.keys(A).length===0,className:"flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:bg-gray-300",children:"Next: Ship Date Columns"})]})]}),X=()=>{const B=(d==null?void 0:d.previewRows[p-2])||(d==null?void 0:d.previewRows[0])||{},O=["ship_1","ship_2","ship_3","ship_4","ship_5","ship_6"],F={ship_1:"Ship 1",ship_2:"Ship 2",ship_3:"Ship 3",ship_4:"Ship 4",ship_5:"Ship 5",ship_6:"Ship 6"};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ship Window Quantity Columns"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"If this template has multiple quantity columns for different ship windows, map each column to a ship number. Orders are assigned to ship windows chronologically (earliest ship date = Ship 1, etc.)."}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(G).map(([K,I])=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[s.jsx("select",{value:K,onChange:ee=>{const pe={...G};delete pe[K],pe[ee.target.value]=I,E(pe)},className:"border border-gray-300 rounded px-2 py-1 text-sm",children:d==null?void 0:d.columns.map(ee=>{const pe=Object.keys(G).includes(ee)&&ee!==K;return s.jsxs("option",{value:ee,disabled:pe,children:[ee," ",B[ee]?`(${B[ee]})`:""]},ee)})}),s.jsx("span",{className:"text-gray-500",children:"="}),s.jsxs("select",{value:I,onChange:ee=>ie(K,ee.target.value),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",children:"-- Select Ship --"}),O.map(ee=>s.jsx("option",{value:ee,disabled:Object.values(G).includes(ee)&&G[K]!==ee,children:F[ee]},ee))]}),s.jsx("button",{onClick:()=>R(K),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},K))}),s.jsx("button",{onClick:oe,className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"+ Add Ship Column"}),Object.keys(G).length>0&&s.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Mapped:"})," ",Object.entries(G).filter(([,K])=>K).map(([K,I])=>`${K}=${F[I]||I}`).join(", ")||"None complete"]})}),s.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded",children:s.jsxs("p",{className:"text-xs text-yellow-700",children:[s.jsx("strong",{children:"Note:"}),` If you don't use ship columns, leave this section empty. The regular "Quantity" field mapping will be used instead.`]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i(3),className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded hover:bg-gray-200",children:"Back"}),s.jsx("button",{onClick:()=>i(5),className:"flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Next: Save Template"})]})]})},z=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name *"}),s.jsx("input",{type:"text",value:N,onChange:B=>v(B.target.value),placeholder:"e.g., Standard Order Form",className:"w-full border border-gray-300 rounded px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:g,onChange:B=>f(B.target.value),placeholder:"Optional description...",rows:2,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Brand:"})," ",t]}),s.jsxs("p",{children:[s.jsx("strong",{children:"File:"})," ",(c==null?void 0:c.name)||(n==null?void 0:n.original_filename)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data starts at row:"})," ",p]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mapped columns:"})," ",Object.keys(A).length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ship columns:"})," ",Object.keys(G).length>0?Object.entries(G).filter(([,B])=>B).map(([B,O])=>`${B}=${O.replace("ship_","Ship ")}`).join(", "):"None (using regular quantity)"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i(4),className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded hover:bg-gray-200",children:"Back"}),s.jsx("button",{onClick:$,disabled:h||!N.trim(),className:"flex-1 bg-green-600 text-white py-2 rounded hover:bg-green-700 disabled:bg-gray-300",children:h?"Saving...":n?"Update Template":"Save Template"})]})]});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:[n?"Edit Template":"Add Order Form Template",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["for ",t]})]}),s.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b",children:s.jsx("div",{className:"flex items-center justify-between text-xs",children:["Upload","Configure","Map Fields","Ship Dates","Save"].map((B,O)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${r>O+1?"bg-green-500 text-white":r===O+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:r>O+1?"":O+1}),s.jsx("span",{className:`ml-1 hidden sm:inline ${r===O+1?"font-medium":"text-gray-500"}`,children:B}),O<4&&s.jsx("div",{className:"w-4 sm:w-6 h-0.5 mx-1 bg-gray-200"})]},O))})}),s.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[j&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded text-sm",children:j}),h&&r===1&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Processing file..."})]}),!h&&r===1&&T(),r===2&&Q(),r===3&&ne(),r===4&&X(),r===5&&z()]})]})})},qj=({brandId:e,brandName:t})=>{const[a,l]=m.useState([]),[n,r]=m.useState(!0),[i,c]=m.useState(""),[o,d]=m.useState(!1),[u,h]=m.useState(null),[x,j]=m.useState(null);m.useEffect(()=>{S()},[e]);const S=async()=>{try{r(!0);const p=await Rs.getAll(e);l(p.data.templates)}catch(p){console.error("Error fetching templates:",p),c("Failed to load templates")}finally{r(!1)}},N=async p=>{if(window.confirm(`Delete template "${p.name}"? This cannot be undone.`)){j(p.id);try{await Rs.delete(p.id),l(a.filter(y=>y.id!==p.id))}catch(y){console.error("Error deleting template:",y),c("Failed to delete template")}finally{j(null)}}},v=async p=>{try{const y=await Rs.download(p.id),A=new Blob([y.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),U=window.URL.createObjectURL(A),_=document.createElement("a");_.href=U,_.download=p.original_filename,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(U)}catch(y){console.error("Error downloading template:",y),c("Failed to download template")}},g=()=>{d(!1),h(null),S()},f=p=>!p||typeof p!="object"?0:Object.keys(p).length;return n?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading templates..."}):s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Order Form Templates"}),s.jsx("button",{onClick:()=>d(!0),className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"+ Add Template"})]}),i&&s.jsxs("div",{className:"mb-3 p-2 bg-red-50 text-red-700 rounded text-sm",children:[i,s.jsx("button",{onClick:()=>c(""),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),a.length===0?s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded border border-dashed border-gray-300",children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"No templates yet"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Upload an Excel template to use for exports"})]}):s.jsx("div",{className:"space-y-2",children:a.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border border-gray-200",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-800",children:p.name}),s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:[f(p.column_mappings)," fields mapped"]})]}),p.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:p.description}),s.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["File: ",p.original_filename," | Data starts at row ",p.data_start_row]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>v(p),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Download template",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),s.jsx("button",{onClick:()=>h(p),className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded",title:"Edit template",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>N(p),disabled:x===p.id,className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded disabled:opacity-50",title:"Delete template",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},p.id))}),(o||u)&&s.jsx(Lj,{brandId:e,brandName:t,existingTemplate:u,onClose:()=>{d(!1),h(null)},onSuccess:g})]})},Hj=()=>{const{isAdmin:e}=hl(),[t,a]=m.useState([]),[l,n]=m.useState(!0),[r,i]=m.useState(""),[c,o]=m.useState(!1),[d,u]=m.useState(null),[h,x]=m.useState(""),[j,S]=m.useState(null),[N,v]=m.useState({name:"",vendorCode:"",contactName:"",contactEmail:"",contactPhone:"",notes:"",active:!0});m.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const _=await Wa.getAll();a(_.data.brands||[]),i("")}catch(_){console.error("Error fetching brands:",_),i("Failed to load brands. Please try again.")}finally{n(!1)}},f=(_=null)=>{_?(u(_),v({name:_.name||"",vendorCode:_.vendorCode||"",contactName:_.contactName||"",contactEmail:_.contactEmail||"",contactPhone:_.contactPhone||"",notes:_.notes||"",active:_.active!==!1})):(u(null),v({name:"",vendorCode:"",contactName:"",contactEmail:"",contactPhone:"",notes:"",active:!0})),o(!0)},p=()=>{o(!1),u(null),v({name:"",vendorCode:"",contactName:"",contactEmail:"",contactPhone:"",notes:"",active:!0})},y=async _=>{var H,G;_.preventDefault();try{d?await Wa.update(d.id,N):await Wa.create(N),await g(),p()}catch(E){console.error("Error saving brand:",E),alert(((G=(H=E.response)==null?void 0:H.data)==null?void 0:G.error)||"Failed to save brand. Please try again.")}},A=async(_,H=!1)=>{var G,E,W,D;if(!(!H&&!window.confirm(`Are you sure you want to delete "${_.name}"? This action cannot be undone.`)))try{H?(await V.post("/migrations/delete-brand-with-products",{brandId:_.id})).data.success&&await g():(await Wa.delete(_.id),await g())}catch(ue){console.error("Error deleting brand:",ue);const ie=((E=(G=ue.response)==null?void 0:G.data)==null?void 0:E.error)||"Failed to delete brand.",oe=(D=(W=ue.response)==null?void 0:W.data)==null?void 0:D.productCount;oe?window.confirm(`This brand has ${oe} product(s) associated with it.

Do you want to delete the brand AND all ${oe} products?

WARNING: This will permanently delete all products for "${_.name}". This cannot be undone.`)&&await A(_,!0):alert(ie)}},U=t.filter(_=>_.name.toLowerCase().includes(h.toLowerCase())||_.vendorCode&&_.vendorCode.toLowerCase().includes(h.toLowerCase()));return l?s.jsx(We,{children:s.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsxs(We,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Brand Management"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Manage your ",t.length," brand",t.length!==1?"s":""]})]}),e()&&s.jsx("button",{onClick:()=>f(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium",children:"Add New Brand"})]}),r&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:r})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsx("input",{type:"text",placeholder:"Search brands by name or vendor code...",value:h,onChange:_=>x(_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e()&&s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:e()?5:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No brands found"})}):U.map(_=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>S(j===_.id?null:_.id),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:`w-4 h-4 transition-transform ${j===_.id?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.vendorCode||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.contactName?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-gray-900",children:_.contactName}),_.contactEmail&&s.jsx("div",{className:"text-gray-500",children:_.contactEmail})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"No contact"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${_.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.active?"Active":"Inactive"})}),e()&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[s.jsx("button",{onClick:()=>f(_),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),s.jsx("button",{onClick:()=>A(_),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},_.id),j===_.id&&s.jsx("tr",{children:s.jsx("td",{colSpan:e()?5:4,className:"px-6 py-4 bg-gray-50",children:s.jsx(qj,{brandId:_.id,brandName:_.name})})},`${_.id}-templates`)]}))})]})})]}),c&&s.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:p}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:d?"Edit Brand":"Add New Brand"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Brand Name *"}),s.jsx("input",{type:"text",required:!0,value:N.name,onChange:_=>v({...N,name:_.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vendor Code"}),s.jsx("input",{type:"text",value:N.vendorCode,onChange:_=>v({...N,vendorCode:_.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),s.jsx("input",{type:"text",value:N.contactName,onChange:_=>v({...N,contactName:_.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),s.jsx("input",{type:"email",value:N.contactEmail,onChange:_=>v({...N,contactEmail:_.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Phone"}),s.jsx("input",{type:"tel",value:N.contactPhone,onChange:_=>v({...N,contactPhone:_.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),s.jsx("textarea",{rows:3,value:N.notes,onChange:_=>v({...N,notes:_.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"active",checked:N.active,onChange:_=>v({...N,active:_.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:d?"Update":"Create"}),s.jsx("button",{type:"button",onClick:p,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},Fj=()=>{const[e,t]=m.useState([]),[a,l]=m.useState(!0),[n,r]=m.useState(""),[i,c]=m.useState(!1),[o,d]=m.useState({firstName:"",lastName:"",email:"",password:"",role:"Viewer"});m.useEffect(()=>{u()},[]);const u=async()=>{try{l(!0);const N=await Mi.getUsers();t(N.data.users||[]),r("")}catch(N){console.error("Error fetching users:",N),r("Failed to load users. Please try again.")}finally{l(!1)}},h=()=>{d({firstName:"",lastName:"",email:"",password:"",role:"Viewer"}),c(!0)},x=()=>{c(!1),d({firstName:"",lastName:"",email:"",password:"",role:"Viewer"})},j=async N=>{var v,g;N.preventDefault();try{await Mi.register({first_name:o.firstName,last_name:o.lastName,email:o.email,password:o.password,role:o.role}),await u(),x()}catch(f){console.error("Error creating user:",f),alert(((g=(v=f.response)==null?void 0:v.data)==null?void 0:g.error)||"Failed to create user. Please try again.")}},S=N=>{switch(N){case"Admin":return"bg-purple-100 text-purple-800";case"Buyer":return"bg-blue-100 text-blue-800";case"Viewer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return a?s.jsx(We,{children:s.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsxs(We,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage system users and their permissions"})]}),s.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium",children:"Add New User"})]}),n&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:n})}),s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found"})}):e.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[N.firstName," ",N.lastName]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${S(N.role)}`,children:N.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${N.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.lastLogin?new Date(N.lastLogin).toLocaleDateString():"Never"})]},N.id))})]})})]}),i&&s.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New User"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name *"}),s.jsx("input",{type:"text",required:!0,value:o.firstName,onChange:N=>d({...o,firstName:N.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),s.jsx("input",{type:"text",required:!0,value:o.lastName,onChange:N=>d({...o,lastName:N.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:o.email,onChange:N=>d({...o,email:N.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password *"}),s.jsx("input",{type:"password",required:!0,value:o.password,onChange:N=>d({...o,password:N.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),s.jsxs("select",{value:o.role,onChange:N=>d({...o,role:N.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"viewer",children:"Viewer - Read only access"}),s.jsx("option",{value:"buyer",children:"Buyer - Can create orders"}),s.jsx("option",{value:"admin",children:"Admin - Full access"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Create User"}),s.jsx("button",{type:"button",onClick:x,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},$j=()=>{hl();const[e,t]=m.useState([]),[a,l]=m.useState([]),[n,r]=m.useState(""),[i,c]=m.useState(""),[o,d]=m.useState(""),[u,h]=m.useState(!0),[x,j]=m.useState(null),[S,N]=m.useState(!1),[v,g]=m.useState(null),[f,p]=m.useState(null),[y,A]=m.useState(1),[U,_]=m.useState(null),[H,G]=m.useState([]),[E,W]=m.useState(null),[D,ue]=m.useState(!1),[ie,oe]=m.useState({}),[R,$]=m.useState(!1),[T,Q]=m.useState(0),[ne,X]=m.useState(null),[z,B]=m.useState([]),[O,F]=m.useState(""),[K,I]=m.useState(null),ee=[{key:"upc",label:"UPC *",required:!0,variations:["upc","upc code","barcode","ean","gtin","product code","item code"]},{key:"sku",label:"SKU / Product Number *",required:!0,variations:["sku","item number","item #","style","style number","model","model number","part number","vendor sku","product number","product #"]},{key:"name",label:"Product Name *",required:!0,variations:["name","product name","product","item name","item","title","description","product description"]},{key:"size",label:"Size *",required:!0,variations:["size","sizing","dimension","dimensions"]},{key:"color",label:"Color *",required:!0,variations:["color","colour","colorway","color name"]},{key:"gender",label:"Gender *",required:!0,variations:["gender","sex","mens","womens","unisex","male","female"]},{key:"category",label:"Category *",required:!0,variations:["category","product category","type","product type","department","class"]},{key:"wholesale_cost",label:"Wholesale Cost",required:!1,variations:["wholesale cost","wholesale","wholesale price","cost","dealer price","dealer cost","buy price","purchase price","net price"]},{key:"msrp",label:"MSRP",required:!1,variations:["msrp","retail","retail price","list price","suggested retail","srp","rrp"]},{key:"subcategory",label:"Subcategory",required:!1,variations:["subcategory","sub category","sub-category","subclass","sub class"]},{key:"inseam",label:"Inseam",required:!1,variations:["inseam","inseam length","leg length","pant length","length"]}];m.useEffect(()=>{pe(),Ne(),Ue()},[]);const pe=async()=>{try{const C=await Wa.getAll();t(C.data.brands||[])}catch(C){console.error("Error fetching brands:",C)}},Ne=async()=>{try{const C=await V.get("/seasons");l(C.data.seasons||[])}catch(C){console.error("Error fetching seasons:",C)}},Ue=async()=>{try{const C=await Vs.getUploads();B(C.data.uploads||[])}catch(C){console.error("Error fetching upload history:",C)}},Ye=async(C,Y)=>{if(window.confirm(`Delete this upload record for ${Y}?

This only removes the upload history entry, not the products.`))try{I(C),await Vs.deleteUpload(C),Ue()}catch(te){console.error("Error deleting upload:",te),F("Failed to delete upload record")}finally{I(null)}},nt=C=>{C.preventDefault(),N(!0)},ot=C=>{C.preventDefault(),N(!1)},et=C=>{C.preventDefault(),N(!1);const Y=C.dataTransfer.files[0];dt(Y)},Ct=C=>{const Y=C.target.files[0];dt(Y)},dt=async C=>{var se,de;if(!C)return;const Y=[".csv",".xlsx",".xls"],te=C.name.substring(C.name.lastIndexOf(".")).toLowerCase();if(!Y.includes(te)){F("Invalid file type. Please upload a CSV or Excel file.");return}j(C),F(""),X(null),p(null),g(null),oe({}),A(1),_(null),G([]),W(null),ue(!1);try{const he=new FormData;he.append("file",C),he.append("rawPreview","true");const ye=await Vs.preview(he);if(ye.data.sheetNames&&ye.data.sheetNames.length>1){_(ye.data.sheetNames),G(ye.data.sheetNames),W(ye.data.selectedSheet||ye.data.sheetNames[0]);return}p(ye.data.rawRows);const ge=ye.data.detectedHeaderRow||1;A(ge),await ft(C,ge,ye.data.selectedSheet)}catch(he){console.error("Error previewing file:",he),F(((de=(se=he.response)==null?void 0:se.data)==null?void 0:de.error)||"Failed to preview file")}},Ge=async()=>{var C,Y,te,se;if(!(!x||H.length===0)){ue(!0);try{const de=H[0];W(de),console.log("Confirming sheets, previewing sheet:",de);const he=new FormData;he.append("file",x),he.append("rawPreview","true"),he.append("sheetName",de);const ye=await Vs.preview(he);console.log("Raw response for sheet",de,":",{rawRowsCount:(C=ye.data.rawRows)==null?void 0:C.length,firstRow:(Y=ye.data.rawRows)==null?void 0:Y[0],selectedSheet:ye.data.selectedSheet}),p(ye.data.rawRows);const ge=ye.data.detectedHeaderRow||1;A(ge),await ft(x,ge,de)}catch(de){console.error("Error loading preview:",de),F(((se=(te=de.response)==null?void 0:te.data)==null?void 0:se.error)||"Failed to load preview")}}},ft=async(C,Y,te=null)=>{var se,de,he,ye,ge;try{const Re=new FormData;Re.append("file",C),Re.append("headerRow",Y.toString()),te&&Re.append("sheetName",te);const we=await Vs.preview(Re);console.log("Data preview response for sheet",te,":",{columns:we.data.columns,columnsLength:(se=we.data.columns)==null?void 0:se.length,previewRowCount:(de=we.data.preview)==null?void 0:de.length,firstPreviewRow:(he=we.data.preview)==null?void 0:he[0],selectedSheet:we.data.selectedSheet,totalRows:we.data.totalRows,fullResponse:we.data}),(!we.data.columns||we.data.columns.length===0)&&console.error("No columns in preview response!"),g(we.data);const ve={},ze=new Set,Xe=pt=>pt.toLowerCase().trim().replace(/[_-]/g," ").replace(/\s+/g," ");ee.forEach(pt=>{we.data.columns.forEach(rt=>{const Vt=Xe(rt);!ze.has(rt)&&pt.variations.includes(Vt)&&(ve[pt.key]=rt,ze.add(rt))})}),ee.forEach(pt=>{ve[pt.key]||we.data.columns.forEach(rt=>{if(!ze.has(rt)){const Vt=Xe(rt);pt.variations.some(ea=>Vt.includes(ea)||ea.includes(Vt))&&(ve[pt.key]=rt,ze.add(rt))}})}),oe(ve)}catch(Re){console.error("Error fetching preview with header row:",Re),F(((ge=(ye=Re.response)==null?void 0:ye.data)==null?void 0:ge.error)||"Failed to preview file")}},Tt=async C=>{const Y=parseInt(C,10);Y<1||Y>((f==null?void 0:f.length)||10)||(A(Y),oe({}),x&&await ft(x,Y,E))},fa=C=>{G(Y=>Y.includes(C)?Y.length===1?Y:Y.filter(te=>te!==C):[...Y,C])},Qe=()=>{H.length===U.length?G([E]):G([...U])},_t=async C=>{var Y,te;if(console.log("Changing preview sheet to:",C),W(C),p(null),g(null),oe({}),A(1),x)try{const se=new FormData;se.append("file",x),se.append("rawPreview","true"),se.append("sheetName",C),console.log("Sending preview request for sheet:",C);const de=await Vs.preview(se);p(de.data.rawRows);const he=de.data.detectedHeaderRow||1;A(he),await ft(x,he,C)}catch(se){console.error("Error previewing sheet:",se),F(((te=(Y=se.response)==null?void 0:Y.data)==null?void 0:te.error)||"Failed to preview sheet")}},w=async()=>{var te,se;if(!x){F("Please select a file");return}if(u&&!n){F("Please select a brand");return}if(!u&&!o.trim()){F("Please enter a brand name");return}const Y=ee.filter(de=>de.required).filter(de=>!ie[de.key]);if(Y.length>0){F(`Please map required fields: ${Y.map(de=>de.label).join(", ")}`);return}$(!0),F(""),Q(0);try{const de=new FormData;de.append("file",x),u?de.append("brandId",n):de.append("brandName",o.trim()),i&&de.append("seasonId",i),de.append("columnMapping",JSON.stringify(ie)),de.append("headerRow",y.toString()),H&&H.length>0&&de.append("sheetNames",JSON.stringify(H));const he=await Vs.upload(de,ge=>{const Re=Math.round(ge.loaded*100/ge.total);Q(Re)});X(he.data),j(null),g(null),p(null),A(1),_(null),G([]),W(null),ue(!1),oe({}),d(""),r(""),await Ue(),await pe();const ye=document.getElementById("fileInput");ye&&(ye.value="")}catch(de){console.error("Upload error:",de),F(((se=(te=de.response)==null?void 0:te.data)==null?void 0:se.error)||"Failed to upload catalog")}finally{$(!1),Q(0)}},M=(C,Y)=>{oe(te=>({...te,[C]:Y}))};return s.jsx(We,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Catalog Upload"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Import product catalogs from vendor spreadsheets (CSV or Excel)"})]}),O&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:O})}),ne&&s.jsxs("div",{className:`border rounded-md p-4 ${ne.stats.errorCount>0?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200"}`,children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Upload Complete!"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Total Rows"}),s.jsx("p",{className:"font-semibold",children:ne.stats.totalRows})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Products Added"}),s.jsx("p",{className:"font-semibold text-green-600",children:ne.stats.productsAdded})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Products Updated"}),s.jsx("p",{className:"font-semibold text-blue-600",children:ne.stats.productsUpdated})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Errors"}),s.jsx("p",{className:"font-semibold text-red-600",children:ne.stats.errorCount})]})]}),ne.errors&&ne.errors.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"First few errors:"}),s.jsx("ul",{className:"mt-2 text-sm text-gray-700 list-disc list-inside",children:ne.errors.slice(0,5).map((C,Y)=>s.jsxs("li",{children:["Row ",C.row,": ",C.errors.join(", ")]},Y))})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand *"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsx("button",{type:"button",onClick:()=>h(!0),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${u?"bg-blue-100 text-blue-700 border-2 border-blue-500":"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-gray-200"}`,disabled:R,children:"Select Existing Brand"}),s.jsx("button",{type:"button",onClick:()=>h(!1),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${u?"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-gray-200":"bg-blue-100 text-blue-700 border-2 border-blue-500"}`,disabled:R,children:"Enter New Brand Name"})]}),u?s.jsxs("select",{value:n,onChange:C=>r(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:R,children:[s.jsx("option",{value:"",children:"Choose a brand..."}),e.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]}):s.jsxs("div",{children:[s.jsx("input",{type:"text",value:o,onChange:C=>d(C.target.value),placeholder:"Enter brand name (e.g., Black Diamond)",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:R}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Brand will be created if it doesn't exist, or matched if found"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Season ",s.jsx("span",{className:"text-blue-600",children:"(Recommended)"})]}),s.jsxs("select",{value:i,onChange:C=>c(C.target.value),className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${i?"border-gray-300":"border-yellow-400 bg-yellow-50"}`,disabled:R,children:[s.jsx("option",{value:"",children:"Select a season..."}),a.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]}),i?s.jsx("p",{className:"mt-1 text-xs text-green-600",children:"Prices will be saved for this season. You can compare prices across seasons later."}):s.jsx("p",{className:"mt-1 text-xs text-yellow-700",children:"Select a season to enable price tracking and comparison across seasons."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File (CSV or Excel) *"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${S?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:nt,onDragLeave:ot,onDrop:et,children:x?s.jsxs("div",{children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"mt-2 text-sm text-gray-900 font-medium",children:x.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(x.size/1024/1024).toFixed(2)," MB"]}),s.jsx("button",{onClick:()=>{j(null),g(null),p(null),A(1),_(null),G([]),W(null),ue(!1),oe({}),document.getElementById("fileInput").value=""},className:"mt-2 text-sm text-red-600 hover:text-red-500",disabled:R,children:"Remove file"})]}):s.jsxs("div",{children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[s.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer text-blue-600 hover:text-blue-500 font-medium",children:"Click to upload"})," ","or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"CSV or Excel files (max 50MB)"}),s.jsx("input",{id:"fileInput",type:"file",accept:".csv,.xlsx,.xls",onChange:Ct,className:"hidden",disabled:R})]})})]}),U&&U.length>1&&!D&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-blue-900",children:"Step 1: Select Sheets to Import"}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["This file contains ",U.length," sheets. Select which ones to import (",H.length," selected)."]})]}),s.jsx("button",{onClick:Qe,className:"px-3 py-1.5 text-sm bg-white text-blue-700 border border-blue-300 rounded-md hover:bg-blue-100 transition-colors",disabled:R,children:H.length===U.length?"Deselect All":"Select All"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mb-4",children:U.map((C,Y)=>s.jsxs("label",{className:`flex items-center p-2 rounded-md cursor-pointer transition-colors ${H.includes(C)?"bg-blue-100 border-2 border-blue-500":"bg-white border-2 border-gray-200 hover:border-blue-300"}`,children:[s.jsx("input",{type:"checkbox",checked:H.includes(C),onChange:()=>fa(C),disabled:R||H.length===1&&H.includes(C),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),s.jsx("span",{className:`ml-2 text-sm truncate ${H.includes(C)?"text-blue-800 font-medium":"text-gray-700"}`,children:C})]},Y))}),s.jsx("p",{className:"text-xs text-blue-600 mb-4",children:"All selected sheets will be combined during import. Make sure they have the same column structure."}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:Ge,disabled:R||H.length===0,className:`px-6 py-2 rounded-md font-medium transition-colors ${H.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:["Continue with ",H.length," sheet",H.length!==1?"s":""]})})]}),U&&U.length>1&&D&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Importing ",H.length," sheet",H.length!==1?"s":"",":"]}),s.jsx("span",{className:"text-sm text-blue-700",children:H.join(", ")})]}),s.jsx("button",{onClick:()=>{ue(!1),p(null),g(null),oe({}),A(1)},className:"text-sm text-blue-600 hover:text-blue-800 underline",disabled:R,children:"Change sheets"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-blue-200",children:[s.jsx("span",{className:"text-xs text-blue-700",children:"Previewing:"}),s.jsx("select",{value:E||"",onChange:C=>_t(C.target.value),className:"px-3 py-1 border border-blue-300 rounded-md text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:R,children:H.map((C,Y)=>s.jsx("option",{value:C,children:C},Y))})]})]}),f&&f.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Select Header Row"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Header row:"}),s.jsx("select",{value:y,onChange:C=>Tt(C.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:R,children:f.map((C,Y)=>s.jsxs("option",{value:Y+1,children:["Row ",Y+1]},Y+1))})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Header row auto-detected. Click on a different row to change it if needed. Rows before the header row will be ignored during import."}),s.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-md max-h-64 overflow-y-auto",children:s.jsx("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((C,Y)=>s.jsxs("tr",{onClick:()=>!R&&Tt(Y+1),className:`cursor-pointer transition-colors ${Y+1===y?"bg-blue-100 border-l-4 border-l-blue-500":Y+1<y?"bg-gray-100 text-gray-400":"hover:bg-gray-50"}`,children:[s.jsx("td",{className:"px-2 py-2 text-xs text-gray-500 font-mono w-12",children:Y+1}),C.map((te,se)=>s.jsx("td",{className:`px-3 py-2 whitespace-nowrap ${Y+1===y?"font-semibold text-blue-800":""}`,children:te||s.jsx("span",{className:"text-gray-300",children:"-"})},se))]},Y))})})}),y>1&&s.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[y-1," row(s) before the header will be skipped during import."]})]}),v&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Data Preview (",v.totalRows," data rows detected)"]}),s.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-md",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:v.columns.map((C,Y)=>s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:C},Y))})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.preview.map((C,Y)=>s.jsx("tr",{children:v.columns.map((te,se)=>s.jsx("td",{className:"px-4 py-2 text-gray-900 whitespace-nowrap",children:C[te]||"-"},se))},Y))})]})})]}),v&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Map File Columns to Database Fields"}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-1"}),s.jsx("span",{className:"text-gray-600",children:"Auto-mapped"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-1"}),s.jsx("span",{className:"text-gray-600",children:"Required"})]})]})]}),s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Auto-mapping complete!"}),s.jsxs("p",{children:["Mapped ",Object.values(ie).filter(C=>C&&C!=="__NOT_AVAILABLE__").length," of ",ee.length," fields.",ee.filter(C=>C.required&&!ie[C.key]).length>0&&s.jsxs("span",{className:"text-red-600 font-medium",children:[" ","Please map or mark as N/A: ",ee.filter(C=>C.required&&!ie[C.key]).length," required field(s)."]}),ee.filter(C=>C.required&&ie[C.key]==="__NOT_AVAILABLE__").length>0&&s.jsxs("span",{className:"text-amber-600 font-medium",children:[" ",ee.filter(C=>C.required&&ie[C.key]==="__NOT_AVAILABLE__").length," required field(s) marked as N/A."]})," ","Review and adjust mappings below before uploading."]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ee.map(C=>{const Y=ie[C.key],te=!!Y&&Y!=="__NOT_AVAILABLE__",se=Y==="__NOT_AVAILABLE__",de=C.required,he=de&&!Y;return s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"flex items-center text-sm text-gray-700 mb-1",children:[C.label,te&&s.jsx("svg",{className:"ml-2 h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),se&&s.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(N/A)"})]}),s.jsxs("select",{value:ie[C.key]||"",onChange:ye=>M(C.key,ye.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 text-sm ${he?"border-red-300 bg-red-50":se?"border-amber-300 bg-amber-50":te?"border-green-300 bg-green-50":"border-gray-300"}`,disabled:R,children:[s.jsx("option",{value:"",children:"-- Select Column --"}),s.jsx("option",{value:"__NOT_AVAILABLE__",children:"-- Not Available in File --"}),v.columns.map((ye,ge)=>s.jsx("option",{value:ye,children:ye},ge))]}),he&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Required field not mapped"}),se&&de&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Will be imported as empty"})]},C.key)})})]}),v&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:w,disabled:R||(u?!n:!o.trim())||ee.filter(C=>C.required&&!ie[C.key]).length>0,className:`px-6 py-3 rounded-md font-medium ${R||(u?!n:!o.trim())||ee.filter(C=>C.required&&!ie[C.key]).length>0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:R?`Uploading... ${T}%`:"Upload Catalog"})}),R&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Upload History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Brand"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"File Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Added"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Updated"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No upload history yet"})}):z.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(C.created_at).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.brand_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.file_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:C.products_added}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600",children:C.products_updated}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${C.upload_status==="completed"?"bg-green-100 text-green-800":C.upload_status==="completed_with_errors"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:C.upload_status?C.upload_status.replace(/_/g," "):"unknown"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>Ye(C.id,C.brand_name),disabled:K===C.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:K===C.id?"Deleting...":"Delete"})})]},C.id))})]})})]})]})})},Kc=({data:e,colors:t})=>{const a=e.reduce((i,c)=>i+parseInt(c.quantity),0);let l=0;const n=i=>{const c=Math.cos(2*Math.PI*i),o=Math.sin(2*Math.PI*i);return[c,o]},r=e.map((i,c)=>{const o=parseInt(i.quantity)/a,[d,u]=n(l);l+=o;const[h,x]=n(l),j=o>.5?1:0;return{path:[`M ${d} ${u}`,`A 1 1 0 ${j} 1 ${h} ${x}`,"L 0 0"].join(" "),color:t[c%t.length],name:i.name,quantity:parseInt(i.quantity),percent:(o*100).toFixed(1)}});return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("svg",{viewBox:"-1.1 -1.1 2.2 2.2",className:"w-28 h-28 transform -rotate-90",children:r.map((i,c)=>s.jsx("path",{d:i.path,fill:i.color,className:"hover:opacity-80 transition-opacity"},c))}),s.jsx("div",{className:"mt-2 space-y-1 w-full",children:r.slice(0,5).map((i,c)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm mr-1.5 flex-shrink-0",style:{backgroundColor:i.color}}),s.jsx("span",{className:"text-gray-600 truncate max-w-[80px]",children:i.name})]}),s.jsxs("span",{className:"text-gray-900 font-medium ml-2",children:[i.percent,"%"]})]},c))})]})},Qj=()=>{var je,Nt,os,ta,Fs;const e=Ha(),[t,a]=tc(),{isAdmin:l,isBuyer:n}=hl(),[r,i]=m.useState([]),[c,o]=m.useState([]),[d,u]=m.useState([]),[h,x]=m.useState([]),[j,S]=m.useState(null),[N,v]=m.useState([]),[g,f]=m.useState(!0),[p,y]=m.useState(""),A=t.get("season")||"",U=t.get("brand")||"",_=t.get("location")||"",H=t.get("status")||"",[G,E]=m.useState("brand"),[W,D]=m.useState(!1),[ue,ie]=m.useState(!1),[oe,R]=m.useState(!1),[$,T]=m.useState(!1),[Q,ne]=m.useState(!1),[X,z]=m.useState(null),[B,O]=m.useState(null),[F,K]=m.useState(!1),[I,ee]=m.useState(new Set),[pe,Ne]=m.useState(new Set),[Ue,Ye]=m.useState(!1),[nt,ot]=m.useState(!1),[et,Ct]=m.useState({name:"",start_date:"",end_date:"",status:"planning"});m.useEffect(()=>{dt()},[]),m.useEffect(()=>{A?Ge():(x([]),S(null))},[A,U,_,H]),m.useEffect(()=>{U?ft():v([])},[U]),m.useEffect(()=>{const q=le=>{W&&!le.target.closest(".export-dropdown")&&D(!1),Ue&&!le.target.closest(".bulk-status-dropdown")&&Ye(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[W,Ue]);const dt=async()=>{var q;try{f(!0);const[le,ce,Me]=await Promise.all([V.get("/seasons"),V.get("/brands"),V.get("/locations")]);i(le.data.seasons||[]),o(ce.data.brands||[]),u(Me.data.locations||[]),!A&&((q=le.data.seasons)==null?void 0:q.length)>0&&a({season:le.data.seasons[0].id.toString()})}catch(le){console.error("Error fetching data:",le),y("Failed to load data")}finally{f(!1)}},Ge=async()=>{try{let q=`/orders?seasonId=${A}`,le=`/seasons/${A}/product-breakdown`;U&&(q+=`&brandId=${U}`,le+=`?brandId=${U}`),_&&(q+=`&locationId=${_}`),H&&(q+=`&status=${H}`);const[ce,Me]=await Promise.all([V.get(q),V.get(le)]);x(ce.data.orders||[]),S(Me.data)}catch(q){console.error("Error fetching orders:",q)}},ft=async()=>{var q;try{const le=await Rs.getAll(U);v(((q=le.data)==null?void 0:q.templates)||[])}catch(le){console.error("Error fetching brand templates:",le)}},Tt=(q,le)=>{const ce=new URLSearchParams(t);le?ce.set(q,le):ce.delete(q),ee(new Set),a(ce)},fa=()=>{a(A?{season:A}:{}),ee(new Set)},Qe=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(q||0),_t=q=>{switch(q){case"planning":return"bg-blue-100 text-blue-800";case"ordering":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";case"draft":return"bg-gray-100 text-gray-800";case"submitted":return"bg-blue-100 text-blue-800";case"approved":case"confirmed":return"bg-green-100 text-green-800";case"ordered":return"bg-purple-100 text-purple-800";case"received":return"bg-teal-100 text-teal-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=r.find(q=>q.id===parseInt(A)),M=c.find(q=>q.id===parseInt(U)),C=h.reduce((q,le)=>q+(parseFloat(le.current_total)||0),0),Y=h.reduce((q,le)=>q+(parseInt(le.item_count)||0),0),te=h.reduce((q,le)=>{let ce,Me;return G==="shipDate"?(ce=le.ship_date||"no-date",Me=le.ship_date?new Date(le.ship_date).toLocaleDateString():"No Ship Date"):G==="location"?(ce=le.location_id||"no-location",Me=le.location_name?`${le.location_name}${le.location_code?` (${le.location_code})`:""}`:"No Location"):(ce=le.brand_id||"no-brand",Me=le.brand_name||"No Brand"),q[ce]||(q[ce]={groupName:Me,orders:[]}),q[ce].orders.push(le),q},{}),se=Object.entries(te).sort((q,le)=>G==="shipDate"?q[0]==="no-date"?1:le[0]==="no-date"?-1:new Date(q[0])-new Date(le[0]):q[1].groupName.localeCompare(le[1].groupName)),de=(q,le)=>{le.stopPropagation();const ce=new Set(I);ce.has(q)?ce.delete(q):ce.add(q),ee(ce)},he=()=>{I.size===h.length?ee(new Set):ee(new Set(h.map(q=>q.id)))},ye=q=>{const le=q.map(qt=>qt.id),ce=le.every(qt=>I.has(qt)),Me=new Set(I);ce?le.forEach(qt=>Me.delete(qt)):le.forEach(qt=>Me.add(qt)),ee(Me)},ge=q=>q.length>0&&q.every(le=>I.has(le.id)),Re=q=>{const le=q.filter(ce=>I.has(ce.id)).length;return le>0&&le<q.length},we=async q=>{if(I.size!==0){ot(!0);try{const le=Array.from(I);await Promise.all(le.map(ce=>V.patch(`/orders/${ce}`,{status:q}))),x(h.map(ce=>I.has(ce.id)?{...ce,status:q}:ce)),ee(new Set),Ye(!1)}catch(le){console.error("Error updating order statuses:",le),alert("Failed to update some orders. Please try again.")}finally{ot(!1)}}},ve=q=>{const le=new Set(pe);le.has(q)?le.delete(q):le.add(q),Ne(le)},ze=()=>{const q=se.map(([le])=>le);pe.size===q.length?Ne(new Set):Ne(new Set(q))},Xe=se.length>0&&pe.size===se.length,rt=(()=>{const q=h.filter(ce=>I.has(ce.id));return[...new Set(q.map(ce=>ce.brand_id))]})(),Vt=rt.length>1,ut=rt.length===1?c.find(q=>q.id===rt[0]):null,ea=async q=>{var le,ce;q.preventDefault();try{const Me=await V.post("/seasons",et);R(!1),Ct({name:"",start_date:"",end_date:"",status:"planning"}),await dt(),a({season:Me.data.season.id.toString()})}catch(Me){console.error("Error creating season:",Me),y(((ce=(le=Me.response)==null?void 0:le.data)==null?void 0:ce.error)||"Failed to create season")}},P=async()=>{var q,le;if(B){K(!0);try{await V.delete(`/seasons/${B.id}`),O(null),A===B.id.toString()&&a({}),await dt()}catch(ce){console.error("Error deleting season:",ce),y(((le=(q=ce.response)==null?void 0:q.data)==null?void 0:le.error)||"Failed to delete season")}finally{K(!1)}}},me=async(q,le)=>{try{await V.patch(`/seasons/${q}`,{status:le}),dt()}catch(ce){console.error("Error updating season status:",ce),y("Failed to update season status")}},re=async()=>{var q,le;if(X){K(!0);try{await V.delete(`/orders/${X.id}`),z(null),Ge()}catch(ce){console.error("Error deleting order:",ce),y(((le=(q=ce.response)==null?void 0:q.data)==null?void 0:le.error)||"Failed to delete order")}finally{K(!1)}}},xe=async(q,le)=>{var ce,Me;if(!(I.size===0||Vt)){ie(!0),D(!1);try{const qt=await V.post("/exports/orders/bulk",{orderIds:Array.from(I),template:q,format:le},{responseType:"blob"}),$s=new Blob([qt.data],{type:le==="csv"?"text/csv":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Da=window.URL.createObjectURL($s),Dt=document.createElement("a");Dt.href=Da;const xl=((ce=w==null?void 0:w.name)==null?void 0:ce.replace(/[^a-zA-Z0-9]/g,"_"))||"orders",b=((Me=ut==null?void 0:ut.name)==null?void 0:Me.replace(/[^a-zA-Z0-9]/g,"_"))||"brand";Dt.download=`${xl}_${b}_${q}.${le}`,document.body.appendChild(Dt),Dt.click(),document.body.removeChild(Dt),window.URL.revokeObjectURL(Da)}catch(qt){console.error("Error exporting:",qt),y("Failed to export data")}finally{ie(!1)}}},Be=async q=>{var le,ce;if(!(I.size===0||Vt)){ie(!0),D(!1);try{const Me=Array.from(I),qt=await Rs.exportWithTemplate(Me,q.id),$s=new Blob([qt.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Da=window.URL.createObjectURL($s),Dt=document.createElement("a");Dt.href=Da;const xl=((le=w==null?void 0:w.name)==null?void 0:le.replace(/[^a-zA-Z0-9]/g,"_"))||"orders",b=((ce=ut==null?void 0:ut.name)==null?void 0:ce.replace(/[^a-zA-Z0-9]/g,"_"))||"brand";Dt.download=`${xl}_${b}_${q.name.replace(/[^a-zA-Z0-9]/g,"_")}.xlsx`,document.body.appendChild(Dt),Dt.click(),document.body.removeChild(Dt),window.URL.revokeObjectURL(Da)}catch(Me){console.error("Error exporting with brand template:",Me),y("Failed to export with brand template")}finally{ie(!1)}}};return g?s.jsx(We,{children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsx(We,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Builder"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage orders across seasons and brands"})]}),s.jsx("div",{className:"flex gap-2",children:l()&&s.jsx("button",{onClick:()=>R(!0),className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"+ New Season"})})]}),p&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[s.jsx("p",{className:"text-sm text-red-800",children:p}),s.jsx("button",{onClick:()=>y(""),className:"text-xs text-red-600 underline mt-1",children:"Dismiss"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between px-4",children:[s.jsx("div",{className:"flex overflow-x-auto",children:r.map(q=>s.jsxs("button",{onClick:()=>Tt("season",q.id.toString()),className:`px-4 py-3 text-sm font-medium border-b-2 whitespace-nowrap ${A===q.id.toString()?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[q.name,s.jsx("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded-full ${_t(q.status)}`,children:q.status})]},q.id))}),w&&l()&&s.jsxs("div",{className:"flex items-center gap-2 py-2",children:[s.jsxs("select",{value:w.status,onChange:q=>me(w.id,q.target.value),className:"text-xs border rounded px-2 py-1",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"ordering",children:"Ordering"}),s.jsx("option",{value:"closed",children:"Closed"})]}),s.jsx("button",{onClick:()=>O(w),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete season",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),!A&&r.length===0&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"No seasons found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l()?s.jsx("button",{onClick:()=>R(!0),className:"text-blue-600 hover:text-blue-800",children:"Create a season to get started"}):"Contact an admin to create a season."})]}),A&&s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{className:"min-w-[150px]",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Brand"}),s.jsxs("select",{value:U,onChange:q=>Tt("brand",q.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"All Brands"}),c.filter(q=>q.active!==!1).map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]}),s.jsxs("div",{className:"min-w-[150px]",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),s.jsxs("select",{value:_,onChange:q=>Tt("location",q.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"All Locations"}),d.map(q=>s.jsxs("option",{value:q.id,children:[q.name," (",q.code,")"]},q.id))]})]}),s.jsxs("div",{className:"min-w-[120px]",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:H,onChange:q=>Tt("status",q.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"ordered",children:"Ordered"}),s.jsx("option",{value:"received",children:"Received"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),(U||_||H)&&s.jsx("button",{onClick:fa,className:"px-2 py-1.5 text-sm text-gray-600 hover:text-gray-800",children:"Clear"}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex gap-2",children:[(l()||n())&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>ne(!0),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Budgets"}),s.jsx("button",{onClick:()=>T(!0),className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"+ Add Order"})]}),s.jsxs("div",{className:"relative export-dropdown",children:[s.jsxs("button",{onClick:()=>D(!W),disabled:ue||I.size===0||Vt,className:"px-3 py-1.5 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 flex items-center",title:Vt?"Select orders from a single brand to export":"",children:[ue?"Exporting...":Vt?"Select Single Brand":`Export${I.size>0?` (${I.size})`:""}`,s.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),W&&s.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50 max-h-80 overflow-y-auto",children:s.jsxs("div",{className:"py-1",children:[N.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-3 py-1.5 text-xs font-semibold text-blue-600 uppercase bg-blue-50",children:[(M==null?void 0:M.name)||(ut==null?void 0:ut.name)," Templates"]}),N.map(q=>s.jsx("button",{onClick:()=>Be(q),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50",children:q.name},q.id)),s.jsx("div",{className:"border-t border-gray-200 my-1"})]}),s.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase bg-gray-50",children:"NuOrder"}),s.jsx("button",{onClick:()=>xe("nuorder","xlsx"),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Excel"}),s.jsx("button",{onClick:()=>xe("nuorder","csv"),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"CSV"}),s.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase bg-gray-50",children:"Elastic"}),s.jsx("button",{onClick:()=>xe("elastic","xlsx"),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Excel"}),s.jsx("button",{onClick:()=>xe("elastic","csv"),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"CSV"}),s.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase bg-gray-50",children:"Standard"}),s.jsx("button",{onClick:()=>xe("standard","xlsx"),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Excel"}),s.jsx("button",{onClick:()=>xe("standard","csv"),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"CSV"})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Orders"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:h.length})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Items"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:Y.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Wholesale"}),s.jsx("p",{className:"text-xl font-semibold text-blue-600",children:Qe(C)})]}),(j==null?void 0:j.totals)&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Retail Value"}),s.jsx("p",{className:"text-xl font-semibold text-green-600",children:Qe(j.totals.retail)})]})]}),j&&(((je=j.gender)==null?void 0:je.length)>0||((Nt=j.category)==null?void 0:Nt.length)>0)&&s.jsxs("div",{className:"grid grid-cols-3 gap-4 py-2",children:[((os=j.gender)==null?void 0:os.length)>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"By Gender"}),s.jsx(Kc,{data:j.gender,colors:["#2563EB","#F97316","#10B981","#EF4444","#FBBF24"]})]}),((ta=j.category)==null?void 0:ta.length)>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"By Category"}),s.jsx(Kc,{data:j.category,colors:["#10B981","#F97316","#2563EB","#EF4444","#FBBF24"]})]}),((Fs=j.color)==null?void 0:Fs.length)>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"By Color"}),s.jsx(Kc,{data:j.color,colors:["#2563EB","#F97316","#10B981","#EF4444","#FBBF24","#14B8A6"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t pt-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:he,className:"text-xs text-blue-600 hover:text-blue-800",children:I.size===h.length&&h.length>0?"Deselect All":"Select All"}),I.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-xs text-gray-500",children:[I.size," selected"]}),s.jsxs("div",{className:"relative bulk-status-dropdown",children:[s.jsx("button",{onClick:()=>Ye(!Ue),disabled:nt,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:nt?"Updating...":"Set Status "}),Ue&&s.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-32 overflow-hidden",children:["draft","submitted","confirmed","shipped","cancelled"].map(q=>s.jsx("button",{onClick:()=>we(q),className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:q},q))})]})]}),h.length>0&&s.jsx("button",{onClick:ze,className:"text-xs text-blue-600 hover:text-blue-800",children:Xe?"Expand All":"Collapse All"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Group by:"}),s.jsx("div",{className:"inline-flex rounded-md shadow-sm",children:["brand","shipDate","location"].map(q=>s.jsx("button",{onClick:()=>E(q),className:`px-2 py-1 text-xs font-medium border ${q==="brand"?"rounded-l-md":q==="location"?"rounded-r-md":""} ${G===q?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:q==="shipDate"?"Ship Date":q.charAt(0).toUpperCase()+q.slice(1)},q))})]})]}),h.length===0?s.jsxs("div",{className:"text-center py-8 text-sm text-gray-500",children:["No orders found."," ",(l()||n())&&s.jsx("button",{onClick:()=>T(!0),className:"text-blue-600 hover:text-blue-800",children:"Create your first order"})]}):s.jsx("div",{className:"space-y-3",children:se.map(([q,le])=>s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-3 py-2 flex items-center justify-between cursor-pointer hover:bg-gray-100",onClick:()=>ve(q),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${pe.has(q)?"":"rotate-90"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("input",{type:"checkbox",checked:ge(le.orders),ref:ce=>{ce&&(ce.indeterminate=Re(le.orders))},onChange:()=>ye(le.orders),onClick:ce=>ce.stopPropagation(),className:"h-3.5 w-3.5 text-blue-600 border-gray-300 rounded"}),s.jsx("span",{className:"font-medium text-sm text-gray-900",children:le.groupName})]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[le.orders.length," orders  ",Qe(le.orders.reduce((ce,Me)=>ce+(parseFloat(Me.current_total)||0),0))]})]}),!pe.has(q)&&s.jsx("table",{className:"min-w-full",children:s.jsx("tbody",{className:"divide-y divide-gray-100",children:le.orders.map(ce=>s.jsxs("tr",{onClick:()=>e(`/orders/${ce.id}`),className:`cursor-pointer hover:bg-gray-50 ${I.has(ce.id)?"bg-blue-50":""}`,children:[s.jsx("td",{className:"py-2 pl-3 w-8",children:s.jsx("input",{type:"checkbox",checked:I.has(ce.id),onChange:Me=>de(ce.id,Me),onClick:Me=>Me.stopPropagation(),className:"h-3.5 w-3.5 text-blue-600 border-gray-300 rounded"})}),s.jsx("td",{className:"py-2 text-sm font-medium text-blue-600",children:ce.order_number}),G!=="brand"&&s.jsx("td",{className:"py-2 text-sm text-gray-900",children:ce.brand_name}),G!=="location"&&s.jsxs("td",{className:"py-2 text-sm text-gray-700",children:[ce.location_name,ce.location_code&&s.jsxs("span",{className:"text-gray-400",children:[" (",ce.location_code,")"]})]}),G!=="shipDate"&&s.jsx("td",{className:"py-2 text-sm text-gray-600",children:ce.ship_date?new Date(ce.ship_date).toLocaleDateString():"No date"}),s.jsxs("td",{className:"py-2 text-sm text-gray-600",children:[ce.item_count||0," items"]}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded-full ${_t(ce.status)}`,children:ce.status})}),s.jsx("td",{className:"py-2 pr-3 text-sm font-medium text-gray-900 text-right",children:Qe(ce.current_total)}),l()&&s.jsx("td",{className:"py-2 pr-2 w-8",children:s.jsx("button",{onClick:Me=>{Me.stopPropagation(),z(ce)},className:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},ce.id))})})]},q))})]})]}),oe&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Create New Season"}),s.jsxs("form",{onSubmit:ea,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Season Name *"}),s.jsx("input",{type:"text",required:!0,value:et.name,onChange:q=>Ct({...et,name:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"e.g., Fall 2025"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:et.start_date,onChange:q=>Ct({...et,start_date:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:et.end_date,onChange:q=>Ct({...et,end_date:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{R(!1),Ct({name:"",start_date:"",end_date:"",status:"planning"})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create"})]})]})]})}),$&&s.jsx(Vj,{seasonId:A,seasonName:w==null?void 0:w.name,preselectedBrandId:U,brands:c,locations:d,onClose:()=>{T(!1),Ge()},onOrderCreated:q=>{T(!1),e(`/orders/${q}`)}}),Q&&s.jsx(Yj,{seasonId:A,brands:c,locations:d,onClose:()=>{ne(!1)}}),B&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Delete Season"}),s.jsxs("p",{className:"text-gray-600 mb-2",children:["Are you sure you want to delete ",s.jsx("strong",{children:B.name}),"?"]}),s.jsx("p",{className:"text-sm text-red-600 mb-4",children:"This will permanently remove the season and all associated orders and budgets."}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>O(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:F,children:"Cancel"}),s.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400",disabled:F,children:F?"Deleting...":"Delete"})]})]})}),X&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Delete Order"}),s.jsxs("p",{className:"text-gray-600 mb-2",children:["Are you sure you want to delete order ",s.jsx("strong",{children:X.order_number}),"?"]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:[X.brand_name,"  ",X.location_name]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[X.item_count," items  ",Qe(X.current_total)]}),s.jsx("p",{className:"text-sm text-red-600 mb-4",children:"This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:F,children:"Cancel"}),s.jsx("button",{onClick:re,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400",disabled:F,children:F?"Deleting...":"Delete"})]})]})})]})})},Vj=({seasonId:e,seasonName:t,preselectedBrandId:a,brands:l,locations:n,onClose:r,onOrderCreated:i})=>{const[c,o]=m.useState({brand_id:a||"",location_id:"",order_type:"preseason",notes:""}),[d,u]=m.useState(1),[h,x]=m.useState([""]),[j,S]=m.useState(!1),[N,v]=m.useState(""),g=p=>{const y=Math.max(1,Math.min(12,parseInt(p)||1));u(y);const A=[...h];for(;A.length<y;)A.push("");for(;A.length>y;)A.pop();x(A)},f=async p=>{var y,A;p.preventDefault(),S(!0),v("");try{const U=[];for(let _=0;_<d;_++){const H=await V.post("/orders",{season_id:e,brand_id:c.brand_id,location_id:c.location_id,ship_date:h[_]||null,order_type:c.order_type,notes:c.notes});U.push(H.data.order.id)}U.length===1?i(U[0]):r()}catch(U){console.error("Error creating order:",U),v(((A=(y=U.response)==null?void 0:y.data)==null?void 0:A.error)||"Failed to create order"),S(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-lg font-bold mb-2",children:"Create New Order"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Season: ",t]}),N&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:N})}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand *"}),s.jsxs("select",{value:c.brand_id,onChange:p=>o({...c,brand_id:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[s.jsx("option",{value:"",children:"Select Brand"}),l.filter(p=>p.active!==!1).map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),s.jsxs("select",{value:c.location_id,onChange:p=>o({...c,location_id:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[s.jsx("option",{value:"",children:"Select Location"}),n.map(p=>s.jsxs("option",{value:p.id,children:[p.name," (",p.code,")"]},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Ship Dates"}),s.jsx("select",{value:d,onChange:p=>g(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(p=>s.jsx("option",{value:p,children:p},p))}),d>1&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Creates ",d," separate orders"]})]}),s.jsx("div",{className:"space-y-2",children:h.map((p,y)=>s.jsxs("div",{className:"flex items-center gap-2",children:[d>1&&s.jsxs("span",{className:"text-sm text-gray-500 w-14",children:["Ship ",y+1,":"]}),s.jsx("input",{type:"date",value:p,onChange:A=>{const U=[...h];U[y]=A.target.value,x(U)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"})]},y))}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:j,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",disabled:j,children:j?"Creating...":d>1?`Create ${d} Orders`:"Create Order"})]})]})]})})},Yj=({seasonId:e,brands:t,locations:a,onClose:l})=>{const[n,r]=m.useState([{brand_id:"",location_id:"",budget_amount:""}]),[i,c]=m.useState(!1),[o,d]=m.useState(""),u=()=>r([...n,{brand_id:"",location_id:"",budget_amount:""}]),h=S=>r(n.filter((N,v)=>v!==S)),x=(S,N,v)=>{const g=[...n];g[S][N]=v,r(g)},j=async S=>{var N,v;S.preventDefault(),c(!0),d("");try{const g=n.filter(f=>f.brand_id&&f.location_id&&f.budget_amount);if(g.length===0){d("Please add at least one budget entry"),c(!1);return}await V.post(`/seasons/${e}/budgets`,{budgets:g}),l()}catch(g){console.error("Error saving budgets:",g),d(((v=(N=g.response)==null?void 0:N.data)==null?void 0:v.error)||"Failed to save budgets")}finally{c(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Manage Budgets"}),o&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:o})}),s.jsxs("form",{onSubmit:j,className:"space-y-3",children:[n.map((S,N)=>s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsxs("select",{value:S.brand_id,onChange:v=>x(N,"brand_id",v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select Brand"}),t.filter(v=>v.active!==!1).map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]}),s.jsxs("select",{value:S.location_id,onChange:v=>x(N,"location_id",v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select Location"}),a.map(v=>s.jsxs("option",{value:v.id,children:[v.name," (",v.code,")"]},v.id))]}),s.jsx("input",{type:"number",step:"0.01",value:S.budget_amount,onChange:v=>x(N,"budget_amount",v.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Amount",required:!0}),n.length>1&&s.jsx("button",{type:"button",onClick:()=>h(N),className:"px-2 py-2 text-red-600 hover:text-red-800",children:"Remove"})]},N)),s.jsx("button",{type:"button",onClick:u,className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Budget"}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:i,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",disabled:i,children:i?"Saving...":"Save Budgets"})]})]})]})})},Gj=e=>{if(!e)return"Not set";const t=typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}/)?e.substring(0,10):e;return new Date(t+"T12:00:00").toLocaleDateString()},Xj=()=>{const{id:e}=C0(),t=Ha(),{isAdmin:a,isBuyer:l}=hl(),[n,r]=m.useState(null),[i,c]=m.useState([]),[o,d]=m.useState(!0),[u,h]=m.useState(""),[x,j]=m.useState(!1),[S,N]=m.useState(!1),[v,g]=m.useState(!1),[f,p]=m.useState({}),[y,A]=m.useState(new Set),[U,_]=m.useState(null),[H,G]=m.useState(null),[E,W]=m.useState(!1),[D,ue]=m.useState(!1),[ie,oe]=m.useState(!1),[R,$]=m.useState(new Set),[T,Q]=m.useState(!1),[ne,X]=m.useState([]),[z,B]=m.useState(!1),[O,F]=m.useState(!1),[K,I]=m.useState(""),[ee,pe]=m.useState(!1),[Ne,Ue]=m.useState(null),[Ye,nt]=m.useState([]),[ot,et]=m.useState(!1),[Ct,dt]=m.useState(!1),[Ge,ft]=m.useState(!1);m.useEffect(()=>{Tt()},[e]),m.useEffect(()=>{const P=me=>{D&&!me.target.closest(".export-dropdown")&&ue(!1),Ge&&!me.target.closest(".status-dropdown")&&ft(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[D,Ge]);const Tt=async()=>{var P,me,re;try{d(!0),console.log("Fetching order with id:",e);const xe=await V.get(`/orders/${e}`);console.log("Order response:",xe.data),r(xe.data.order),c(xe.data.items||[])}catch(xe){console.error("Error fetching order:",xe),console.error("Error response:",(P=xe.response)==null?void 0:P.data),h(`Failed to load order: ${((re=(me=xe.response)==null?void 0:me.data)==null?void 0:re.error)||xe.message}`)}finally{d(!1)}},fa=async P=>{try{await V.patch(`/orders/${e}`,{status:P}),r({...n,status:P})}catch(me){console.error("Error updating status:",me),h("Failed to update order status")}},Qe=()=>{let P="";n.ship_date&&(typeof n.ship_date=="string"&&n.ship_date.match(/^\d{4}-\d{2}-\d{2}/)?P=n.ship_date.substring(0,10):P=new Date(n.ship_date+"T12:00:00").toISOString().split("T")[0]),I(P),F(!0)},_t=async()=>{try{pe(!0);const P=await V.patch(`/orders/${e}`,{ship_date:K||null});r({...n,...P.data.order}),F(!1)}catch(P){console.error("Error updating ship date:",P),h("Failed to update ship date")}finally{pe(!1)}},w=()=>{F(!1),I("")},M=async(P,me)=>{var xe;const re=(xe=me[0])==null?void 0:xe.color;Ue({familyName:P,currentColor:re}),et(!0);try{const Be=await V.get(`/orders/${e}/family-colors`,{params:{baseName:P,currentColor:re}});nt(Be.data.colors||[])}catch(Be){console.error("Error fetching colors:",Be),h("Failed to load available colors"),Ue(null)}finally{et(!1)}},C=async P=>{var me,re;if(!(!Ne||Ct)){dt(!0);try{await V.post(`/orders/${e}/change-family-color`,{baseName:Ne.familyName,currentColor:Ne.currentColor,newColor:P}),await Tt(),Ue(null),nt([])}catch(xe){console.error("Error changing color:",xe),h(((re=(me=xe.response)==null?void 0:me.data)==null?void 0:re.error)||"Failed to change color")}finally{dt(!1)}}},Y=()=>{Ue(null),nt([])},te=async()=>{var P,me;try{g(!0),await V.delete(`/orders/${e}`),t(`/seasons/${n.season_id}`)}catch(re){console.error("Error deleting order:",re),h(((me=(P=re.response)==null?void 0:P.data)==null?void 0:me.error)||"Failed to delete order"),g(!1),N(!1)}},se=(P,me)=>{p({...f,[P]:me})},de=async P=>{var xe,Be;const me=f[P];if(me===void 0||me==="")return;const re=parseInt(me,10);if(isNaN(re)||re<0){h("Please enter a valid quantity");return}if(re===0){const je=i.find(Nt=>Nt.id===P);_(je);return}A(je=>new Set(je).add(P)),h("");try{await V.patch(`/orders/${e}/items/${P}`,{quantity:re});const je=i.map(ta=>ta.id===P?{...ta,quantity:re,line_total:re*parseFloat(ta.unit_price||0)}:ta);c(je);const Nt=je.reduce((ta,Fs)=>ta+parseFloat(Fs.line_total||0),0);r(ta=>({...ta,current_total:Nt}));const os={...f};delete os[P],p(os)}catch(je){console.error("Error updating quantity:",je),h(((Be=(xe=je.response)==null?void 0:xe.data)==null?void 0:Be.error)||"Failed to update quantity")}finally{A(je=>{const Nt=new Set(je);return Nt.delete(P),Nt})}},he=(P,me,re)=>{if(P.key==="Enter"){P.preventDefault(),de(me);const xe=Array.from(document.querySelectorAll('input[type="number"]')),Be=xe.findIndex(je=>je===P.target);if(Be!==-1&&Be<xe.length-1){const je=xe[Be+1];je.focus(),je.select()}}else if(P.key==="Escape"){const xe={...f};delete xe[me],p(xe)}},ye=async P=>{var me,re;A(xe=>new Set(xe).add(P)),h("");try{await V.delete(`/orders/${e}/items/${P}`);const xe=i.filter(je=>je.id!==P);c(xe),_(null);const Be=xe.reduce((je,Nt)=>je+parseFloat(Nt.line_total||0),0);r(je=>({...je,current_total:Be}))}catch(xe){console.error("Error deleting item:",xe),h(((re=(me=xe.response)==null?void 0:me.data)==null?void 0:re.error)||"Failed to remove item")}finally{A(xe=>{const Be=new Set(xe);return Be.delete(P),Be})}},ge=async()=>{var P,me;if(H){W(!0),h("");try{for(const je of H.items)await V.delete(`/orders/${e}/items/${je.id}`);const re=new Set(H.items.map(je=>je.id)),xe=i.filter(je=>!re.has(je.id));c(xe),G(null);const Be=xe.reduce((je,Nt)=>je+parseFloat(Nt.line_total||0),0);r(je=>({...je,current_total:Be}))}catch(re){console.error("Error deleting family:",re),h(((me=(P=re.response)==null?void 0:P.data)==null?void 0:me.error)||"Failed to remove product family")}finally{W(!1)}}},Re=async()=>{B(!0),h("");try{const P=await V.get(`/orders/${e}/copies`);X(P.data.copies||[]),Q(!0)}catch(P){console.error("Error fetching copies:",P),h("Failed to load order copies")}finally{B(!1)}},we=async()=>{B(!0),h("");try{const me=(await V.get(`/orders/${e}/copies`)).data.copies||[],re=[parseInt(e),...me.map(xe=>xe.id)];t(`/add-products?orderIds=${re.join(",")}&brandId=${n.brand_id}`)}catch(P){console.error("Error fetching copies:",P),h("Failed to load related orders")}finally{B(!1)}},ve=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P||0),ze=P=>{switch(P){case"draft":return"bg-gray-100 text-gray-800";case"submitted":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Xe=i.reduce((P,me)=>{const re=me.base_name||me.product_name||"Ungrouped",xe=me.color||"No Color",Be=`${re}|||${xe}`;return P[Be]||(P[Be]={baseName:re,color:xe,items:[]}),P[Be].items.push(me),P},{}),pt=P=>{const me=new Set(R);me.has(P)?me.delete(P):me.add(P),$(me)},rt=()=>{const P=Object.keys(Xe);R.size===P.length?$(new Set):$(new Set(P))},Vt=Object.keys(Xe).length>0&&R.size===Object.keys(Xe).length,ut=a()||l(),ea=async(P,me)=>{oe(!0),ue(!1);try{const re=await V.get(`/exports/orders/${e}?template=${P}&format=${me}`,{responseType:"blob"}),xe=new Blob([re.data],{type:me==="csv"?"text/csv":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Be=window.URL.createObjectURL(xe),je=document.createElement("a");je.href=Be,je.download=`order_${n.order_number}_${P}.${me}`,document.body.appendChild(je),je.click(),document.body.removeChild(je),window.URL.revokeObjectURL(Be)}catch(re){console.error("Error exporting order:",re),h("Failed to export order")}finally{oe(!1)}};return o?s.jsx(We,{children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):n?s.jsx(We,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("button",{onClick:()=>t(`/seasons/${n.season_id}`),className:"text-sm text-blue-600 hover:text-blue-800 mb-2",children:" Back to Season Dashboard"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.order_number}),s.jsxs("div",{className:"relative status-dropdown",children:[s.jsxs("button",{onClick:()=>ft(!Ge),className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full cursor-pointer hover:opacity-80 ${ze(n.status)}`,title:"Click to change status",children:[n.status," "]}),Ge&&s.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32 overflow-hidden",children:["draft","submitted","confirmed","shipped","cancelled"].map(P=>s.jsxs("button",{onClick:()=>{fa(P),ft(!1)},className:`block w-full text-left px-3 py-2 text-sm hover:bg-gray-100 ${n.status===P?"font-bold bg-gray-50":""}`,children:[s.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${ze(P)}`}),P]},P))})]})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Season:"})," ",n.season_name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Brand:"})," ",n.brand_name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Location:"})," ",n.location_name," (",n.location_code,")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("strong",{children:"Ship Date:"}),O?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:K,onChange:P=>I(P.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm"}),s.jsx("button",{onClick:_t,disabled:ee,className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:bg-gray-400",children:ee?"Saving...":"Save"}),s.jsx("button",{onClick:w,disabled:ee,className:"px-2 py-1 bg-gray-300 text-gray-700 text-xs rounded hover:bg-gray-400",children:"Cancel"})]}):s.jsxs("span",{onClick:a||l?Qe:void 0,className:a||l?"cursor-pointer hover:text-blue-600 hover:underline":"",title:a||l?"Click to edit":"",children:[Gj(n.ship_date),(a||l)&&s.jsx("svg",{className:"w-3 h-3 inline ml-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})]})]}),n.notes&&s.jsxs("div",{children:[s.jsx("strong",{children:"Notes:"})," ",n.notes]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"relative export-dropdown",children:[s.jsx("button",{onClick:()=>ue(!D),disabled:ie||i.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 flex items-center",children:ie?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export",s.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),D&&s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:s.jsxs("div",{className:"py-1",children:[s.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider bg-gray-50",children:"NuOrder Format"}),s.jsx("button",{onClick:()=>ea("nuorder","xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Excel (.xlsx)"}),s.jsx("button",{onClick:()=>ea("nuorder","csv"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"CSV (.csv)"}),s.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider bg-gray-50",children:"Elastic Format"}),s.jsx("button",{onClick:()=>ea("elastic","xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Excel (.xlsx)"}),s.jsx("button",{onClick:()=>ea("elastic","csv"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"CSV (.csv)"}),s.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider bg-gray-50",children:"Standard Format"}),s.jsx("button",{onClick:()=>ea("standard","xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Excel (.xlsx)"}),s.jsx("button",{onClick:()=>ea("standard","csv"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"CSV (.csv)"})]})})]}),ut&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>t(`/orders/${e}/add-products`),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"+ Add Products"}),s.jsx("button",{onClick:we,disabled:z,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 disabled:bg-gray-400",title:"Add products to this order and related ship dates",children:z?"Loading...":"+ Add to All Ships"}),s.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Copy Order"}),s.jsx("button",{onClick:Re,disabled:z,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400",title:"Push changes to orders copied from this one",children:z?"Loading...":"Push Updates"})]}),a()&&s.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete Order"})]})]}),u&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:u})}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.reduce((P,me)=>P+parseInt(me.quantity),0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Product Variants"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Order Total"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ve(n.current_total)})]})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Items"}),i.length>0&&s.jsx("button",{onClick:rt,className:"text-sm text-blue-600 hover:text-blue-800",children:Vt?"Expand All":"Collapse All"})]}),i.length===0?s.jsxs("div",{className:"px-6 py-8 text-center text-sm text-gray-500",children:["No items in this order yet."," ",ut&&s.jsx("button",{onClick:()=>t(`/orders/${e}/add-products`),className:"text-blue-600 hover:text-blue-800",children:"Add products"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:Object.entries(Xe).map(([P,me])=>s.jsxs("div",{children:[s.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50",onClick:()=>pt(P),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${R.has(P)?"":"rotate-90"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("h3",{className:"font-semibold text-gray-900",children:me.baseName}),ut&&(Ne==null?void 0:Ne.familyName)===me.baseName&&(Ne==null?void 0:Ne.currentColor)===me.color?s.jsx("div",{className:"flex items-center gap-2 ml-2",onClick:re=>re.stopPropagation(),children:ot?s.jsx("span",{className:"text-sm text-gray-500",children:"Loading colors..."}):s.jsxs(s.Fragment,{children:[s.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1",onChange:re=>re.target.value&&C(re.target.value),disabled:Ct,defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Change to..."}),Ye.filter(re=>re!==me.color).map(re=>s.jsx("option",{value:re,children:re},re))]}),s.jsx("button",{onClick:Y,className:"text-sm text-gray-500 hover:text-gray-700",disabled:Ct,children:"Cancel"}),Ct&&s.jsx("span",{className:"text-sm text-gray-500",children:"Changing..."})]})}):ut&&s.jsx("button",{onClick:re=>{re.stopPropagation(),M(me.baseName,me.items)},className:"ml-2 text-xs text-blue-600 hover:text-blue-800 px-2 py-0.5 rounded hover:bg-blue-50",title:"Change color for this family",children:"Change Color"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",me.items.length," items  ",ve(me.items.reduce((re,xe)=>re+parseFloat(xe.line_total),0)),")"]})]}),ut&&s.jsxs("button",{onClick:re=>{re.stopPropagation(),G({name:P,items:me.items})},className:"flex items-center text-sm text-red-600 hover:text-red-800 px-2 py-1 rounded hover:bg-red-50",title:"Remove entire family",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Family"]})]}),!R.has(P)&&s.jsx("div",{className:"px-6 pb-6 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Size"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Color"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Inseam"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Line Total"}),ut&&s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:me.items.map(re=>{const xe=f[re.id]!==void 0,Be=y.has(re.id),je=xe?f[re.id]:re.quantity;return s.jsxs("tr",{className:`hover:bg-gray-50 ${Be?"opacity-50":""}`,children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:re.product_name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:re.size||"-"}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:re.color||"-"}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:re.inseam||"-"}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:ve(re.unit_price)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right",children:ut?s.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[s.jsx("input",{type:"number",min:"0",value:je,onChange:Nt=>se(re.id,Nt.target.value),onKeyDown:Nt=>he(Nt,re.id,re.quantity),onBlur:()=>{xe&&f[re.id]!==String(re.quantity)&&de(re.id)},className:"w-16 px-2 py-1 text-right border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:Be}),xe&&f[re.id]!==String(re.quantity)&&s.jsx("span",{className:"text-xs text-blue-600",children:"*"})]}):s.jsx("span",{className:"font-medium text-gray-900",children:re.quantity})}),s.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-gray-900",children:ve(xe&&f[re.id]?parseInt(f[re.id]||0,10)*parseFloat(re.unit_price||0):re.line_total)}),ut&&s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("button",{onClick:()=>_(re),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Remove item",disabled:Be,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},re.id)})})]})})]},P))})]}),x&&s.jsx(Zj,{orderId:e,order:n,onClose:()=>{j(!1)}}),T&&s.jsx(Kj,{orderId:e,order:n,copies:ne,onClose:()=>Q(!1)}),S&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delete Order"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete order ",s.jsx("strong",{children:n.order_number}),"? This will permanently remove the order and all its items. This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:v,children:"Cancel"}),s.jsx("button",{onClick:te,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400",disabled:v,children:v?"Deleting...":"Delete Order"})]})]})}),U&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Remove Item"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Are you sure you want to remove this item from the order?"}),s.jsxs("div",{className:"bg-gray-50 rounded-md p-3 mb-6",children:[s.jsx("p",{className:"font-medium text-gray-900",children:U.product_name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[U.size&&`Size: ${U.size}`,U.size&&U.color&&"  ",U.color&&`Color: ${U.color}`]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",U.quantity,"  ",ve(U.unit_price)," = ",ve(U.line_total)]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:y.has(U.id),children:"Cancel"}),s.jsx("button",{onClick:()=>ye(U.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400",disabled:y.has(U.id),children:y.has(U.id)?"Removing...":"Remove Item"})]})]})}),H&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Remove Product Family"}),s.jsxs("p",{className:"text-gray-600 mb-2",children:["Are you sure you want to remove ",s.jsx("strong",{children:"all items"})," in this product family from the order?"]}),s.jsxs("div",{className:"bg-gray-50 rounded-md p-4 mb-6",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:H.name}),s.jsx("div",{className:"text-sm text-gray-600 space-y-1 max-h-40 overflow-y-auto",children:H.items.map(P=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[P.size&&`${P.size}`,P.size&&P.color&&" / ",P.color&&`${P.color}`]}),s.jsxs("span",{children:["Qty: ",P.quantity]})]},P.id))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between font-medium",children:[s.jsxs("span",{children:["Total: ",H.items.length," items"]}),s.jsx("span",{children:ve(H.items.reduce((P,me)=>P+parseFloat(me.line_total||0),0))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>G(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:E,children:"Cancel"}),s.jsx("button",{onClick:ge,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400",disabled:E,children:E?"Removing...":`Remove ${H.items.length} Items`})]})]})})]})}):s.jsx(We,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-600",children:u||"Order not found"}),s.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Order ID: ",e]}),s.jsx("button",{onClick:()=>t("/"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Back to Home"})]})})},Zj=({orderId:e,order:t,onClose:a})=>{const l=Ha(),[n,r]=m.useState([]),[i,c]=m.useState(""),[o,d]=m.useState(""),[u,h]=m.useState(""),[x,j]=m.useState(!1),[S,N]=m.useState(""),[v,g]=m.useState(1),[f,p]=m.useState([]),[y,A]=m.useState({}),[U,_]=m.useState({}),[H,G]=m.useState(new Set);m.useEffect(()=>{E(),W()},[]);const E=async()=>{try{const $=await V.get("/locations");r($.data.locations||[])}catch($){console.error("Error fetching locations:",$),N("Failed to load locations")}},W=async()=>{try{const $=await V.get(`/orders/${e}/family-groups`);p($.data.families||[])}catch($){console.error("Error fetching family groups:",$),N("Failed to load product families")}},D=async()=>{if(!i){N("Please select a target location");return}const $=f.filter(T=>T.base_name);if($.length===0){_({}),g(2);return}j(!0);try{const T={};for(const Q of $)try{const ne=await V.get(`/product-families/variants?brandId=${t.brand_id}&baseName=${encodeURIComponent(Q.base_name)}`);T[Q.base_name]=ne.data.colorGroups||{}}catch(ne){console.warn(`Could not fetch variants for ${Q.base_name}:`,ne),T[Q.base_name]={}}_(T),g(2)}catch(T){console.error("Error fetching variants:",T),N("Failed to load variant options")}finally{j(!1)}},ue=($,T,Q)=>{A({...y,[$]:{...y[$],color:{from:T,to:Q}}})},ie=$=>{const T=new Set(H);T.has($)?T.delete($):T.add($),G(T)},oe=()=>{const $={};return Object.entries(y).forEach(([T,Q])=>{if(Q.color){$[T]={};const ne=f.find(X=>X.base_name===T);ne&&ne.items&&ne.items.forEach(X=>{X.color===Q.color.from&&($[T][X.size]={from:Q.color.from,to:Q.color.to})})}}),$},R=async()=>{var $,T;try{j(!0),N("");const Q={targetLocationId:i,shipDate:o||void 0,notes:u||void 0},ne=oe();Object.keys(ne).length>0&&(Q.variantMapping=ne),H.size>0&&(Q.skipFamilies=Array.from(H));const X=await V.post(`/orders/${e}/copy`,Q);l(`/orders/${X.data.order.id}`)}catch(Q){console.error("Error copying order:",Q),N(((T=($=Q.response)==null?void 0:$.data)==null?void 0:T.error)||"Failed to copy order"),j(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Copy Order to Another Location"}),S&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:S})}),v===1?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will create a new order in the selected location. You'll be able to map product variants (e.g., change White to Black) in the next step."}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Source: ",s.jsx("strong",{children:t.location_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Location *"}),s.jsxs("select",{value:i,onChange:$=>c($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[s.jsx("option",{value:"",children:"Select Location"}),n.filter($=>$.id!==t.location_id).map($=>s.jsxs("option",{value:$.id,children:[$.name," (",$.code,")"]},$.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ship Date (optional)"}),s.jsx("input",{type:"date",value:o,onChange:$=>d($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),s.jsx("textarea",{value:u,onChange:$=>h($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,placeholder:"Add any notes about this copy..."})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),s.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",disabled:x||!i,children:x?"Loading...":"Next: Configure Variants"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Optionally map product variants. For example, if the source order has White products, you can map them to Black for the target location."})}),s.jsx("div",{className:"space-y-6",children:f.map($=>{var X,z;const T=Object.keys(U[$.base_name]||{}),Q=$.color||"default",ne=H.has($.base_name);return s.jsxs("div",{className:`border rounded-md p-4 ${ne?"border-gray-300 bg-gray-50 opacity-60":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:`font-semibold ${ne?"text-gray-500 line-through":"text-gray-900"}`,children:$.base_name}),s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:ne,onChange:()=>ie($.base_name),className:"mr-2 h-4 w-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Skip"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[$.items.length," items in source order (Color: ",Q,")"]}),!ne&&T.length>1?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Map color:"}),s.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded text-sm font-medium",children:Q}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsxs("select",{value:((z=(X=y[$.base_name])==null?void 0:X.color)==null?void 0:z.to)||"",onChange:B=>ue($.base_name,Q,B.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[s.jsxs("option",{value:"",children:["Keep same (",Q,")"]}),T.filter(B=>B!==Q).map(B=>s.jsx("option",{value:B,children:B},B))]})]}):ne?null:s.jsx("div",{className:"text-sm text-gray-500",children:"Only one color available - no mapping needed"})]},$.base_name)})}),H.size>0&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:H.size})," of ",f.length," product families will be skipped.",f.length-H.size===0&&s.jsx("span",{className:"text-red-600 ml-1",children:"Warning: No products will be copied!"})]})}),s.jsxs("div",{className:"flex justify-between space-x-2 mt-6 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>g(1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:" Back"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),s.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",disabled:x||f.length-H.size===0,children:x?"Copying...":`Copy ${f.length-H.size} Families`})]})]})]})]})})},Kj=({orderId:e,order:t,copies:a,onClose:l})=>{const[n,r]=m.useState(new Set(a.filter(f=>f.status==="draft").map(f=>f.id))),[i,c]=m.useState(!1),[o,d]=m.useState(""),[u,h]=m.useState(null),x=a.filter(f=>f.status==="draft"),j=a.filter(f=>f.status!=="draft"),S=f=>{const p=new Set(n);p.has(f)?p.delete(f):p.add(f),r(p)},N=()=>{n.size===x.length?r(new Set):r(new Set(x.map(f=>f.id)))},v=async()=>{var f,p;if(n.size===0){d("Please select at least one order to update");return}c(!0),d(""),h(null);try{const y=await V.post(`/orders/${e}/push-updates`,{targetOrderIds:Array.from(n)});h(y.data.results)}catch(y){console.error("Error pushing updates:",y),d(((p=(f=y.response)==null?void 0:f.data)==null?void 0:p.error)||"Failed to push updates")}finally{c(!1)}},g=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f||0);return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Push Updates to Copied Orders"}),o&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:o})}),u?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:s.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["Updates pushed successfully to ",u.length," orders"]})}),s.jsx("div",{className:"space-y-3",children:u.map(f=>s.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:f.orderNumber}),s.jsx("div",{className:"text-sm text-gray-600",children:f.location}),s.jsxs("div",{className:"mt-2 flex gap-4 text-sm",children:[f.itemsAdded>0&&s.jsxs("span",{className:"text-green-600",children:["+",f.itemsAdded," added"]}),f.itemsUpdated>0&&s.jsxs("span",{className:"text-blue-600",children:[f.itemsUpdated," updated"]}),f.itemsRemoved>0&&s.jsxs("span",{className:"text-red-600",children:["-",f.itemsRemoved," removed"]}),f.itemsAdded===0&&f.itemsUpdated===0&&f.itemsRemoved===0&&s.jsx("span",{className:"text-gray-500",children:"No changes needed"})]})]},f.orderId))}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Done"})})]}):a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"This order has not been copied to any other locations yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:'Use "Copy Order" to create copies for other locations first.'}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:l,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Push the current items and quantities from this order to its copies. Only draft orders can be updated."}),x.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select orders to update:"}),s.jsx("button",{onClick:N,className:"text-sm text-blue-600 hover:text-blue-800",children:n.size===x.length?"Deselect All":"Select All"})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-md p-2",children:x.map(f=>s.jsxs("label",{className:"flex items-center p-2 rounded hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.has(f.id),onChange:()=>S(f.id),className:"mr-3 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:f.order_number}),s.jsxs("div",{className:"text-sm text-gray-600",children:[f.location_name," (",f.location_code,")"]})]}),s.jsxs("div",{className:"text-right text-sm text-gray-500",children:[s.jsxs("div",{children:[f.item_count," items"]}),s.jsx("div",{children:g(f.current_total)})]})]},f.id))})]}),j.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Cannot update (not in draft status):"}),s.jsx("div",{className:"space-y-1 text-sm text-gray-400",children:j.map(f=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[f.order_number," - ",f.location_name]}),s.jsx("span",{className:"capitalize",children:f.status})]},f.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx("button",{onClick:l,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:i,children:"Cancel"}),s.jsx("button",{onClick:v,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400",disabled:i||n.size===0,children:i?"Pushing...":`Push to ${n.size} Order${n.size!==1?"s":""}`})]})]})]})})},Jj=(e,t)=>{const[a,l]=m.useState(e);return m.useEffect(()=>{const n=setTimeout(()=>l(e),t);return()=>clearTimeout(n)},[e,t]),a},fh=()=>{var fa,Qe,_t;const{orderId:e}=C0(),t=Ha(),[a]=tc(),l=((fa=a.get("orderIds"))==null?void 0:fa.split(",").map(w=>parseInt(w)).filter(Boolean))||[],n=l.length>0,r=a.get("brandId"),[i,c]=m.useState(null),[o,d]=m.useState([]),[u,h]=m.useState(new Set(l)),[x,j]=m.useState([]),[S,N]=m.useState(!0),[v,g]=m.useState(!1),[f,p]=m.useState(""),[y,A]=m.useState({}),[U,_]=m.useState(!1),[H,G]=m.useState(-1),E=m.useRef(null),W=m.useRef(null),[D,ue]=m.useState({search:"",gender:"",category:"",subcategory:"",color:"",sizeMin:null,sizeMax:null,inseam:""}),ie=Jj(D.search,300),[oe,R]=m.useState(1),$=100;m.useEffect(()=>{T()},[e,n]);const T=async()=>{var w;try{if(N(!0),n){const M=l.map(se=>V.get(`/orders/${se}`)),Y=(await Promise.all(M)).map(se=>se.data.order);d(Y);const te=r||((w=Y[0])==null?void 0:w.brand_id);if(te){const se=await V.get(`/products/search?brandId=${te}&limit=10000`);j(se.data.products||[])}}else{const M=await V.get(`/orders/${e}`);c(M.data.order);const C=await V.get(`/products/search?brandId=${M.data.order.brand_id}&limit=10000`);j(C.data.products||[])}}catch(M){console.error("Error fetching data:",M),p("Failed to load data")}finally{N(!1)}};m.useCallback(w=>w.base_name||w.name||"Unknown",[]);const Q=m.useMemo(()=>{const w=[],M=new Set,C=new Set,Y=new Set;return x.forEach(te=>{const se=te.base_name||te.name||"Unknown";M.has(se)||(M.add(se),w.push({type:"family",value:se,display:se,searchLower:se.toLowerCase()})),te.sku&&!C.has(te.sku)&&(C.add(te.sku),w.push({type:"sku",value:te.sku,display:`SKU: ${te.sku}`,searchLower:te.sku.toLowerCase()})),te.color&&!Y.has(te.color)&&(Y.add(te.color),w.push({type:"color",value:te.color,display:`Color: ${te.color}`,searchLower:te.color.toLowerCase()}))}),w.sort((te,se)=>te.display.localeCompare(se.display))},[x]),ne=m.useMemo(()=>{const w=new Set,M=new Set,C=new Set,Y=new Set,te=new Set,se=new Set,de=new Set;x.forEach(ge=>{w.add(ge.base_name||ge.name||"Unknown"),ge.gender&&M.add(ge.gender),ge.category&&C.add(ge.category),ge.subcategory&&Y.add(ge.subcategory),ge.color&&te.add(ge.color),ge.size&&se.add(ge.size),ge.inseam&&de.add(ge.inseam)});const he={xxs:1,"2xs":1,xs:2,s:3,m:4,l:5,xl:6,xxl:7,"2xl":7,xxxl:8,"3xl":8,xxxxl:9,"4xl":9},ye=(ge,Re)=>{const we=ge.toLowerCase(),ve=Re.toLowerCase(),ze=he[we],Xe=he[ve];if(ze&&Xe)return ze-Xe;if(ze&&!Xe)return 1;if(!ze&&Xe)return-1;const pt=parseFloat(ge),rt=parseFloat(Re);return!isNaN(pt)&&!isNaN(rt)?pt-rt:ge.localeCompare(Re)};return{families:Array.from(w).sort(),genders:Array.from(M).sort(),categories:Array.from(C).sort(),subcategories:Array.from(Y).sort(),colors:Array.from(te).sort(),sizes:Array.from(se).sort(ye),inseams:Array.from(de).sort((ge,Re)=>{const we=parseFloat(ge),ve=parseFloat(Re);return!isNaN(we)&&!isNaN(ve)?we-ve:ge.localeCompare(Re)})}},[x]),X=m.useMemo(()=>{const w=(ie==null?void 0:ie.toLowerCase())||"";return x.filter(M=>{var C,Y;return!(w&&!M.name.toLowerCase().includes(w)&&!((C=M.base_name)!=null&&C.toLowerCase().includes(w))&&!((Y=M.sku)!=null&&Y.toLowerCase().includes(w))||D.gender&&M.gender!==D.gender||D.category&&M.category!==D.category||D.subcategory&&M.subcategory!==D.subcategory||D.color&&M.color!==D.color||D.inseam&&M.inseam!==D.inseam)})},[x,ie,D.gender,D.category,D.subcategory,D.color,D.inseam]),z=m.useMemo(()=>{const w=[...new Set(X.map(M=>M.size).filter(Boolean))];return ne.sizes.filter(M=>w.includes(M))},[X,ne.sizes]),B=m.useMemo(()=>D.sizeMin===null&&D.sizeMax===null?X:X.filter(w=>{const M=z.indexOf(w.size);return!(M===-1||D.sizeMin!==null&&M<D.sizeMin||D.sizeMax!==null&&M>D.sizeMax)}),[X,D.sizeMin,D.sizeMax,z]);m.useEffect(()=>{R(1)},[ie,D.family,D.gender,D.category,D.subcategory,D.color,D.sizeMin,D.sizeMax,D.inseam]);const O=Math.ceil(B.length/$),F=m.useMemo(()=>{const w=(oe-1)*$;return B.slice(w,w+$)},[B,oe,$]),K=m.useMemo(()=>{const w=(ie==null?void 0:ie.toLowerCase())||"",M=C=>x.filter(Y=>{var te,se;if(C!=="search"&&w&&!Y.name.toLowerCase().includes(w)&&!((te=Y.base_name)!=null&&te.toLowerCase().includes(w))&&!((se=Y.sku)!=null&&se.toLowerCase().includes(w))||C!=="gender"&&D.gender&&Y.gender!==D.gender||C!=="category"&&D.category&&Y.category!==D.category||C!=="subcategory"&&D.subcategory&&Y.subcategory!==D.subcategory||C!=="color"&&D.color&&Y.color!==D.color)return!1;if(C!=="size"&&(D.sizeMin!==null||D.sizeMax!==null)){const de=z.indexOf(Y.size);if(de===-1||D.sizeMin!==null&&de<D.sizeMin||D.sizeMax!==null&&de>D.sizeMax)return!1}return!(C!=="inseam"&&D.inseam&&Y.inseam!==D.inseam)});return{genders:[...new Set(M("gender").map(C=>C.gender).filter(Boolean))].sort(),categories:[...new Set(M("category").map(C=>C.category).filter(Boolean))].sort(),subcategories:[...new Set(M("subcategory").map(C=>C.subcategory).filter(Boolean))].sort(),colors:[...new Set(M("color").map(C=>C.color).filter(Boolean))].sort(),inseams:[...new Set(M("inseam").map(C=>C.inseam).filter(Boolean))].sort((C,Y)=>{const te=parseFloat(C),se=parseFloat(Y);return!isNaN(te)&&!isNaN(se)?te-se:C.localeCompare(Y)})}},[x,ie,D.gender,D.category,D.subcategory,D.color,D.sizeMin,D.sizeMax,D.inseam,z]),I=m.useMemo(()=>{if(!D.search||D.search.length<2)return[];const w=D.search.toLowerCase();return Q.filter(M=>M.searchLower.includes(w)).slice(0,10)},[Q,D.search]),ee=(w,M)=>{ue(C=>({...C,[w]:M})),w==="search"&&(_(M.length>=2),G(-1))},pe=w=>{ue(M=>({...M,search:w.value})),_(!1),G(-1)},Ne=w=>{!U||I.length===0||(w.key==="ArrowDown"?(w.preventDefault(),G(M=>M<I.length-1?M+1:M)):w.key==="ArrowUp"?(w.preventDefault(),G(M=>M>0?M-1:-1)):w.key==="Enter"&&H>=0?(w.preventDefault(),pe(I[H])):w.key==="Escape"&&_(!1))},Ue=()=>{setTimeout(()=>_(!1),200)},Ye=()=>{ue({search:"",gender:"",category:"",subcategory:"",color:"",sizeMin:null,sizeMax:null,inseam:""}),_(!1)},nt=(w,M)=>{A(C=>({...C,[w]:M}))},ot=w=>{const M={};B.forEach(C=>{M[C.id]=w}),A(C=>({...C,...M}))},et=w=>{h(M=>{const C=new Set(M);return C.has(w)?C.delete(w):C.add(w),C})},Ct=async()=>{var w,M;try{g(!0),p("");const C=Object.entries(y).filter(([Y,te])=>te&&parseInt(te)>0).map(([Y,te])=>({product_id:parseInt(Y),quantity:parseInt(te)}));if(C.length===0){p("Please enter quantities for at least one product"),g(!1);return}if(n){const Y=Array.from(u);if(Y.length===0){p("Please select at least one order"),g(!1);return}const te=Y.length;for(let de=0;de<C.length;de++){const he=C[de],ye=he.quantity,ge=Array(te).fill(0),Re=de%te;for(let we=0;we<ye;we++){const ve=(Re+we)%te;ge[ve]++}for(let we=0;we<te;we++){const ve=ge[we];ve>0&&await V.post(`/orders/${Y[we]}/items`,{product_id:he.product_id,quantity:ve})}}A({});const se=o.find(de=>u.has(de.id));se!=null&&se.season_id?t(`/seasons/${se.season_id}`):t("/orders")}else{for(const Y of C)await V.post(`/orders/${e}/items`,Y);A({})}}catch(C){console.error("Error adding products:",C),p(((M=(w=C.response)==null?void 0:w.data)==null?void 0:M.error)||"Failed to add products")}finally{g(!1)}},dt=Object.entries(y).filter(([w,M])=>M&&parseInt(M)>0).length,Ge=Object.values(y).reduce((w,M)=>w+(parseInt(M)||0),0),ft=Object.entries(D).filter(([w,M])=>w==="sizeMin"||w==="sizeMax"?M!==null:M).length;if(S)return s.jsx(We,{children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!n&&!i)return s.jsx(We,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-600",children:"Order not found"}),s.jsx("button",{onClick:()=>t("/orders"),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Back to Orders"})]})});const Tt=w=>w?new Date(w+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No date";return s.jsx(We,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>t(n?-1:`/orders/${e}`),className:"text-sm text-blue-600 hover:text-blue-800 mb-2",children:[" ",n?"Back":"Back to Order"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Add Products to Orders":"Add Products"}),n?s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(Qe=o[0])==null?void 0:Qe.brand_name,"  ",(_t=o[0])==null?void 0:_t.location_name,"  ",o.length," orders"]}):s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Order: ",i.order_number,"  ",i.brand_name,"  ",i.location_name]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Products selected: ",s.jsx("span",{className:"font-semibold",children:dt})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Total units: ",s.jsx("span",{className:"font-semibold",children:Ge})]}),n&&u.size>0&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Per order: ~",s.jsx("span",{className:"font-semibold",children:Math.floor(Ge/u.size)})," units"]})]}),s.jsx("button",{onClick:Ct,disabled:v||dt===0||n&&u.size===0,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",children:v?"Adding...":n?`Add to ${u.size} Orders`:`Add ${dt} Products`})]})]}),n&&o.length>0&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Select orders to add products to:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((w,M)=>s.jsxs("button",{onClick:()=>et(w.id),className:`px-3 py-2 rounded-md border text-sm ${u.has(w.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:["Ship ",M+1,s.jsxs("span",{className:"ml-1 opacity-75",children:["(",Tt(w.ship_date),")"]})]},w.id))}),s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Quantities will be split evenly across selected orders using round-robin distribution"})]}),f&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:f})}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Filters"}),ft>0&&s.jsxs("button",{onClick:Ye,className:"text-sm text-blue-600 hover:text-blue-800",children:["Clear all (",ft,")"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Gender"}),s.jsxs("select",{value:D.gender,onChange:w=>ee("gender",w.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"",children:"All"}),K.genders.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Category"}),s.jsxs("select",{value:D.category,onChange:w=>ee("category",w.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"",children:"All"}),K.categories.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Subcategory"}),s.jsxs("select",{value:D.subcategory,onChange:w=>ee("subcategory",w.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"",children:"All"}),K.subcategories.map(w=>s.jsx("option",{value:w,children:w},w))]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Search"}),s.jsx("input",{ref:E,type:"text",placeholder:"Name, SKU...",value:D.search,onChange:w=>ee("search",w.target.value),onKeyDown:Ne,onFocus:()=>D.search.length>=2&&_(!0),onBlur:Ue,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",autoComplete:"off"}),U&&I.length>0&&s.jsx("div",{ref:W,className:"absolute z-50 left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:I.map((w,M)=>s.jsx("div",{className:`px-3 py-2 cursor-pointer text-sm ${M===H?"bg-blue-100 text-blue-900":"hover:bg-gray-100"}`,onMouseDown:()=>pe(w),children:s.jsx("span",{className:`${w.type!=="family"?"text-gray-500":""}`,children:w.display})},`${w.type}-${w.value}`))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Size: ",z.length>0?s.jsxs("span",{className:"text-blue-600 font-medium",children:[z[D.sizeMin??0]," - ",z[D.sizeMax??z.length-1]]}):"None"]}),z.length>1?s.jsxs("div",{className:"relative h-[34px] flex items-center",children:[s.jsx("div",{className:"absolute w-full h-1.5 bg-gray-200 rounded"}),s.jsx("div",{className:"absolute h-1.5 bg-blue-500 rounded",style:{left:`${(D.sizeMin??0)/(z.length-1)*100}%`,right:`${100-(D.sizeMax??z.length-1)/(z.length-1)*100}%`}}),s.jsx("input",{type:"range",min:"0",max:z.length-1,value:D.sizeMin??0,onChange:w=>{const M=parseInt(w.target.value),C=D.sizeMax??z.length-1;ue(Y=>({...Y,sizeMin:M,sizeMax:M>C?M:Y.sizeMax}))},className:"absolute w-full appearance-none bg-transparent pointer-events-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-blue-600 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-white [&::-webkit-slider-thumb]:shadow [&::-moz-range-thumb]:pointer-events-auto [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:bg-blue-600 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-white [&::-moz-range-thumb]:shadow"}),s.jsx("input",{type:"range",min:"0",max:z.length-1,value:D.sizeMax??z.length-1,onChange:w=>{const M=parseInt(w.target.value),C=D.sizeMin??0;ue(Y=>({...Y,sizeMax:M,sizeMin:M<C?M:Y.sizeMin}))},className:"absolute w-full appearance-none bg-transparent pointer-events-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-blue-600 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-white [&::-webkit-slider-thumb]:shadow [&::-moz-range-thumb]:pointer-events-auto [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:bg-blue-600 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-white [&::-moz-range-thumb]:shadow"})]}):z.length===1?s.jsx("div",{className:"text-sm text-gray-600 py-1.5",children:z[0]}):s.jsx("div",{className:"text-sm text-gray-400 py-1.5",children:"No sizes"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Inseam"}),s.jsxs("select",{value:D.inseam,onChange:w=>ee("inseam",w.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:[s.jsxs("option",{value:"",children:["All (",K.inseams.length,")"]}),K.inseams.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Color"}),s.jsxs("select",{value:D.color,onChange:w=>ee("color",w.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:[s.jsxs("option",{value:"",children:["All (",K.colors.length,")"]}),K.colors.map(w=>s.jsx("option",{value:w,children:w},w))]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 border rounded-lg px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",s.jsx("span",{className:"font-semibold",children:F.length})," of ",s.jsx("span",{className:"font-semibold",children:B.length})," products",B.length!==x.length&&s.jsxs("span",{children:[" (filtered from ",x.length,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[O>1&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>R(w=>Math.max(1,w-1)),disabled:oe===1,className:"px-2 py-1 border rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Prev"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",oe," of ",O]}),s.jsx("button",{onClick:()=>R(w=>Math.min(O,w+1)),disabled:oe===O,className:"px-2 py-1 border rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Next"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Set all to:"}),s.jsx("input",{type:"number",min:"0",placeholder:"0",className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm",onKeyDown:w=>{w.key==="Enter"&&ot(w.target.value)},onBlur:w=>{w.target.value&&(ot(w.target.value),w.target.value="")}})]})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Family"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Color"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inseam"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Quantity"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(w=>s.jsxs("tr",{className:`hover:bg-gray-50 ${y[w.id]>0?"bg-blue-50":""}`,children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap",children:w.base_name||w.name||"Unknown"}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:w.name}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 whitespace-nowrap",children:w.color||"-"}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 whitespace-nowrap",children:w.size||"-"}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 whitespace-nowrap",children:w.inseam||"-"}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:w.sku||"-"}),s.jsxs("td",{className:"px-4 py-2 text-sm text-right text-gray-900 whitespace-nowrap",children:["$",parseFloat(w.wholesale_cost||0).toFixed(2)]}),s.jsx("td",{className:"px-4 py-2 text-sm text-right",children:s.jsx("input",{type:"number",min:"0",value:y[w.id]||"",onChange:M=>nt(w.id,M.target.value),onKeyDown:M=>{if(M.key==="Enter"){M.preventDefault();const C=Array.from(document.querySelectorAll('table input[type="number"]')),Y=C.findIndex(te=>te===M.target);if(Y!==-1&&Y<C.length-1){const te=C[Y+1];te.focus(),te.select()}}},className:"w-20 px-2 py-1 border border-gray-300 rounded text-right text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})})]},w.id))})]})}),B.length===0&&s.jsxs("div",{className:"px-6 py-8 text-center text-sm text-gray-500",children:["No products match your filters."," ",s.jsx("button",{onClick:Ye,className:"text-blue-600 hover:text-blue-800",children:"Clear filters"})]})]}),dt>0&&s.jsx("div",{className:"sticky bottom-0 bg-white border-t shadow-lg px-6 py-4 -mx-6 mt-6",children:s.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Ready to add "}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[dt," products"]}),s.jsxs("span",{className:"text-gray-600",children:[" (",Ge," total units)"]})]}),s.jsx("button",{onClick:Ct,disabled:v,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 font-medium",children:v?"Adding...":"Add to Order"})]})})]})})},Pj=()=>{const[e,t]=m.useState(null),[a,l]=m.useState(!1),[n,r]=m.useState(""),[i,c]=m.useState(""),[o,d]=m.useState(null),[u,h]=m.useState([]),[x,j]=m.useState({}),[S,N]=m.useState([]),[v,g]=m.useState(""),[f,p]=m.useState(""),[y,A]=m.useState(""),[U,_]=m.useState([]),[H,G]=m.useState(""),E=[{key:"upc",label:"UPC (recommended)",required:!1,variations:["upc","upc code","barcode","product code","item code","ean","gtin"]},{key:"product",label:"Product Name",required:!1,variations:["product","product name","item","item name","name","description","sku","style"]},{key:"quantity",label:"Quantity *",required:!0,variations:["quantity","qty","quantity sold","units","units sold","amount","sales quantity","sold"]},{key:"location",label:"Location",required:!1,variations:["location","store","site","shop","branch","warehouse","store name","location name"]},{key:"date",label:"Sale Date",required:!1,variations:["date","sale date","transaction date","purchase date","order date","sold date","trans date","txn date","created","created at"]}];m.useEffect(()=>{W(),D()},[]);const W=async()=>{try{const z=await V.get("/sales-data/uploads");h(z.data.uploads||[])}catch(z){console.error("Error fetching uploads:",z)}},D=async()=>{try{const z=await V.get("/locations");_(z.data.locations||[])}catch(z){console.error("Error fetching locations:",z)}},[ue,ie]=m.useState(null),oe=async(z,B)=>{var O,F;if(window.confirm(`Are you sure you want to delete the upload "${B}"?

This will also delete all associated sales data records.`)){ie(z),r("");try{const K=await V.delete(`/sales-data/uploads/${z}`);c(`Upload deleted successfully. ${K.data.deletedRecords} sales records removed.`),W()}catch(K){console.error("Delete error:",K),r(((F=(O=K.response)==null?void 0:O.data)==null?void 0:F.error)||"Failed to delete upload")}finally{ie(null)}}},R=async z=>{const B=z.target.files[0];if(B){t(B),r(""),c(""),d(null),N([]),g(""),j({}),l(!0);try{const O=new FormData;O.append("file",B);const F=await V.post("/sales-data/sheets",O,{headers:{"Content-Type":"multipart/form-data"}});N(F.data.sheets||[]),g(F.data.defaultSheet||F.data.sheets[0])}catch(O){console.error("Error fetching sheet names:",O),r("Failed to read Excel file")}finally{l(!1)}}},$=async()=>{var z,B;if(!e){r("Please select a file first");return}l(!0),r("");try{const O=new FormData;O.append("file",e),v&&O.append("sheetName",v);const F=await V.post("/sales-data/preview",O,{headers:{"Content-Type":"multipart/form-data"}});d(F.data),c(`Preview loaded: ${F.data.totalRows} rows found from sheet "${v}"`);const K={},I=new Set,ee=pe=>pe.toLowerCase().trim().replace(/[_-]/g," ").replace(/\s+/g," ");E.forEach(pe=>{F.data.headers.forEach(Ne=>{const Ue=ee(Ne);!I.has(Ne)&&pe.variations.includes(Ue)&&(K[pe.key]=Ne,I.add(Ne))})}),E.forEach(pe=>{K[pe.key]||F.data.headers.forEach(Ne=>{if(!I.has(Ne)){const Ue=ee(Ne);pe.variations.some(nt=>Ue.includes(nt)||nt.includes(Ue))&&(K[pe.key]=Ne,I.add(Ne))}})}),j(K)}catch(O){console.error("Preview error:",O),r(((B=(z=O.response)==null?void 0:z.data)==null?void 0:B.error)||"Failed to preview file")}finally{l(!1)}},T=(z,B)=>{j(O=>({...O,[z]:B}))},[Q,ne]=m.useState(null),X=async()=>{var O,F;if(!e){r("Please select a file first");return}if(f&&y&&new Date(f)>new Date(y)){r("Start date must be before end date");return}const B=E.filter(K=>K.required).filter(K=>!x[K.key]);if(B.length>0){r(`Please map required fields: ${B.map(K=>K.label).join(", ")}`);return}if(!x.upc&&!x.product){r("Please map either UPC or Product Name (at least one is required for product matching)");return}l(!0),r(""),c(""),ne(null);try{const K=new FormData;K.append("file",e),v&&K.append("sheetName",v),K.append("columnMapping",JSON.stringify(x)),K.append("startDate",f),K.append("endDate",y),H&&K.append("locationId",H);const I=await V.post("/sales-data/upload",K,{headers:{"Content-Type":"multipart/form-data"}}),{summary:ee,errors:pe,unmatchedProducts:Ne,unmatchedLocations:Ue}=I.data;let Ye=`Upload complete! ${ee.recordsAdded} added, ${ee.recordsUpdated} updated`;ee.recordsFailed>0&&(Ye+=`, ${ee.recordsFailed} failed`),c(Ye),ne({summary:ee,errors:pe,unmatchedProducts:Ne,unmatchedLocations:Ue}),t(null),d(null),W()}catch(K){console.error("Upload error:",K),r(((F=(O=K.response)==null?void 0:O.data)==null?void 0:F.error)||"Failed to upload file")}finally{l(!1)}};return s.jsx(We,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Data Upload"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Upload Excel files containing historical sales data. The system will use this data to calculate sales velocity and suggest order quantities."})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload Sales Data"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excel File (.xlsx)"}),s.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:R,className:`block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-md file:border-0
                  file:text-sm file:font-semibold
                  file:bg-blue-50 file:text-blue-700
                  hover:file:bg-blue-100`}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Expected columns: UPC (recommended) or Product Name, Quantity, Location (optional), Sale Date (optional - used to determine date range)."})]}),S.length>1&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Sheet"}),s.jsx("select",{value:v,onChange:z=>{g(z.target.value),d(null),j({})},className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:S.map(z=>s.jsx("option",{value:z,children:z},z))}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["This file has ",S.length,' sheets. Change selection and click "Preview File" to load the selected sheet.']})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date Override (optional)"}),s.jsx("input",{type:"date",value:f,onChange:z=>p(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to auto-detect from Sale Date column"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date Override (optional)"}),s.jsx("input",{type:"date",value:y,onChange:z=>A(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to auto-detect from Sale Date column"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (optional)"}),s.jsxs("select",{value:H,onChange:z=>G(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"-- All Locations / From File --"}),U.map(z=>s.jsxs("option",{value:z.id,children:[z.name," (",z.code,")"]},z.id))]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Select a location or leave blank to use location from file data"})]}),s.jsx("div",{children:s.jsx("button",{onClick:$,disabled:!e||a,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Preview File"})}),n&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:n})}),i&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-green-800",children:i})})]})]}),Q&&s.jsxs("div",{className:"bg-white shadow rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upload Results"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[s.jsx("div",{className:"text-sm text-blue-600",children:"Processed"}),s.jsx("div",{className:"text-xl font-bold text-blue-900",children:Q.summary.recordsProcessed})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Added"}),s.jsx("div",{className:"text-xl font-bold text-green-900",children:Q.summary.recordsAdded})]}),s.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md",children:[s.jsx("div",{className:"text-sm text-yellow-600",children:"Updated"}),s.jsx("div",{className:"text-xl font-bold text-yellow-900",children:Q.summary.recordsUpdated})]}),s.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[s.jsx("div",{className:"text-sm text-red-600",children:"Failed"}),s.jsx("div",{className:"text-xl font-bold text-red-900",children:Q.summary.recordsFailed})]})]}),Q.summary.dateRange&&s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-4",children:[s.jsx("h3",{className:"font-medium text-purple-800 mb-1",children:"Data Period"}),s.jsxs("div",{className:"text-sm text-purple-700",children:[s.jsxs("span",{className:"font-semibold",children:[new Date(Q.summary.dateRange.start).toLocaleDateString()," - ",new Date(Q.summary.dateRange.end).toLocaleDateString()]}),s.jsxs("span",{className:"ml-2 text-purple-500",children:["(",Q.summary.dateRange.source,")"]})]}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[Math.ceil((new Date(Q.summary.dateRange.end)-new Date(Q.summary.dateRange.start))/(1e3*60*60*24))," days of sales data"]})]}),Q.unmatchedLocations&&Q.unmatchedLocations.length>0&&s.jsxs("div",{className:"border border-orange-200 rounded-md p-4 bg-orange-50",children:[s.jsxs("h3",{className:"font-medium text-orange-800 mb-2",children:["Unmatched Locations (",Q.summary.uniqueUnmatchedLocations," unique)"]}),s.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"These location names in your file didn't match any locations in the system. Add them to the Locations list or select a location from the dropdown above."}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Q.unmatchedLocations.map((z,B)=>s.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded",children:['"',z.name,'" (',z.count," rows)"]},B))})]}),Q.unmatchedProducts&&Q.unmatchedProducts.length>0&&s.jsxs("div",{className:"border border-red-200 rounded-md p-4 bg-red-50",children:[s.jsxs("h3",{className:"font-medium text-red-800 mb-2",children:["Unmatched Products (",Q.summary.uniqueUnmatchedProducts," unique)"]}),s.jsx("p",{className:"text-sm text-red-700 mb-2",children:"These products (by UPC or name) were not found in your catalog. Upload product catalogs first to include sales data for these items."}),s.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"sticky top-0 bg-red-100",children:s.jsxs("tr",{className:"border-b border-red-200",children:[s.jsx("th",{className:"text-left py-1 px-2 text-red-800",children:"UPC"}),s.jsx("th",{className:"text-left py-1 px-2 text-red-800",children:"Product Name"}),s.jsx("th",{className:"text-right py-1 px-2 text-red-800",children:"Rows"}),s.jsx("th",{className:"text-right py-1 px-2 text-red-800",children:"Total Qty"})]})}),s.jsx("tbody",{children:Q.unmatchedProducts.slice(0,30).map((z,B)=>s.jsxs("tr",{className:"border-b border-red-100",children:[s.jsx("td",{className:"py-1 px-2 text-red-900 font-mono text-xs",children:z.upc||"-"}),s.jsx("td",{className:"py-1 px-2 text-red-900 text-xs max-w-xs truncate",title:z.name,children:z.name||"-"}),s.jsx("td",{className:"py-1 px-2 text-right text-red-700",children:z.count}),s.jsx("td",{className:"py-1 px-2 text-right text-red-700",children:z.quantity})]},B))})]}),Q.unmatchedProducts.length>30&&s.jsxs("p",{className:"text-xs text-red-600 mt-2 text-center",children:["... and ",Q.unmatchedProducts.length-30," more"]})]})]}),s.jsx("button",{onClick:()=>ne(null),className:"text-sm text-gray-500 hover:text-gray-700",children:"Dismiss"})]}),o&&s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["File Preview (",o.totalRows," rows)"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:o.headers.map(z=>s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:z},z))})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.preview.map((z,B)=>s.jsx("tr",{children:o.headers.map(O=>s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z[O]},O))},B))})]})})]}),o&&s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Map File Columns to Database Fields"}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-1"}),s.jsx("span",{className:"text-gray-600",children:"Auto-mapped"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-1"}),s.jsx("span",{className:"text-gray-600",children:"Required"})]})]})]}),s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Auto-mapping complete!"}),s.jsxs("p",{children:["Mapped ",Object.keys(x).length," of ",E.length," fields.",E.filter(z=>z.required&&!x[z.key]).length>0&&s.jsxs("span",{className:"text-red-600 font-medium",children:[" ","Please map ",E.filter(z=>z.required&&!x[z.key]).length," required field(s)."]})," ","Review and adjust mappings below before uploading."]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(z=>{const B=!!x[z.key],F=z.required&&!B;return s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"flex items-center text-sm text-gray-700 mb-1",children:[z.label,B&&s.jsx("svg",{className:"ml-2 h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),s.jsxs("select",{value:x[z.key]||"",onChange:K=>T(z.key,K.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 text-sm ${F?"border-red-300 bg-red-50":B?"border-green-300 bg-green-50":"border-gray-300"}`,disabled:a,children:[s.jsx("option",{value:"",children:"-- Select Column --"}),o.headers.map((K,I)=>s.jsx("option",{value:K,children:K},I))]}),F&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Required field not mapped"})]},z.key)})}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:X,disabled:a||E.filter(z=>z.required&&!x[z.key]).length>0,className:`px-6 py-3 rounded-md font-medium ${a||E.filter(z=>z.required&&!x[z.key]).length>0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Uploading...":"Upload Sales Data"})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upload History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"File"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date Range"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Records"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Uploaded"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No uploads yet"})}):u.map(z=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:z.filename}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(z.start_date).toLocaleDateString()," - ",new Date(z.end_date).toLocaleDateString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.location_name||"All/Multiple"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{children:["Added: ",z.records_added]}),s.jsxs("div",{children:["Updated: ",z.records_updated]}),z.records_failed>0&&s.jsxs("div",{className:"text-red-600",children:["Failed: ",z.records_failed]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${z.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:z.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsx("div",{children:new Date(z.created_at).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-gray-400",children:z.uploaded_by_email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>oe(z.id,z.filename),disabled:ue===z.id,className:"text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed",children:ue===z.id?"Deleting...":"Delete"})})]},z.id))})]})})]})]})})},Wj=()=>{var _t;const e=Ha(),[t,a]=m.useState(!1),[l,n]=m.useState(""),[r,i]=m.useState(""),[c,o]=m.useState([]),[d,u]=m.useState([]),[h,x]=m.useState([]),[j,S]=m.useState(""),[N,v]=m.useState(""),[g,f]=m.useState(""),[p,y]=m.useState("6"),[A,U]=m.useState(""),[_,H]=m.useState(""),[G,E]=m.useState([]),[W,D]=m.useState(null),[ue,ie]=m.useState({}),[oe,R]=m.useState({}),[$,T]=m.useState({}),[Q,ne]=m.useState(1),[X,z]=m.useState(15),[B,O]=m.useState(""),[F,K]=m.useState([""]);m.useEffect(()=>{I()},[]);const I=async()=>{try{const[w,M,C]=await Promise.all([V.get("/brands"),V.get("/locations"),V.get("/seasons")]);o(w.data.brands||[]),u(M.data.locations||[]),x(C.data.seasons||[])}catch(w){console.error("Error fetching filters:",w),n("Failed to load filter options")}},ee=async()=>{var w,M;if(!j||!N){n("Please select a brand and location");return}a(!0),n(""),E([]),D(null);try{const C=new URLSearchParams({brandId:j,locationId:N});p==="custom"&&A&&_?(C.append("startDate",A),C.append("endDate",_)):p!=="custom"&&C.append("salesMonths",p);const Y=await V.get(`/sales-data/suggestions?${C}`);E(Y.data.suggestions||[]),D(Y.data.summary||null);const te={},se={};for(const he of Y.data.suggestions||[])for(const ye of he.variants)te[ye.product_id]=ye.suggested_qty,se[ye.product_id]=!0;T(te),R(se);const de={};for(const he of Y.data.suggestions||[])de[he.base_name]=!0;ie(de)}catch(C){console.error("Error fetching suggestions:",C),n(((M=(w=C.response)==null?void 0:w.data)==null?void 0:M.error)||"Failed to fetch suggestions")}finally{a(!1)}},pe=w=>{ie(M=>({...M,[w]:!M[w]}))},Ne=(w,M)=>{const C=M.every(te=>oe[te.product_id]),Y={...oe};for(const te of M)Y[te.product_id]=!C;R(Y)},Ue=w=>{R(M=>({...M,[w]:!M[w]}))},Ye=(w,M)=>{const C=parseInt(M)||0;T(Y=>({...Y,[w]:C}))},nt=(w,M,C)=>{if(!C)return Array(w).fill("");const Y=[],[te,se]=C.split("-").map(Number);for(let de=0;de<w;de++){const he=se+de-1,ye=te+Math.floor(he/12),ge=(he%12+12)%12,Re=new Date(ye,ge+1,0).getDate(),we=Math.min(M,Re),ve=new Date(ye,ge,we);Y.push(ve.toISOString().split("T")[0])}return Y},ot=w=>{const M=Math.max(1,Math.min(6,parseInt(w)||1));if(ne(M),B)K(nt(M,X,B));else{const C=[...F];for(;C.length<M;)C.push("");for(;C.length>M;)C.pop();K(C)}},et=w=>{const M=Math.max(1,Math.min(31,parseInt(w)||1));z(M),B&&K(nt(Q,M,B))},Ct=w=>{O(w),w&&K(nt(Q,X,w))},dt=(w,M)=>{const C=[...F];C[w]=M,K(C)},Ge=()=>Object.values(oe).filter(Boolean).length,ft=()=>{let w=0;for(const M of G)for(const C of M.variants)if(oe[C.product_id]){const Y=$[C.product_id]||0;w+=Y*parseFloat(C.wholesale_cost||0)}return w},Tt=()=>{let w=0;for(const M of G)for(const C of M.variants)oe[C.product_id]&&(w+=$[C.product_id]||0);return w},fa=async()=>{var C,Y;if(!g){n("Please select a season for the order");return}const w=F.filter(te=>te);if(Q>1&&w.length<Q){n(`Please enter all ${Q} ship dates`);return}const M=[];for(const te of G)for(const se of te.variants)oe[se.product_id]&&$[se.product_id]>0&&M.push({product_id:se.product_id,quantity:$[se.product_id],unit_price:parseFloat(se.wholesale_cost||0),targetShips:se._targetShips||null});if(M.length===0){n("No items selected to add to order");return}a(!0),n("");try{const te=[],se=parseInt(Q)||1;console.log(`Creating ${se} orders with ${M.length} items`);const de=M.map((he,ye)=>{const ge=parseInt(he.quantity)||0,Re=Array(se).fill(0),we=he.targetShips||Array.from({length:se},(Xe,pt)=>pt),ve=we.length;if(ve===0)return{product_id:he.product_id,unit_price:he.unit_price,totalQty:ge,splits:Re};const ze=ye%ve;for(let Xe=0;Xe<ge;Xe++){const pt=(ze+Xe)%ve,rt=we[pt];Re[rt]++}return{product_id:he.product_id,unit_price:he.unit_price,totalQty:ge,splits:Re}});console.log("Split plan:",de.map(he=>({id:he.product_id,total:he.totalQty,splits:he.splits,sum:he.splits.reduce((ye,ge)=>ye+ge,0)})));for(let he=0;he<se;he++){const ye=F[he]||null,ge=se>1?` (Ship ${he+1} of ${se})`:"";console.log(`Creating order ${he+1} of ${se} with ship date: ${ye}`);const we=(await V.post("/orders",{season_id:g,brand_id:j,location_id:N,ship_date:ye,notes:`Created from sales suggestions${ge}`})).data.order.id;te.push(we),console.log(`Order ${he+1} created with ID: ${we}`);let ve=0;for(const ze of de){const Xe=ze.splits[he];Xe>0&&(console.log(`  Adding item ${ze.product_id}: ${Xe} of ${ze.totalQty}`),await V.post(`/orders/${we}/items`,{product_id:ze.product_id,quantity:Xe,unit_price:ze.unit_price}),ve++)}console.log(`Order ${he+1} complete: ${ve} items added`)}se===1?(i(`Order created successfully with ${M.length} items!`),setTimeout(()=>{e(`/orders/${te[0]}`)},1500)):(i(`${se} orders created successfully! Quantities split evenly across ship dates.`),setTimeout(()=>{e(`/seasons/${g}`)},2e3))}catch(te){console.error("Error creating order:",te),n(((Y=(C=te.response)==null?void 0:C.data)==null?void 0:Y.error)||"Failed to create order")}finally{a(!1)}},Qe=w=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(w||0);return s.jsx(We,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Suggestions"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Generate order suggestions based on prior sales data"})]}),l&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),r&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:r}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Criteria"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand *"}),s.jsxs("select",{value:j,onChange:w=>S(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Brand"}),c.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),s.jsxs("select",{value:N,onChange:w=>v(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Location"}),d.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Season (for new order)"}),s.jsxs("select",{value:g,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Season"}),h.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Period"}),s.jsxs("select",{value:p,onChange:w=>y(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"3",children:"Last 3 months"}),s.jsx("option",{value:"6",children:"Last 6 months"}),s.jsx("option",{value:"9",children:"Last 9 months"}),s.jsx("option",{value:"12",children:"Last 12 months"}),s.jsx("option",{value:"18",children:"Last 18 months"}),s.jsx("option",{value:"24",children:"Last 24 months"}),s.jsx("option",{value:"custom",children:"Custom Date Range"})]})]}),p==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:A,onChange:w=>U(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:_,onChange:w=>H(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:ee,disabled:t||!j||!N,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:t?"Loading...":"Get Suggestions"})})]})]}),G.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shipment Configuration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Shipments"}),s.jsx("select",{value:Q,onChange:w=>ot(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",children:[1,2,3,4,5,6].map(w=>s.jsx("option",{value:w,children:w},w))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ship Day (of month)"}),s.jsx("select",{value:X,onChange:w=>et(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",children:Array.from({length:31},(w,M)=>M+1).map(w=>s.jsx("option",{value:w,children:w},w))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Ship Month"}),s.jsx("input",{type:"month",value:B,onChange:w=>Ct(w.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{className:"flex items-end",children:B&&s.jsxs("div",{className:"w-full p-2 bg-green-50 border border-green-200 rounded-md text-sm text-green-700",children:["Ships on the ",X,X===1?"st":X===2?"nd":X===3?"rd":"th"," of each month"]})})]}),Q>1&&s.jsxs("div",{className:"text-sm text-gray-500",children:["Quantities will be split evenly across ",Q," shipments"]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Ship Dates ",Q>1&&"(can be manually adjusted)"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map((w,M)=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Ship ",M+1," ",Q>1&&"*"]}),s.jsx("input",{type:"date",value:w,onChange:C=>dt(M,C.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500"})]},M))})]}),Q>1&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded-md text-sm text-blue-800",children:[s.jsx("strong",{children:"Example split:"})," If you order 10 units with ",Q," ships, each ship will receive ",Math.floor(10/Q)," units",10%Q>0&&` (with ${10%Q} extra unit(s) in earlier ships)`,"."]})]})]}),W&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Summary"}),s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-800",children:[s.jsx("strong",{children:"Based on:"})," Last ",W.sales_months," months of sales (",W.sales_period_start," to ",W.sales_period_end,")",s.jsx("br",{}),s.jsx("span",{className:"text-blue-600",children:"Suggested quantities = units sold during this period"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-blue-600",children:"Product Families"}),s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:W.total_families})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Total Variants"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:W.total_variants})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-purple-600",children:"Suggested Qty"}),s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:(_t=W.total_suggested_qty)==null?void 0:_t.toLocaleString()})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-orange-600",children:"Suggested Cost"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Qe(W.total_suggested_cost)})]})]})]}),G.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow p-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Selected:"}),s.jsxs("span",{className:"ml-2 font-bold",children:[Ge()," items"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Qty:"}),s.jsx("span",{className:"ml-2 font-bold",children:Tt()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total:"}),s.jsx("span",{className:"ml-2 font-bold text-green-600",children:Qe(ft())})]})]}),s.jsx("button",{onClick:fa,disabled:t||Ge()===0||!g,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium",children:t?"Creating Order...":"Create Order with Selected Items"})]})}),G.length>0&&s.jsx("div",{className:"space-y-4",children:G.map(w=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b cursor-pointer hover:bg-gray-100 flex items-center justify-between",onClick:()=>pe(w.base_name),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-lg font-medium",children:w.base_name}),s.jsxs("span",{className:"text-sm text-gray-500",children:[w.category," ",w.gender&&` ${w.gender}`]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[w.variants.length," variant",w.variants.length!==1?"s":""]}),s.jsxs("span",{className:"font-medium text-blue-600",children:[w.total_prior_sales," sold"]}),s.jsx("span",{className:"font-medium text-green-600",children:Qe(w.total_suggested_cost)}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform ${ue[w.base_name]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),ue[w.base_name]&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:s.jsx("input",{type:"checkbox",checked:w.variants.every(M=>oe[M.product_id]),onChange:()=>Ne(w.base_name,w.variants),className:"rounded border-gray-300"})}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Color"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Size"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Sold"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Order Qty"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Line Total"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:w.variants.map(M=>s.jsxs("tr",{className:oe[M.product_id]?"bg-blue-50":"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"checkbox",checked:oe[M.product_id]||!1,onChange:()=>Ue(M.product_id),className:"rounded border-gray-300"})}),s.jsx("td",{className:"px-4 py-2 text-sm",children:M.color||"-"}),s.jsx("td",{className:"px-4 py-2 text-sm",children:M.size||"-"}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:M.sku||"-"}),s.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium",children:M.prior_sales}),s.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Qe(M.wholesale_cost)}),s.jsx("td",{className:"px-4 py-2 text-center",children:s.jsx("input",{type:"number",min:"0",value:$[M.product_id]||0,onChange:C=>Ye(M.product_id,C.target.value),className:"w-20 px-2 py-1 border rounded text-center"})}),s.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium text-green-600",children:Qe(($[M.product_id]||0)*parseFloat(M.wholesale_cost||0))})]},M.product_id))})]})})]},w.base_name))}),!t&&G.length===0&&j&&N&&s.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-lg font-medium",children:"No suggestions found"}),s.jsxs("p",{className:"mt-1",children:["There is no sales data for this brand and location combination.",s.jsx("br",{}),"Upload sales data first to generate suggestions."]})]})})]})})},Ij=()=>{const[e,t]=m.useState([]),[a,l]=m.useState([]),[n,r]=m.useState(""),[i,c]=m.useState(""),[o,d]=m.useState(""),[u,h]=m.useState(null),[x,j]=m.useState(!1),[S,N]=m.useState(""),[v,g]=m.useState("all");m.useEffect(()=>{(async()=>{try{const[W,D]=await Promise.all([td.getSeasonsWithPrices(),Wa.getAll()]);t(W.data.seasons||[]),l(D.data.brands||[])}catch(W){console.error("Error fetching data:",W),N("Failed to load seasons and brands")}})()},[]);const f=async()=>{var E,W;if(!n||!i){N("Please select both seasons to compare");return}if(n===i){N("Please select two different seasons");return}j(!0),N("");try{const D=await td.compare(n,i,o||null);h(D.data)}catch(D){console.error("Comparison error:",D),N(((W=(E=D.response)==null?void 0:E.data)==null?void 0:W.error)||"Failed to compare seasons")}finally{j(!1)}},p=()=>{if(!(u!=null&&u.products))return[];switch(v){case"carryover":return u.products.filter(E=>E.product_status==="carryover");case"new":return u.products.filter(E=>E.product_status==="new");case"discontinued":return u.products.filter(E=>E.product_status==="discontinued");case"increased":return u.products.filter(E=>E.wholesale_diff>0);case"decreased":return u.products.filter(E=>E.wholesale_diff<0);case"unchanged":return u.products.filter(E=>E.wholesale_diff===0&&E.product_status==="carryover");default:return u.products}},y=E=>E==null?"-":`$${parseFloat(E).toFixed(2)}`,A=(E,W)=>{if(E==null)return"-";const D=E>0?"+":"",ue=W!==null?` (${D}${W}%)`:"";return`${D}${y(E)}${ue}`},U=E=>E==null||E===0?"":E>0?"text-red-600":"text-green-600",_=E=>{switch(E){case"carryover":return s.jsx("span",{className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800",children:"Carryover"});case"new":return s.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-800",children:"New"});case"discontinued":return s.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-100 text-gray-800",children:"Discontinued"});default:return null}},H=p(),G=()=>{if(!(u!=null&&u.products))return;const E=["UPC","SKU","Product Name","Brand","Category","Status",`${u.seasons.season1} Wholesale`,`${u.seasons.season1} MSRP`,`${u.seasons.season2} Wholesale`,`${u.seasons.season2} MSRP`,"Wholesale Change","Wholesale % Change"],W=H.map(R=>[R.upc,R.sku||"",R.name,R.brand_name,R.category||"",R.product_status,R.season1_wholesale||"",R.season1_msrp||"",R.season2_wholesale||"",R.season2_msrp||"",R.wholesale_diff||"",R.wholesale_pct_change||""]),D=[E,...W].map(R=>R.map($=>`"${$}"`).join(",")).join(`
`),ue=new Blob([D],{type:"text/csv"}),ie=window.URL.createObjectURL(ue),oe=document.createElement("a");oe.href=ie,oe.download=`price-comparison-${u.seasons.season1}-vs-${u.seasons.season2}.csv`,oe.click(),window.URL.revokeObjectURL(ie)};return s.jsx(We,{children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Season Price Comparison"}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Season"}),s.jsxs("select",{value:n,onChange:E=>r(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[s.jsx("option",{value:"",children:"Select season..."}),e.map(E=>s.jsxs("option",{value:E.id,children:[E.name," (",E.product_count," products)"]},E.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Second Season"}),s.jsxs("select",{value:i,onChange:E=>c(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[s.jsx("option",{value:"",children:"Select season..."}),e.map(E=>s.jsxs("option",{value:E.id,children:[E.name," (",E.product_count," products)"]},E.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand (optional)"}),s.jsxs("select",{value:o,onChange:E=>d(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[s.jsx("option",{value:"",children:"All brands"}),a.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:f,disabled:x||!n||!i,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:x?"Comparing...":"Compare Seasons"})})]}),S&&s.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:S})]}),u&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:[s.jsxs("div",{className:`bg-white rounded-lg shadow p-4 cursor-pointer ${v==="all"?"ring-2 ring-blue-500":""}`,onClick:()=>g("all"),children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.summary.total_products}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Products"})]}),s.jsxs("div",{className:`bg-white rounded-lg shadow p-4 cursor-pointer ${v==="carryover"?"ring-2 ring-blue-500":""}`,onClick:()=>g("carryover"),children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.summary.carryover}),s.jsx("div",{className:"text-sm text-gray-500",children:"Carryover"})]}),s.jsxs("div",{className:`bg-white rounded-lg shadow p-4 cursor-pointer ${v==="new"?"ring-2 ring-blue-500":""}`,onClick:()=>g("new"),children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.summary.new_products}),s.jsx("div",{className:"text-sm text-gray-500",children:"New"})]}),s.jsxs("div",{className:`bg-white rounded-lg shadow p-4 cursor-pointer ${v==="discontinued"?"ring-2 ring-blue-500":""}`,onClick:()=>g("discontinued"),children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:u.summary.discontinued}),s.jsx("div",{className:"text-sm text-gray-500",children:"Discontinued"})]}),s.jsxs("div",{className:`bg-white rounded-lg shadow p-4 cursor-pointer ${v==="increased"?"ring-2 ring-blue-500":""}`,onClick:()=>g("increased"),children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.summary.price_increases}),s.jsx("div",{className:"text-sm text-gray-500",children:"Price Increases"})]}),s.jsxs("div",{className:`bg-white rounded-lg shadow p-4 cursor-pointer ${v==="decreased"?"ring-2 ring-blue-500":""}`,onClick:()=>g("decreased"),children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.summary.price_decreases}),s.jsx("div",{className:"text-sm text-gray-500",children:"Price Decreases"})]})]}),u&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[u.seasons.season1," vs ",u.seasons.season2,s.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",H.length," products)"]})]}),s.jsx("button",{onClick:G,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Export CSV"})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"UPC"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsxs("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:[u.seasons.season1," Wholesale"]}),s.jsxs("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:[u.seasons.season2," Wholesale"]}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Change"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),s.jsx("div",{className:"text-sm text-gray-500",children:E.brand_name})]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:E.upc}),s.jsx("td",{className:"px-4 py-3",children:_(E.product_status)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:y(E.season1_wholesale)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:y(E.season2_wholesale)}),s.jsx("td",{className:`px-4 py-3 text-sm text-right font-medium ${U(E.wholesale_diff)}`,children:A(E.wholesale_diff,E.wholesale_pct_change)})]},E.product_id))})]}),H.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products match the selected filter"})]})]}),!u&&!x&&s.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"Select two seasons above to compare their prices"})]})})},eN=()=>{const[e,t]=m.useState(""),[a,l]=m.useState([]),[n,r]=m.useState(null),[i,c]=m.useState(null),[o,d]=m.useState(!1),[u,h]=m.useState(!1),[x,j]=m.useState(""),S=m.useCallback(async y=>{if(!y||y.trim().length<2){l([]);return}h(!0);try{const A=await W0.search({q:y.trim(),limit:10});l(A.data.products||[])}catch(A){console.error("Search error:",A),l([])}finally{h(!1)}},[]);m.useEffect(()=>{const y=setTimeout(()=>{S(e)},300);return()=>clearTimeout(y)},[e,S]);const N=async y=>{var A,U;r(y),l([]),t(""),d(!0),j("");try{const _=await td.getProductHistory(y.id);c(_.data)}catch(_){console.error("Error loading price history:",_),j(((U=(A=_.response)==null?void 0:A.data)==null?void 0:U.error)||"Failed to load price history"),c(null)}finally{d(!1)}},v=y=>y==null?"-":`$${parseFloat(y).toFixed(2)}`,g=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",f=y=>{switch(y){case"catalog_upload":return"Catalog Upload";case"manual_edit":return"Manual Edit";case"migration_from_products":return"Initial Migration";default:return y||"Unknown"}},p=(y,A)=>y==null||A==null?null:parseFloat(A)-parseFloat(y);return s.jsx(We,{children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Price History"}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for a product by name, UPC, or SKU"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),placeholder:"Enter product name, UPC, or SKU...",className:"w-full border border-gray-300 rounded-md px-4 py-2"}),a.length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:a.map(y=>s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>N(y),children:[s.jsx("div",{className:"font-medium text-gray-900",children:y.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["UPC: ",y.upc," | ",y.brand_name,y.wholesale_cost&&` | ${v(y.wholesale_cost)}`]})]},y.id))}),u&&s.jsx("div",{className:"absolute right-3 top-3",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]}),n&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-md",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:n.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["UPC: ",n.upc," | SKU: ",n.sku||"-"," | ",n.brand_name]})]}),s.jsx("button",{onClick:()=>{r(null),c(null)},className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),x&&s.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:x}),o&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Loading price history..."})]}),i&&i.season_prices&&i.season_prices.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Prices by Season"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Season"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Wholesale"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"MSRP"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Updated"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.season_prices.map((y,A)=>{const U=i.season_prices[A+1],_=U?p(U.wholesale_cost,y.wholesale_cost):null;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:y.season_name}),y.start_date&&s.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(y.start_date).toLocaleDateString()," - ",new Date(y.end_date).toLocaleDateString()]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded ${y.season_status==="ordering"?"bg-green-100 text-green-800":y.season_status==="closed"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:y.season_status})}),s.jsxs("td",{className:"px-6 py-4 text-right",children:[s.jsx("div",{className:"font-medium text-gray-900",children:v(y.wholesale_cost)}),_!==null&&_!==0&&s.jsxs("div",{className:`text-sm ${_>0?"text-red-600":"text-green-600"}`,children:[_>0?"+":"",v(_)]})]}),s.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:v(y.msrp)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g(y.updated_at)})]},y.id)})})]})})]}),i&&i.history&&i.history.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Change History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Season"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Old Wholesale"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"New Wholesale"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Change"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.history.map(y=>{const A=p(y.old_wholesale_cost,y.new_wholesale_cost);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:g(y.changed_at)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:y.season_name||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:f(y.change_reason)}),s.jsx("td",{className:"px-6 py-4 text-sm text-right text-gray-500",children:v(y.old_wholesale_cost)}),s.jsx("td",{className:"px-6 py-4 text-sm text-right font-medium text-gray-900",children:v(y.new_wholesale_cost)}),s.jsx("td",{className:`px-6 py-4 text-sm text-right font-medium ${A===null?"text-gray-400":A>0?"text-red-600":A<0?"text-green-600":"text-gray-500"}`,children:A!==null?s.jsxs(s.Fragment,{children:[A>0?"+":"",v(A)]}):"Initial"})]},y.id)})})]})})]}),i&&(!i.history||i.history.length===0)&&(!i.season_prices||i.season_prices.length===0)&&s.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No price history found for this product"}),!n&&!o&&s.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"Search for a product above to view its price history across seasons"})]})})},tN=()=>{var ue,ie,oe,R,$;const[e,t]=m.useState(null),[a,l]=m.useState([]),[n,r]=m.useState([]),[i,c]=m.useState([]),[o,d]=m.useState(!0),[u,h]=m.useState(!1),[x,j]=m.useState(null),[S,N]=m.useState(null),[v,g]=m.useState(null),[f,p]=m.useState(!1),[y,A]=m.useState("");m.useEffect(()=>{U()},[]),m.useEffect(()=>{let T;return x&&x.status==="running"&&(T=setInterval(H,5e3)),()=>clearInterval(T)},[x]);const U=async()=>{var T,Q;try{d(!0);const[ne,X,z,B]=await Promise.all([yl.getSummary(),yl.getBrandMapping(),Wa.getAll(),yl.getByBrand(12)]);t(ne.data),l(X.data.mappings||[]),r(z.data||[]),c(B.data.sales||[])}catch(ne){N(((Q=(T=ne.response)==null?void 0:T.data)==null?void 0:Q.error)||"Failed to load data")}finally{d(!1)}},_=async()=>{var T,Q;try{h(!0),N(null);const ne=await yl.sync(12);j({id:ne.data.syncId,status:"running"})}catch(ne){N(((Q=(T=ne.response)==null?void 0:T.data)==null?void 0:Q.error)||"Failed to start sync"),h(!1)}},H=async()=>{if(x!=null&&x.id)try{const T=await yl.getSyncStatus(x.id);j(T.data),T.data.status!=="running"&&(h(!1),T.data.status==="completed"&&U())}catch(T){console.error("Error checking sync status:",T)}},G=async(T,Q)=>{var ne,X;try{await yl.updateBrandMapping(T,{brand_id:Q,is_verified:!0}),g(null),U()}catch(z){N(((X=(ne=z.response)==null?void 0:ne.data)==null?void 0:X.error)||"Failed to update mapping")}},E=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(T||0),W=T=>new Intl.NumberFormat("en-US").format(T||0),D=a.filter(T=>{var Q;return!(f&&T.brand_id||y&&!((Q=T.rgp_vendor_name)!=null&&Q.toLowerCase().includes(y.toLowerCase())))});return o?s.jsx(We,{children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Loading sales data..."})})}):s.jsx(We,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Data Sync"}),s.jsx("button",{onClick:_,disabled:u,className:`px-4 py-2 rounded-md text-white font-medium ${u?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:u?"Syncing...":"Sync from BigQuery"})]}),S&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:S}),x&&s.jsxs("div",{className:`px-4 py-3 rounded ${x.status==="running"?"bg-blue-50 border border-blue-200 text-blue-700":x.status==="completed"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[s.jsxs("div",{className:"font-medium",children:["Sync Status: ",x.status]}),x.records_synced>0&&s.jsxs("div",{className:"text-sm",children:["Records synced: ",W(x.records_synced)]}),x.error_message&&s.jsxs("div",{className:"text-sm",children:["Error: ",x.error_message]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Last Sync"}),s.jsx("div",{className:"text-lg font-semibold",children:(ue=e==null?void 0:e.lastSync)!=null&&ue.completed_at?new Date(e.lastSync.completed_at).toLocaleDateString():"Never"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Brands"}),s.jsx("div",{className:"text-lg font-semibold",children:W((ie=e==null?void 0:e.totals)==null?void 0:ie.brand_count)})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"12-Month Revenue"}),s.jsx("div",{className:"text-lg font-semibold",children:E((oe=e==null?void 0:e.totals)==null?void 0:oe.total_revenue)})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Units Sold"}),s.jsx("div",{className:"text-lg font-semibold",children:W((R=e==null?void 0:e.totals)==null?void 0:R.total_qty_sold)})]})]}),(($=e==null?void 0:e.topBrands)==null?void 0:$.length)>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Top 10 Brands by Revenue"}),s.jsx("div",{className:"space-y-2",children:e.topBrands.map((T,Q)=>s.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[s.jsx("span",{className:"text-gray-700",children:T.rgp_vendor_name||"Unknown"}),s.jsx("span",{className:"font-medium",children:E(T.revenue)})]},Q))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Brand Mapping"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Map RGP vendor names to pricelist brands"}),s.jsxs("div",{className:"mt-3 flex gap-4",children:[s.jsx("input",{type:"text",placeholder:"Search vendors...",value:y,onChange:T=>A(T.target.value),className:"flex-1 px-3 py-2 border rounded-md"}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:T=>p(T.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Show unmapped only"})]})]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"RGP Vendor"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"12-Month Revenue"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Mapped Brand"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(T=>s.jsxs("tr",{className:T.brand_id?"":"bg-yellow-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:T.rgp_vendor_name}),s.jsx("td",{className:"px-4 py-3 text-sm",children:E(T.total_revenue)}),s.jsx("td",{className:"px-4 py-3 text-sm",children:v===T.id?s.jsxs("select",{className:"w-full px-2 py-1 border rounded",defaultValue:T.brand_id||"",onChange:Q=>G(T.id,Q.target.value||null),children:[s.jsx("option",{value:"",children:"-- Not Mapped --"}),n.map(Q=>s.jsx("option",{value:Q.id,children:Q.name},Q.id))]}):s.jsx("span",{className:T.brand_name?"text-green-600":"text-gray-400",children:T.brand_name||"Not mapped"})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:v===T.id?s.jsx("button",{onClick:()=>g(null),className:"text-gray-600 hover:text-gray-900",children:"Cancel"}):s.jsx("button",{onClick:()=>g(T.id),className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},T.id))})]})})]})]})})},aN=()=>{var ne;const[e,t]=m.useState([]),[a,l]=m.useState(null),[n,r]=m.useState(null),[i,c]=m.useState([]),[o,d]=m.useState(!0),[u,h]=m.useState(!1),[x,j]=m.useState(null),[S,N]=m.useState(null),[v,g]=m.useState(""),[f,p]=m.useState(""),[y,A]=m.useState([]),[U,_]=m.useState(null);m.useEffect(()=>{H()},[]),m.useEffect(()=>{a&&G(a)},[a]);const H=async()=>{var X,z,B,O;try{d(!0);const[F,K,I]=await Promise.all([V.get("/seasons"),Wa.getAll(),Nl.getStatus()]);t(F.data||[]),c(K.data||[]);const ee=((X=F.data)==null?void 0:X.find(pe=>pe.status==="active"))||((z=F.data)==null?void 0:z[0]);ee&&l(ee.id)}catch(F){j(((O=(B=F.response)==null?void 0:B.data)==null?void 0:O.error)||"Failed to load data")}finally{d(!1)}},G=async X=>{var z,B;try{const O=await Nl.getSeasonBudget(X);r(O.data),g(((z=O.data.budget)==null?void 0:z.total_budget)||""),p(((B=O.data.budget)==null?void 0:B.notes)||""),A(O.data.allocations||[])}catch(O){console.error("Error loading budget:",O)}},E=async()=>{var X,z;if(!(!a||!v))try{h(!0),j(null),await Nl.setSeasonBudget(a,{total_budget:parseFloat(v),notes:f}),N("Budget saved successfully"),G(a),setTimeout(()=>N(null),3e3)}catch(B){j(((z=(X=B.response)==null?void 0:X.data)==null?void 0:z.error)||"Failed to save budget")}finally{h(!1)}},W=async()=>{var X,z;if(!(!a||!v))try{const B=await Nl.getSuggestions(a,parseFloat(v));_(B.data)}catch(B){j(((z=(X=B.response)==null?void 0:X.data)==null?void 0:z.error)||"Failed to get suggestions")}},D=()=>{if(!(U!=null&&U.suggestions))return;const X=U.suggestions.map(z=>({brand_id:z.brand_id,brand_name:z.brand_name,allocated_amount:z.suggested_allocation,last_year_revenue:z.last_year_revenue,last_year_pct:z.last_year_pct}));A(X),_(null)},ue=async()=>{var X,z;if(!(!a||y.length===0))try{h(!0),j(null),await Nl.setAllocations(a,y),N("Allocations saved successfully"),G(a),setTimeout(()=>N(null),3e3)}catch(B){j(((z=(X=B.response)==null?void 0:X.data)==null?void 0:z.error)||"Failed to save allocations")}finally{h(!1)}},ie=(X,z,B)=>{const O=[...y];O[X]={...O[X],[z]:B},A(O)},oe=()=>{A([...y,{brand_id:"",allocated_amount:0,notes:""}])},R=X=>{A(y.filter((z,B)=>B!==X))},$=X=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(X||0),T=y.reduce((X,z)=>X+(parseFloat(z.allocated_amount)||0),0),Q=(parseFloat(v)||0)-T;return o?s.jsx(We,{children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Loading budget data..."})})}):s.jsx(We,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Season Budget Management"}),s.jsxs("select",{value:a||"",onChange:X=>l(X.target.value),className:"px-4 py-2 border rounded-md",children:[s.jsx("option",{value:"",children:"Select Season"}),e.map(X=>s.jsx("option",{value:X.id,children:X.name},X.id))]})]}),x&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),S&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:S}),a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Budget"}),s.jsx("div",{className:"text-xl font-semibold text-blue-600",children:$(v)})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Allocated"}),s.jsx("div",{className:"text-xl font-semibold text-purple-600",children:$(T)})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Unallocated"}),s.jsx("div",{className:`text-xl font-semibold ${Q<0?"text-red-600":"text-green-600"}`,children:$(Q)})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Committed"}),s.jsx("div",{className:"text-xl font-semibold text-orange-600",children:$(n==null?void 0:n.totalCommitted)})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Budget Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Budget ($)"}),s.jsx("input",{type:"number",value:v,onChange:X=>g(X.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter total budget"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("input",{type:"text",value:f,onChange:X=>p(X.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Optional notes"})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:E,disabled:u||!v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",children:"Save Budget"}),s.jsx("button",{onClick:W,disabled:!v,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400",children:"Get AI Suggestions"})]})]}),U&&s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-semibold text-purple-900",children:"Suggested Allocations (Based on Last 12 Months Sales)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:D,className:"px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm",children:"Apply All"}),s.jsx("button",{onClick:()=>_(null),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm",children:"Dismiss"})]})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-purple-700",children:[s.jsx("th",{className:"py-2",children:"Brand"}),s.jsx("th",{className:"py-2",children:"Last Year Revenue"}),s.jsx("th",{className:"py-2",children:"% of Total"}),s.jsx("th",{className:"py-2",children:"Suggested Allocation"})]})}),s.jsx("tbody",{children:(ne=U.suggestions)==null?void 0:ne.slice(0,20).map((X,z)=>{var B;return s.jsxs("tr",{className:"border-t border-purple-200",children:[s.jsx("td",{className:"py-2",children:X.brand_name||X.rgp_vendor_name}),s.jsx("td",{className:"py-2",children:$(X.last_year_revenue)}),s.jsxs("td",{className:"py-2",children:[(B=X.last_year_pct)==null?void 0:B.toFixed(1),"%"]}),s.jsx("td",{className:"py-2 font-medium",children:$(X.suggested_allocation)})]},z)})})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Brand Allocations"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Set budget allocations by brand"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:oe,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:"+ Add Brand"}),s.jsx("button",{onClick:ue,disabled:u||y.length===0,className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm",children:"Save Allocations"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Brand"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Allocated"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Year Revenue"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Committed"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remaining"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[y.map((X,z)=>{var F,K;const B=((K=(F=n==null?void 0:n.committedByBrand)==null?void 0:F.find(I=>I.brand_id===X.brand_id))==null?void 0:K.committed_amount)||0,O=(parseFloat(X.allocated_amount)||0)-parseFloat(B);return s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("select",{value:X.brand_id||"",onChange:I=>{const ee=i.find(pe=>pe.id===parseInt(I.target.value));ie(z,"brand_id",I.target.value),ee&&ie(z,"brand_name",ee.name)},className:"w-full px-2 py-1 border rounded",children:[s.jsx("option",{value:"",children:"Select Brand"}),i.map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"number",value:X.allocated_amount||"",onChange:I=>ie(z,"allocated_amount",I.target.value),className:"w-32 px-2 py-1 border rounded",placeholder:"0"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:$(X.last_year_revenue)}),s.jsx("td",{className:"px-4 py-3 text-sm",children:$(B)}),s.jsx("td",{className:`px-4 py-3 text-sm font-medium ${O<0?"text-red-600":"text-green-600"}`,children:$(O)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>R(z),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},z)}),y.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:'No allocations set. Click "Add Brand" or use "Get AI Suggestions" to start.'})})]})]})})]})]})]})})},sN=()=>{var xl;const[e,t]=tc(),[a,l]=m.useState([]),[n,r]=m.useState([]),[i,c]=m.useState([]),[o,d]=m.useState([]),u=e.get("season")||"",h=e.get("brand")||"",x=e.get("location")||"",j=e.get("shipDate")||"",[S,N]=m.useState([]),[v,g]=m.useState(null),[f,p]=m.useState(!1),[y,A]=m.useState(""),[U,_]=m.useState(null),[H,G]=m.useState(""),[E,W]=m.useState(!1),[D,ue]=m.useState({}),[ie,oe]=m.useState(new Set),[R,$]=m.useState(null),[T,Q]=m.useState({highMonths:6,maxOrderReduction:20,lowMonths:2,targetCoverage:3,loading:!1}),[ne,X]=m.useState({coverageMonths:6,velocityData:null,loading:!1}),[z,B]=m.useState({brandAllocation:null,targetBudget:"",loading:!1}),[O,F]=m.useState({type:"increase_pct",value:10}),[K,I]=m.useState({min:0,max:""}),[ee,pe]=m.useState([]),[Ne,Ue]=m.useState(!1),[Ye,nt]=m.useState(new Set),[ot,et]=m.useState({}),[Ct,dt]=m.useState(null),[Ge,ft]=m.useState({category:"",gender:"",hasSalesHistory:!1,includeWithStock:!1}),[Tt,fa]=m.useState({categories:[],genders:[]}),[Qe,_t]=m.useState(null),[w,M]=m.useState(!1);m.useEffect(()=>{(async()=>{var k;try{const[J,ae,fe]=await Promise.all([V.get("/seasons"),V.get("/brands"),V.get("/locations")]);l(J.data.seasons||[]),r(ae.data.brands||[]),c(fe.data.locations||[]),!u&&((k=J.data.seasons)==null?void 0:k.length)>0&&t({season:J.data.seasons[0].id.toString()})}catch(J){console.error("Error fetching filters:",J),A("Failed to load filter options")}})()},[]),m.useEffect(()=>{u?Y():d([])},[u,h,x]),m.useEffect(()=>{u&&h?C():B(b=>({...b,brandAllocation:null,targetBudget:""}))},[u,h]);const C=async()=>{try{const J=((await Nl.getSeasonBudget(u)).data.allocations||[]).find(ae=>ae.brand_id===parseInt(h));J&&B(ae=>{var fe;return{...ae,brandAllocation:J.allocated_amount,targetBudget:((fe=J.allocated_amount)==null?void 0:fe.toString())||""}})}catch(b){console.error("Error fetching brand allocation:",b)}},Y=async()=>{try{const b={seasonId:u};h&&(b.brandId=h),x&&(b.locationId=x);const k=await Et.getShipDates(b);d(k.data.shipDates||[])}catch(b){console.error("Error fetching ship dates:",b)}};m.useEffect(()=>{u&&x?te():(N([]),g(null),_t(null)),ue({}),oe(new Set),X(b=>({...b,velocityData:null}))},[u,h,x,j]);const te=async()=>{var b,k;p(!0),A("");try{const J={seasonId:u};h&&(J.brandId=h),x&&(J.locationId=x),j&&(J.shipDate=j);const ae=await Et.getInventory(J),fe=ae.data.inventory||[];N(fe),g(ae.data.summary||null);const Ee=[...new Set(fe.map(st=>st.order_id))];if(Ee.length===1&&Ee[0]){const st=await Et.getById(Ee[0]);_t(st.data.order)}else _t(null)}catch(J){console.error("Error fetching inventory:",J),A(((k=(b=J.response)==null?void 0:b.data)==null?void 0:k.error)||"Failed to load inventory"),N([]),g(null),_t(null)}finally{p(!1)}},se=(b,k)=>{const J=new URLSearchParams(e);k?J.set(b,k):J.delete(b),t(J)},de=b=>{_(b.item_id),G(b.adjusted_quantity!==null?b.adjusted_quantity.toString():b.original_quantity.toString())},he=()=>{_(null),G("")},ye=async b=>{const k=H.trim()===""?null:parseInt(H,10),J=k===b.original_quantity?null:k;W(!0);try{await Et.adjustItem(b.order_id,b.item_id,J),ge(b.item_id,J),_(null),G("")}catch(ae){console.error("Error saving adjustment:",ae),A("Failed to save adjustment")}finally{W(!1)}},ge=(b,k)=>{N(J=>J.map(ae=>ae.item_id===b?{...ae,adjusted_quantity:k}:ae)),Re()},Re=()=>{N(b=>{const k={totalItems:b.length,totalOriginalUnits:b.reduce((J,ae)=>J+parseInt(ae.original_quantity||0),0),totalAdjustedUnits:b.reduce((J,ae)=>{const fe=ae.adjusted_quantity!==null?ae.adjusted_quantity:ae.original_quantity;return J+parseInt(fe||0)},0),totalOriginalWholesale:b.reduce((J,ae)=>J+parseFloat(ae.unit_cost||0)*parseInt(ae.original_quantity||0),0),totalWholesale:b.reduce((J,ae)=>{const fe=ae.adjusted_quantity!==null?ae.adjusted_quantity:ae.original_quantity;return J+parseFloat(ae.unit_cost||0)*parseInt(fe||0)},0)};return g(k),b})},we=async(b,k)=>{if(b.key==="Enter"){b.preventDefault(),await ye(k);const J=S.findIndex(ae=>ae.item_id===k.item_id);if(J>=0&&J<S.length-1){const ae=S[J+1];_(ae.item_id),G(ae.adjusted_quantity!==null?ae.adjusted_quantity.toString():ae.original_quantity.toString())}else _(null)}else b.key==="Escape"&&he()},ve=b=>!b&&b!==0?"-":`$${parseFloat(b).toFixed(2)}`,ze=b=>b.adjusted_quantity!==null?b.adjusted_quantity:b.original_quantity,Xe=b=>b.adjusted_quantity!==null&&b.adjusted_quantity!==b.original_quantity,pt=b=>{const k=D[b.item_id];if(k===void 0)return null;const J=b.original_quantity,ae=k-J;return ae>0?{value:k,diff:`+${ae}`,type:"increase"}:ae<0?{value:k,diff:`${ae}`,type:"decrease"}:{value:k,diff:"=",type:"same"}},rt=()=>{ie.size===S.length?oe(new Set):oe(new Set(S.map(b=>b.item_id)))},Vt=b=>{const k=new Set(ie);k.has(b)?k.delete(b):k.add(b),oe(k)},ut=async b=>{const k=D[b.item_id];if(k===void 0)return;const J=k===b.original_quantity?null:k;W(!0);try{await Et.adjustItem(b.order_id,b.item_id,J),ge(b.item_id,J),ue(ae=>{const fe={...ae};return delete fe[b.item_id],fe})}catch(ae){console.error("Error accepting suggestion:",ae),A("Failed to save adjustment")}finally{W(!1)}},ea=async()=>{const b=Object.entries(D).filter(([k,J])=>{const ae=S.find(fe=>fe.item_id===parseInt(k));return ae&&J!==ze(ae)});if(b.length!==0){W(!0);try{const k=b.map(([J,ae])=>{const fe=S.find(Ee=>Ee.item_id===parseInt(J));return{orderId:fe.order_id,itemId:parseInt(J),adjusted_quantity:ae===fe.original_quantity?null:ae}});if(Et.batchAdjust)await Et.batchAdjust(k);else for(const J of k)await Et.adjustItem(J.orderId,J.itemId,J.adjusted_quantity);N(J=>J.map(ae=>{const fe=D[ae.item_id];return fe!==void 0?{...ae,adjusted_quantity:fe===ae.original_quantity?null:fe}:ae})),ue({}),Re()}catch(k){console.error("Error saving suggestions:",k),A("Failed to save some adjustments")}finally{W(!1)}}},P=()=>{ue({})},me=async()=>{if(!h||!u){A("Select a brand to apply stock rules");return}Q(b=>({...b,loading:!0}));try{let b=ne.velocityData;b||(b=(await Et.getVelocity({seasonId:u,brandId:h,locationId:x||void 0,months:12})).data.velocity||{},X(Yt=>({...Yt,velocityData:b})));const k=S.reduce((tt,Yt)=>{const sa=Yt.original_quantity||0;return tt+parseFloat(Yt.unit_cost||0)*sa},0),J=k*(T.maxOrderReduction/100);console.log("Stock Rules - Using ORIGINAL order total:",{originalTotal:k,maxOrderReduction:T.maxOrderReduction,maxReductionValue:J,highMonths:T.highMonths,lowMonths:T.lowMonths});const ae=[],fe=[];S.forEach(tt=>{const Yt=tt.stock_on_hand;if(Yt==null||!tt.upc)return;const sa=b[tt.upc],_a=(sa==null?void 0:sa.avg_monthly_sales)||0;if(_a<=0)return;const Fa=Yt/_a;Fa>=T.highMonths?ae.push({item:tt,monthsOfCoverage:Fa,avgMonthlySales:_a}):Fa<=T.lowMonths&&fe.push({item:tt,monthsOfCoverage:Fa,avgMonthlySales:_a})});const Ee={};ae.sort((tt,Yt)=>Yt.monthsOfCoverage-tt.monthsOfCoverage);let st=0,aa=0;console.log(`Found ${ae.length} overstocked items, ${fe.length} understocked items`);for(const{item:tt,monthsOfCoverage:Yt}of ae){const sa=tt.original_quantity||0,_a=parseFloat(tt.unit_cost||0);if(sa<=0){aa++;continue}if(_a<=0)continue;const Fa=J-st;if(Fa<=0){console.log(`Budget exhausted at $${st.toFixed(2)}, stopping reductions`);break}const yr=Math.floor(Fa/_a),fl=Math.min(sa,yr),xu=sa-fl;Ee[tt.item_id]=xu,st+=fl*_a,console.log(`Item ${tt.product_name}: ${sa} -> ${xu} (${Yt.toFixed(1)} mo coverage, reduced $${(fl*_a).toFixed(2)})`)}aa>0&&console.log(`Skipped ${aa} overstocked items with 0 order quantity`),console.log(`Total reduction: $${st.toFixed(2)} of max $${J.toFixed(2)} (${(st/k*100).toFixed(1)}% of order)`);for(const{item:tt,avgMonthlySales:Yt}of fe){const sa=tt.original_quantity||0,_a=tt.stock_on_hand||0,Fa=Yt*T.targetCoverage,yr=Math.max(0,Math.round(Fa-_a)),fl=sa+yr;Ee[tt.item_id]=fl,console.log(`Item ${tt.product_name}: ${sa} -> ${fl} (need ${yr} to reach ${T.targetCoverage} mo coverage)`)}ue(Ee)}catch(b){console.error("Error applying stock rules:",b),A("Failed to fetch sales velocity for stock rules")}finally{Q(b=>({...b,loading:!1}))}},re=()=>{const b=parseFloat(z.targetBudget);if(!b||b<=0)return;const k=S.reduce((fe,Ee)=>{const st=D[Ee.item_id]??ze(Ee);return fe+parseFloat(Ee.unit_cost||0)*st},0);if(k===0)return;const J=b/k,ae={...D};S.forEach(fe=>{const Ee=D[fe.item_id]??ze(fe);ae[fe.item_id]=Math.max(0,Math.round(Ee*J))}),ue(ae)},xe=()=>{if(ie.size===0)return;const b={...D},k=parseFloat(O.value)||0;ie.forEach(J=>{const ae=S.find(Ee=>Ee.item_id===J);if(!ae)return;const fe=D[J]??ze(ae);switch(O.type){case"increase_pct":b[J]=Math.round(fe*(1+k/100));break;case"decrease_pct":b[J]=Math.max(0,Math.round(fe*(1-k/100)));break;case"set_value":b[J]=Math.max(0,Math.round(k));break}}),ue(b)},Be=async()=>{if(!(!h||!u)){X(b=>({...b,loading:!0}));try{const k=(await Et.getVelocity({seasonId:u,brandId:h,locationId:x||void 0,months:12})).data.velocity||{};X(ae=>({...ae,velocityData:k}));const J={...D};S.forEach(ae=>{if(!ae.upc)return;const fe=k[ae.upc];if(!fe)return;const Ee=fe.avg_monthly_sales||0,st=ae.stock_on_hand||0,aa=Ee*ne.coverageMonths,tt=Math.max(0,Math.round(aa-st));J[ae.item_id]=tt}),ue(J)}catch(b){console.error("Error fetching velocity:",b),A("Failed to calculate velocity suggestions")}finally{X(b=>({...b,loading:!1}))}}},je=()=>{const b=parseInt(K.min)||0,k=K.max?parseInt(K.max):1/0,J={...D};S.forEach(ae=>{const fe=D[ae.item_id]??ze(ae),Ee=Math.max(b,Math.min(k,fe));Ee!==fe&&(J[ae.item_id]=Ee)}),ue(J)},Nt=async()=>{if(!(!u||!h))try{const b=await Et.getAvailableProductFilters({seasonId:u,brandId:h});fa({categories:b.data.categories||[],genders:b.data.genders||[]})}catch(b){console.error("Error fetching available filters:",b)}},os=async()=>{if(!(!u||!h||!x)){Ue(!0);try{const b=await Et.getAvailableProducts({seasonId:u,brandId:h,locationId:x,shipDate:j||void 0,category:Ge.category||void 0,gender:Ge.gender||void 0,hasSalesHistory:Ge.hasSalesHistory||void 0,includeWithStock:Ge.includeWithStock||void 0});pe(b.data.families||[])}catch(b){console.error("Error fetching available products:",b),A("Failed to load available products")}finally{Ue(!1)}}},ta=b=>{nt(k=>{const J=new Set(k);return J.has(b)?J.delete(b):J.add(b),J})},Fs=async b=>{var ae;const k=ot[b.id]||1,J=(ae=S[0])==null?void 0:ae.order_id;if(!J){A("No order found for this location");return}W(!0);try{const fe=await Et.addItem(J,{product_id:b.id,quantity:k,unit_price:b.wholesale_cost,is_addition:!0});et(st=>{const aa={...st};return delete aa[b.id],aa}),pe(st=>st.map(aa=>({...aa,products:aa.products.filter(tt=>tt.id!==b.id)})).filter(aa=>aa.products.length>0));const Ee=fe.data.item;Ee&&(N(st=>[...st,{item_id:Ee.id,order_id:Ee.order_id,product_id:Ee.product_id,original_quantity:0,adjusted_quantity:k,unit_cost:Ee.unit_cost,line_total:Ee.line_total,product_name:b.name,base_name:b.base_name,upc:b.upc,size:b.size,color:b.color,inseam:b.inseam,stock_on_hand:0}]),Re())}catch(fe){console.error("Error adding item:",fe),A("Failed to add item to order")}finally{W(!1)}},q=()=>ee.flatMap(b=>Ye.has(b.base_name)?b.products:[]),le=async(b,k)=>{if(b.key==="Enter"){b.preventDefault();const ae=q().findIndex(Ee=>Ee.id===k.id);await Fs(k);const fe=q();if(fe.length>0){const Ee=fe[Math.min(ae,fe.length-1)];Ee&&(dt(Ee.id),setTimeout(()=>{const st=document.getElementById(`add-qty-${Ee.id}`);st&&st.focus()},50))}}else b.key==="Escape"&&b.target.blur()},ce=async b=>{try{await Et.ignoreProduct({productId:b.id,brandId:h}),pe(k=>k.map(J=>({...J,products:J.products.filter(ae=>ae.id!==b.id)})).filter(J=>J.products.length>0))}catch(k){console.error("Error ignoring product:",k),A("Failed to ignore product")}},Me=async()=>{if(Qe){M(!0);try{const b=await Et.finalize(Qe.id);_t(k=>({...k,finalized_at:b.data.order.finalized_at}))}catch(b){console.error("Error finalizing order:",b),A("Failed to finalize order")}finally{M(!1)}}},qt=S.reduce((b,k)=>{const J=D[k.item_id]??ze(k);return b+parseFloat(k.unit_cost||0)*J},0),$s=Object.keys(D).filter(b=>{const k=S.find(J=>J.item_id===parseInt(b));return k&&D[b]!==k.original_quantity}).length,Da=S.filter(b=>b.original_quantity>0),Dt=S.filter(b=>b.original_quantity===0);return s.jsx(We,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Adjustment"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View and adjust order quantities by location."})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"season",className:"block text-sm font-medium text-gray-700 mb-1",children:"Season"}),s.jsxs("select",{id:"season",value:u,onChange:b=>se("season",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select Season"}),a.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),s.jsxs("select",{id:"brand",value:h,onChange:b=>se("brand",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Brands"}),n.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),s.jsxs("select",{id:"location",value:x,onChange:b=>se("location",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select Location"}),i.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"shipDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ship Date"}),s.jsxs("select",{id:"shipDate",value:j,onChange:b=>se("shipDate",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Dates"}),o.map(b=>{const k=new Date(b),ae=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][k.getUTCMonth()]} ${k.getUTCFullYear()}`;return s.jsx("option",{value:b,children:ae},b)})]})]})]})}),v&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Items"}),s.jsx("div",{className:"text-xl font-bold text-gray-900",children:v.totalItems})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Orig Units"}),s.jsx("div",{className:"text-xl font-bold text-gray-900",children:v.totalOriginalUnits})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Adj Units"}),s.jsx("div",{className:`text-xl font-bold ${v.totalAdjustedUnits!==v.totalOriginalUnits?"text-blue-600":"text-gray-900"}`,children:v.totalAdjustedUnits})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Original $"}),s.jsx("div",{className:"text-xl font-bold text-gray-900",children:ve(v.totalOriginalWholesale)})]}),(()=>{const b=S.filter(k=>k.original_quantity===0&&k.adjusted_quantity>0).reduce((k,J)=>k+parseFloat(J.unit_cost||0)*J.adjusted_quantity,0);return b>0?s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg shadow border border-green-200",children:[s.jsx("div",{className:"text-xs text-green-700",children:"Added $"}),s.jsx("div",{className:"text-xl font-bold text-green-700",children:ve(b)})]}):null})(),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Current $"}),s.jsx("div",{className:`text-xl font-bold ${v.totalWholesale!==v.totalOriginalWholesale?"text-blue-600":"text-gray-900"}`,children:ve(v.totalWholesale)})]}),v.totalOriginalWholesale>0&&v.totalWholesale!==v.totalOriginalWholesale&&s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Change"}),(()=>{const b=(v.totalWholesale-v.totalOriginalWholesale)/v.totalOriginalWholesale*100,k=b>0;return s.jsxs("div",{className:`text-xl font-bold ${k?"text-green-600":"text-red-600"}`,children:[k?"+":"",b.toFixed(1),"%"]})})()]}),$s>0&&s.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg shadow border border-yellow-200",children:[s.jsx("div",{className:"text-xs text-yellow-700",children:"Suggested $"}),s.jsx("div",{className:"text-xl font-bold text-yellow-700",children:ve(qt)})]})]}),Qe&&s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Order:"}),s.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Qe.order_number})]}),Qe.finalized_at&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Finalized"}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(Qe.finalized_at).toLocaleString()})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:Me,disabled:w,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${Qe.finalized_at?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"} disabled:opacity-50`,children:w?"Finalizing...":Qe.finalized_at?"Re-finalize":"Finalize for Export"}),s.jsx("a",{href:`/export-center?season=${u}&brand=${h}`,className:"px-4 py-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"View Export Center "})]})]}),S.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"flex border-b overflow-x-auto",children:[[{id:"stock",label:"Stock Rules"},{id:"velocity",label:"Sales Velocity"},{id:"budget",label:"Budget"},{id:"batch",label:"Batch"},{id:"minmax",label:"Min/Max"},{id:"add",label:"+ Add Items"}].map(b=>s.jsx("button",{onClick:()=>{const k=R===b.id?null:b.id;$(k),k==="add"&&h&&(Nt(),os())},className:`px-4 py-2 text-sm font-medium whitespace-nowrap ${R===b.id?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:b.label},b.id)),s.jsx("div",{className:"flex-1"}),$s>0&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:P,className:"px-3 py-2 text-sm text-gray-500 hover:text-gray-700",children:"Reset"}),s.jsxs("button",{onClick:ea,disabled:E,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:["Save All (",$s,")"]})]})]}),R==="stock"&&s.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[s.jsxs("div",{className:"border-r pr-4",children:[s.jsx("div",{className:"text-xs font-medium text-red-600 mb-2",children:"Overstocked (reduce)"}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"If coverage "}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",value:T.highMonths,onChange:b=>Q({...T,highMonths:parseInt(b.target.value)||0}),className:"w-14 px-2 py-1 border rounded text-sm"}),s.jsx("span",{className:"text-xs text-gray-500",children:"mo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max order cut"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",value:T.maxOrderReduction,onChange:b=>Q({...T,maxOrderReduction:parseInt(b.target.value)||0}),className:"w-14 px-2 py-1 border rounded text-sm"}),s.jsx("span",{className:"text-xs text-gray-500",children:"%"})]})]})]})]}),s.jsxs("div",{className:"pl-2",children:[s.jsx("div",{className:"text-xs font-medium text-green-600 mb-2",children:"Understocked (increase)"}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"If coverage "}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",value:T.lowMonths,onChange:b=>Q({...T,lowMonths:parseInt(b.target.value)||0}),className:"w-14 px-2 py-1 border rounded text-sm"}),s.jsx("span",{className:"text-xs text-gray-500",children:"mo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Target coverage"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",value:T.targetCoverage,onChange:b=>Q({...T,targetCoverage:parseInt(b.target.value)||0}),className:"w-14 px-2 py-1 border rounded text-sm"}),s.jsx("span",{className:"text-xs text-gray-500",children:"mo"})]})]})]})]}),s.jsx("button",{onClick:me,disabled:T.loading||!h,className:"px-4 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:T.loading?"Loading...":"Apply"}),!h&&s.jsx("span",{className:"text-xs text-orange-600",children:"Select a brand first"})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Overstocked items reduced to 0 (most overstocked first) until max order cut reached. Understocked items increased to reach target coverage."})]}),R==="velocity"&&s.jsx("div",{className:"p-4 bg-gray-50 border-b",children:s.jsxs("div",{className:"flex items-end gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Coverage Months"}),s.jsxs("select",{value:ne.coverageMonths,onChange:b=>X({...ne,coverageMonths:parseInt(b.target.value)}),className:"px-2 py-1 border rounded text-sm",children:[s.jsx("option",{value:3,children:"3 months"}),s.jsx("option",{value:6,children:"6 months"}),s.jsx("option",{value:9,children:"9 months"}),s.jsx("option",{value:12,children:"12 months"})]})]}),s.jsx("button",{onClick:Be,disabled:ne.loading||!h,className:"px-4 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:ne.loading?"Loading...":"Calculate"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Suggests: (avg monthly sales  months) - stock on hand"}),!h&&s.jsx("span",{className:"text-xs text-orange-600",children:"Select a brand first"})]})}),R==="budget"&&s.jsx("div",{className:"p-4 bg-gray-50 border-b",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[z.brandAllocation&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Brand Allocation: ",s.jsx("span",{className:"font-medium",children:ve(z.brandAllocation)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Target Budget $"}),s.jsx("input",{type:"number",value:z.targetBudget,onChange:b=>B({...z,targetBudget:b.target.value}),placeholder:((xl=z.brandAllocation)==null?void 0:xl.toString())||"Enter amount",className:"w-32 px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",s.jsx("span",{className:"font-medium",children:ve(qt||(v==null?void 0:v.totalWholesale))})]}),s.jsx("button",{onClick:re,className:"px-4 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Scale to Budget"})]})}),R==="batch"&&s.jsx("div",{className:"p-4 bg-gray-50 border-b",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[ie.size," items selected"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Operation"}),s.jsxs("select",{value:O.type,onChange:b=>F({...O,type:b.target.value}),className:"px-2 py-1 border rounded text-sm",children:[s.jsx("option",{value:"increase_pct",children:"Increase %"}),s.jsx("option",{value:"decrease_pct",children:"Decrease %"}),s.jsx("option",{value:"set_value",children:"Set to value"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:O.type==="set_value"?"Quantity":"Percent"}),s.jsx("input",{type:"number",value:O.value,onChange:b=>F({...O,value:b.target.value}),className:"w-20 px-2 py-1 border rounded text-sm"})]}),s.jsx("button",{onClick:xe,disabled:ie.size===0,className:"px-4 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:"Apply to Selected"})]})}),R==="minmax"&&s.jsx("div",{className:"p-4 bg-gray-50 border-b",children:s.jsxs("div",{className:"flex items-end gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minimum Qty"}),s.jsx("input",{type:"number",value:K.min,onChange:b=>I({...K,min:b.target.value}),className:"w-20 px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Maximum Qty"}),s.jsx("input",{type:"number",value:K.max,onChange:b=>I({...K,max:b.target.value}),placeholder:"No limit",className:"w-20 px-2 py-1 border rounded text-sm"})]}),s.jsx("button",{onClick:je,className:"px-4 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Apply Min/Max"})]})}),R==="add"&&s.jsx("div",{className:"p-4 bg-gray-50 border-b max-h-96 overflow-y-auto",children:h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3 pb-3 border-b",children:[s.jsxs("select",{value:Ge.category,onChange:b=>{ft(k=>({...k,category:b.target.value}))},className:"px-2 py-1 text-sm border rounded",children:[s.jsx("option",{value:"",children:"All Categories"}),Tt.categories.map(b=>s.jsx("option",{value:b,children:b},b))]}),s.jsxs("select",{value:Ge.gender,onChange:b=>{ft(k=>({...k,gender:b.target.value}))},className:"px-2 py-1 text-sm border rounded",children:[s.jsx("option",{value:"",children:"All Genders"}),Tt.genders.map(b=>s.jsx("option",{value:b,children:b},b))]}),s.jsxs("label",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Ge.hasSalesHistory,onChange:b=>{ft(k=>({...k,hasSalesHistory:b.target.checked}))},className:"rounded"}),"Has sales"]}),s.jsxs("label",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Ge.includeWithStock,onChange:b=>{ft(k=>({...k,includeWithStock:b.target.checked}))},className:"rounded"}),"Include in-stock"]}),s.jsx("button",{onClick:os,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Apply"})]}),Ne?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading available products..."})]}):ee.length===0?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No items match your filters"}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[ee.reduce((b,k)=>b+k.products.length,0)," items available to add"]}),ee.map(b=>s.jsxs("div",{className:"border rounded bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("button",{onClick:()=>ta(b.base_name),className:"flex-1 px-3 py-2 flex justify-between items-center text-left",children:[s.jsx("span",{className:"font-medium",children:b.base_name}),s.jsxs("span",{className:"text-sm text-gray-500",children:[Ye.has(b.base_name)?"":""," ",b.products.length," variant(s)"]})]}),s.jsx("button",{onClick:async k=>{k.stopPropagation();for(const J of b.products)await Et.ignoreProduct({productId:J.id,brandId:h});pe(J=>J.filter(ae=>ae.base_name!==b.base_name))},title:"Ignore all variants of this product",className:"mr-2 px-2 py-1 text-xs bg-gray-200 text-gray-600 rounded hover:bg-gray-300",children:"Ignore All"})]}),Ye.has(b.base_name)&&s.jsx("div",{className:"border-t",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500",children:"Color"}),s.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500",children:"Size"}),s.jsx("th",{className:"px-2 py-1 text-right text-xs font-medium text-gray-500",children:"Cost"}),s.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500",children:"Future Orders"}),s.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-500",children:"Qty"}),s.jsx("th",{className:"px-2 py-1"})]})}),s.jsx("tbody",{children:b.products.map(k=>{var J,ae;return s.jsxs("tr",{className:`border-t hover:bg-gray-50 ${((J=k.future_orders)==null?void 0:J.length)>0?"bg-yellow-50":""}`,children:[s.jsx("td",{className:"px-2 py-1.5",children:k.color||"-"}),s.jsxs("td",{className:"px-2 py-1.5",children:[k.size||"-",k.inseam&&`/${k.inseam}`]}),s.jsxs("td",{className:"px-2 py-1.5 text-right",children:["$",parseFloat(k.wholesale_cost||0).toFixed(2)]}),s.jsx("td",{className:"px-2 py-1.5 text-xs",children:((ae=k.future_orders)==null?void 0:ae.length)>0?s.jsxs("span",{className:"text-orange-600",title:k.future_orders.map(fe=>`${fe.order_number}: ${fe.quantity} units`).join(`
`),children:[" ",k.future_orders.map(fe=>{const Ee=new Date(fe.ship_date);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][Ee.getUTCMonth()]}: ${fe.quantity}`}).join(", ")]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:s.jsx("input",{id:`add-qty-${k.id}`,type:"number",min:"1",value:ot[k.id]||"",onChange:fe=>et({...ot,[k.id]:parseInt(fe.target.value)||1}),onKeyDown:fe=>le(fe,k),onFocus:()=>dt(k.id),placeholder:"1",className:"w-14 px-1 py-0.5 border rounded text-center text-sm"})}),s.jsxs("td",{className:"px-2 py-1.5 text-center whitespace-nowrap",children:[s.jsx("button",{onClick:()=>Fs(k),disabled:E,className:"px-2 py-0.5 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:"Add"}),s.jsx("button",{onClick:()=>ce(k),title:"Ignore this product in future adjustments",className:"ml-1 px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded text-xs hover:bg-gray-300",children:""})]})]},k.id)})})]})})]},b.base_name))]})]}):s.jsx("div",{className:"text-center py-4 text-orange-600",children:"Select a brand to view available items"})})]}),y&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:y})}),f&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!f&&!x&&u&&s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-8 text-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Select a Location"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a location to view and adjust order quantities."})]}),!f&&x&&S.length===0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"No order items found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No orders exist for this selection."})]}),!f&&Da.length>0&&s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-b flex items-center gap-6 text-xs",children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Suggestion Legend:"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-6 text-center bg-green-500 text-white rounded px-1 font-bold",children:"5"}),s.jsx("span",{className:"text-gray-600",children:"= Order more than original"})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-6 text-center bg-red-500 text-white rounded px-1 font-bold",children:"2"}),s.jsx("span",{className:"text-gray-600",children:"= Order less than original"})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-4 text-center text-gray-400",children:"="}),s.jsx("span",{className:"text-gray-600",children:"= No change needed"})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-4 text-center text-gray-300",children:"-"}),s.jsx("span",{className:"text-gray-600",children:"= No sales data"})]})]}),s.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-center",children:s.jsx("input",{type:"checkbox",checked:ie.size===Da.length&&Da.length>0,onChange:rt,className:"rounded border-gray-300"})}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Size"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Color"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Orig"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Stock"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Sugg"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Adj"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),s.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Da.map(b=>s.jsxs("tr",{className:`hover:bg-gray-50 ${Xe(b)?"bg-blue-50":""} ${ie.has(b.item_id)?"bg-yellow-50":""}`,children:[s.jsx("td",{className:"px-2 py-1.5 text-center",children:s.jsx("input",{type:"checkbox",checked:ie.has(b.item_id),onChange:()=>Vt(b.item_id),className:"rounded border-gray-300"})}),s.jsx("td",{className:"px-2 py-1.5",children:s.jsx("div",{className:"font-medium text-gray-900 truncate max-w-[180px]",title:b.product_name,children:b.product_name})}),s.jsxs("td",{className:"px-2 py-1.5 text-gray-900",children:[b.size||"-",b.inseam&&`/${b.inseam}`]}),s.jsx("td",{className:"px-2 py-1.5 text-gray-700 truncate max-w-[80px]",title:b.color,children:b.color||"-"}),s.jsx("td",{className:"px-2 py-1.5 text-center text-gray-500",children:b.original_quantity}),s.jsx("td",{className:"px-2 py-1.5 text-center text-gray-500",children:b.stock_on_hand!==null?b.stock_on_hand:"-"}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:(()=>{const k=pt(b);return k?k.type==="same"?s.jsx("span",{className:"text-gray-400",title:"No change from original",children:"="}):s.jsx("button",{onClick:()=>ut(b),className:`px-2 py-0.5 rounded text-xs font-bold ${k.type==="increase"?"bg-green-500 text-white hover:bg-green-600":"bg-red-500 text-white hover:bg-red-600"}`,title:`${k.diff} from original (${b.original_quantity}). Click to accept.`,children:k.value}):s.jsx("span",{className:"text-gray-300",children:"-"})})()}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:U===b.item_id?s.jsx("input",{type:"number",min:"0",value:H,onChange:k=>G(k.target.value),onBlur:()=>ye(b),onKeyDown:k=>we(k,b),onFocus:k=>k.target.select(),className:"w-14 px-1 py-0.5 text-center border border-blue-500 rounded text-sm",autoFocus:!0,disabled:E}):s.jsx("button",{onClick:()=>de(b),className:`px-2 py-0.5 rounded font-medium ${Xe(b)?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ze(b)})}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:(()=>{const k=ze(b),J=b.original_quantity,ae=k-J;return ae===0?s.jsx("span",{className:"text-gray-300",children:"-"}):s.jsxs("span",{className:`font-medium ${ae>0?"text-green-600":"text-red-600"}`,children:[ae>0?"+":"",ae]})})()}),s.jsx("td",{className:"px-2 py-1.5 text-right text-gray-900",children:ve(b.unit_cost)}),s.jsx("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:ve(parseFloat(b.unit_cost||0)*ze(b))})]},b.item_id))})]})]}),!f&&Dt.length>0&&s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden border-2 border-green-200",children:[s.jsxs("div",{className:"px-4 py-2 bg-green-50 border-b flex items-center justify-between",children:[s.jsxs("span",{className:"text-green-800 font-medium",children:["Added Items (",Dt.length," items, ",Dt.reduce((b,k)=>b+ze(k),0)," units, ",ve(Dt.reduce((b,k)=>b+parseFloat(k.unit_cost||0)*ze(k),0)),")"]}),s.jsx("span",{className:"text-xs text-green-600",children:"Items added to order (not in original)"})]}),s.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[s.jsx("thead",{className:"bg-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-green-700 uppercase",children:"Product"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-green-700 uppercase",children:"Size"}),s.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-green-700 uppercase",children:"Color"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-green-700 uppercase",children:"Stock"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-green-700 uppercase",children:"Qty"}),s.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-green-700 uppercase",children:"Cost"}),s.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-green-700 uppercase",children:"Total"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-green-700 uppercase"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Dt.map(b=>s.jsxs("tr",{className:"hover:bg-green-50",children:[s.jsx("td",{className:"px-2 py-1.5",children:s.jsx("div",{className:"font-medium text-gray-900 truncate max-w-[180px]",title:b.product_name,children:b.product_name})}),s.jsxs("td",{className:"px-2 py-1.5 text-gray-900",children:[b.size||"-",b.inseam&&`/${b.inseam}`]}),s.jsx("td",{className:"px-2 py-1.5 text-gray-700 truncate max-w-[80px]",title:b.color,children:b.color||"-"}),s.jsx("td",{className:"px-2 py-1.5 text-center text-gray-500",children:b.stock_on_hand!==null?b.stock_on_hand:"-"}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:U===b.item_id?s.jsx("input",{type:"number",min:"0",value:H,onChange:k=>G(k.target.value),onBlur:()=>ye(b),onKeyDown:k=>we(k,b),onFocus:k=>k.target.select(),className:"w-14 px-1 py-0.5 text-center border border-green-500 rounded text-sm",autoFocus:!0,disabled:E}):s.jsx("button",{onClick:()=>de(b),className:"px-2 py-0.5 rounded font-medium bg-green-100 text-green-700 hover:bg-green-200",children:ze(b)})}),s.jsx("td",{className:"px-2 py-1.5 text-right text-gray-900",children:ve(b.unit_cost)}),s.jsx("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:ve(parseFloat(b.unit_cost||0)*ze(b))}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:s.jsx("button",{onClick:async()=>{if(confirm("Remove this item from the order?"))try{await Et.deleteItem(b.order_id,b.item_id),N(k=>k.filter(J=>J.item_id!==b.item_id)),Re()}catch{A("Failed to remove item")}},className:"text-red-500 hover:text-red-700 text-xs",title:"Remove from order",children:""})})]},b.item_id))})]})]})]})})},lN=()=>{var Q,ne,X,z,B;const[e,t]=tc(),[a,l]=m.useState([]),[n,r]=m.useState([]),i=e.get("season")||"",c=e.get("brand")||"",[o,d]=m.useState([]),[u,h]=m.useState(null),[x,j]=m.useState(!1),[S,N]=m.useState(""),[v,g]=m.useState(!1),[f,p]=m.useState(null),[y,A]=m.useState(!1),[U,_]=m.useState(null),[H,G]=m.useState("");m.useEffect(()=>{(async()=>{try{const[F,K]=await Promise.all([V.get("/seasons"),V.get("/brands")]);l(F.data.seasons||[]),r(K.data.brands||[])}catch(F){console.error("Error fetching filters:",F),N("Failed to load filter options")}})()},[]),m.useEffect(()=>{i&&c?E():(d([]),h(null))},[i,c]);const E=async()=>{var O,F;j(!0),N("");try{const K=await Et.getFinalizedStatus({seasonId:i,brandId:c});d(K.data.orders||[]),h(K.data.summary||null)}catch(K){console.error("Error fetching finalized status:",K),N(((F=(O=K.response)==null?void 0:O.data)==null?void 0:F.error)||"Failed to load finalization status"),d([]),h(null)}finally{j(!1)}},W=(O,F)=>{const K=new URLSearchParams(e);F?K.set(O,F):K.delete(O),t(K)},D=O=>!O&&O!==0?"-":`$${parseFloat(O).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ue=O=>{if(!O)return"-";const F=new Date(O);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][F.getUTCMonth()]} ${F.getUTCFullYear()}`},ie=O=>O?new Date(O).toLocaleString():"-",oe=async(O="standard")=>{var F;if(!(!i||!c)){g(!0),N("");try{const K=await xh.finalized({seasonId:i,brandId:c,format:"xlsx",template:O}),I=new Blob([K.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),ee=window.URL.createObjectURL(I),pe=document.createElement("a");pe.href=ee;const Ne=K.headers["content-disposition"];let Ue=`finalized_export_${O}.xlsx`;if(Ne){const Ye=Ne.match(/filename="?([^";\n]+)"?/);Ye&&Ye[1]&&(Ue=Ye[1])}pe.download=Ue,document.body.appendChild(pe),pe.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(pe)}catch(K){console.error("Error exporting:",K),((F=K.response)==null?void 0:F.status)===404?N("No finalized adjustments found to export. Finalize orders first."):N("Failed to export")}finally{g(!1)}}},R=async()=>{var O,F,K;if(!(!f||!i||!c)){A(!0),N(""),_(null);try{const I=new FormData;I.append("file",f),I.append("seasonId",i),I.append("brandId",c),H&&I.append("locationId",H);const ee=await xh.updateOrderForm(I);if(console.log("Upload response:",ee.data),_(ee.data),(F=(O=ee.data)==null?void 0:O.file)!=null&&F.data)try{const pe=atob(ee.data.file.data),Ne=new Array(pe.length);for(let et=0;et<pe.length;et++)Ne[et]=pe.charCodeAt(et);const Ue=new Uint8Array(Ne),Ye=new Blob([Ue],{type:ee.data.file.type}),nt=window.URL.createObjectURL(Ye),ot=document.createElement("a");ot.href=nt,ot.download=ee.data.file.name,document.body.appendChild(ot),ot.click(),window.URL.revokeObjectURL(nt),document.body.removeChild(ot)}catch(pe){console.error("Download error:",pe),N("File processed but download failed. Check console.")}else console.log("No file data in response")}catch(I){console.error("Error uploading order form:",I);const ee=(K=I.response)==null?void 0:K.data;ee!=null&&ee.headers?N(`Could not find required column. Available headers: ${ee.headers.join(", ")}`):N((ee==null?void 0:ee.error)||"Failed to process order form")}finally{A(!1)}}},$=n.find(O=>O.id.toString()===c),T=a.find(O=>O.id.toString()===i);return s.jsx(We,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Export Center"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View finalization status and export adjusted orders for all locations."})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"season",className:"block text-sm font-medium text-gray-700 mb-1",children:"Season"}),s.jsxs("select",{id:"season",value:i,onChange:O=>W("season",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select Season"}),a.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),s.jsxs("select",{id:"brand",value:c,onChange:O=>W("brand",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select Brand"}),n.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]})]})}),S&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:S})}),x&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!x&&(!i||!c)&&s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-8 text-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Select Season and Brand"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a season and brand to view finalization status."})]}),!x&&i&&c&&s.jsxs(s.Fragment,{children:[u&&s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[$==null?void 0:$.name," - ",T==null?void 0:T.name]}),s.jsxs("div",{className:"mt-1 flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[s.jsx("strong",{children:u.finalizedOrders})," of ",s.jsx("strong",{children:u.totalOrders})," orders finalized"]}),s.jsx("span",{children:"|"}),s.jsxs("span",{children:[s.jsx("strong",{children:u.totalUnits.toLocaleString()})," units"]}),s.jsx("span",{children:"|"}),s.jsxs("span",{children:[s.jsx("strong",{children:D(u.totalCost)})," total"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:u.finalizedOrders>0?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>oe("standard"),disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:v?"Exporting...":"Export Standard"}),s.jsx("button",{onClick:()=>oe("nuorder"),disabled:v,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200 disabled:opacity-50",children:"Export NuOrder"}),s.jsx("button",{onClick:()=>oe("elastic"),disabled:v,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200 disabled:opacity-50",children:"Export Elastic"})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"Finalize orders to enable export"})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${u.totalOrders>0?u.finalizedOrders/u.totalOrders*100:0}%`}})})})]}),u&&u.finalizedOrders>0&&s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("h3",{className:"text-md font-semibold text-gray-900 mb-3",children:"Update Vendor Order Form"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload the vendor's Excel order form and we'll fill in your adjusted quantities by matching UPCs."}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("select",{value:H,onChange:O=>G(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Locations"}),o.filter(O=>O.finalized_at).reduce((O,F)=>(O.find(K=>K.id===F.location_id)||O.push({id:F.location_id,name:F.location_name}),O),[]).map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]}),s.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:O=>{p(O.target.files[0]),_(null)},className:"block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),s.jsx("button",{onClick:R,disabled:!f||y,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Processing...":"Update & Download"})]}),U&&s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[s.jsxs("span",{className:"text-green-600 font-medium",children:[((Q=U.results)==null?void 0:Q.matched)||0," products matched"]}),s.jsxs("span",{className:"text-blue-600",children:[((ne=U.results)==null?void 0:ne.updated)||0," quantities updated"]}),((X=U.results)==null?void 0:X.notFoundCount)>0&&s.jsxs("span",{className:"text-orange-600",children:[U.results.notFoundCount," not found in your adjustments"]}),U.file&&s.jsx("button",{onClick:()=>{const O=atob(U.file.data),F=new Array(O.length);for(let Ne=0;Ne<O.length;Ne++)F[Ne]=O.charCodeAt(Ne);const K=new Uint8Array(F),I=new Blob([K],{type:U.file.type}),ee=window.URL.createObjectURL(I),pe=document.createElement("a");pe.href=ee,pe.download=U.file.name,pe.click(),window.URL.revokeObjectURL(ee)},className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700",children:"Download Updated File"})]}),((z=U.results.notFound)==null?void 0:z.length)>0&&s.jsxs("details",{className:"mt-3",children:[s.jsxs("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-800",children:["Show products not found (",U.results.notFoundCount,")"]}),s.jsxs("div",{className:"mt-2 max-h-40 overflow-y-auto text-xs text-gray-500",children:[U.results.notFound.map((O,F)=>s.jsxs("div",{children:["Row ",O.row,": UPC ",O.upc]},F)),U.results.notFoundCount>20&&s.jsxs("div",{className:"text-gray-400 mt-1",children:["...and ",U.results.notFoundCount-20," more"]})]})]}),((B=U.results.changes)==null?void 0:B.length)>0&&s.jsxs("details",{className:"mt-3",children:[s.jsxs("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-800",children:["Show quantity changes (",U.results.updated,")"]}),s.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto text-xs",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-500",children:[s.jsx("th",{className:"pr-4",children:"UPC"}),s.jsx("th",{className:"pr-4",children:"Old Qty"}),s.jsx("th",{children:"New Qty"})]})}),s.jsx("tbody",{children:U.results.changes.map((O,F)=>s.jsxs("tr",{className:"text-gray-700",children:[s.jsx("td",{className:"pr-4",children:O.upc}),s.jsx("td",{className:"pr-4",children:O.oldQty}),s.jsx("td",{className:"text-green-600 font-medium",children:O.newQty})]},F))})]})})]})]})]}),o.length>0?s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order #"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ship Date"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Items"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Units"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Finalized"}),s.jsx("th",{className:"px-4 py-3"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(O=>s.jsxs("tr",{className:`hover:bg-gray-50 ${O.finalized_at?"bg-green-50":""}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:O.location_name||"-"}),s.jsx("td",{className:"px-4 py-3 text-gray-700",children:O.order_number}),s.jsx("td",{className:"px-4 py-3 text-gray-700",children:ue(O.ship_date)}),s.jsx("td",{className:"px-4 py-3 text-right text-gray-700",children:parseInt(O.total_items).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-gray-700",children:parseInt(O.total_units).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 text-right text-gray-900 font-medium",children:D(O.total_cost)}),s.jsx("td",{className:"px-4 py-3 text-center",children:O.finalized_at?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Ready"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Draft"})}),s.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:O.finalized_at?ie(O.finalized_at):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("a",{href:`/order-adjustment?season=${i}&brand=${c}&location=${O.location_id}&shipDate=${O.ship_date}`,className:"text-blue-600 hover:text-blue-800 text-sm",children:[O.finalized_at?"View":"Finalize"," "]})})]},O.order_id))})]})}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"No orders found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No orders exist for this brand and season."})]})]})]})})},nN=()=>{const[e,t]=m.useState("getting-started"),a=r=>{t(e===r?null:r)},l=({id:r,title:i,children:c})=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mb-4",children:[s.jsxs("button",{onClick:()=>a(r),className:"w-full px-6 py-4 bg-gray-50 hover:bg-gray-100 flex items-center justify-between text-left transition-colors",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:i}),s.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform ${e===r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e===r&&s.jsx("div",{className:"px-6 py-4 bg-white",children:c})]}),n=({number:r,title:i,children:c})=>s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:r}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:i}),s.jsx("div",{className:"text-gray-600 text-sm",children:c})]})]});return s.jsx(We,{children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Help & Documentation"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Learn how to use the Preseason Ordering System to manage your seasonal orders efficiently."})]}),s.jsx(l,{id:"getting-started",title:"Getting Started",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"The Preseason Ordering System helps you plan and manage seasonal product orders across multiple brands and locations. Here's how to get started:"}),s.jsxs(n,{number:"1",title:"Upload Brand Catalogs",children:["Before creating orders, upload product catalogs for each brand you work with. Go to ",s.jsx("span",{className:"font-medium",children:"Catalog Upload"})," to import Excel or CSV files with product information."]}),s.jsxs(n,{number:"2",title:"Create a Season",children:['Seasons help organize orders by time period (e.g., "Spring 2025", "Fall 2025"). From the ',s.jsx("span",{className:"font-medium",children:"Orders"}),' page, click "New Season" to create one.']}),s.jsx(n,{number:"3",title:"Create Orders",children:"Within a season, create orders for each brand/location combination. Each order tracks products, quantities, and total costs."}),s.jsx(n,{number:"4",title:"Add Products to Orders",children:'Open an order and click "Add Products" to browse the catalog and add items with quantities.'}),s.jsx(n,{number:"5",title:"Export Orders",children:"When ready, export orders in various formats (Standard, NuOrder, Elastic, or brand-specific templates)."})]})}),s.jsx(l,{id:"orders",title:"Orders Page (Home)",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"The Orders page is your main hub for managing all preseason orders."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Seasons"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Create Season:"}),' Click "New Season" to create a season with name, start/end dates, and budget']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Set Budget:"})," Click the budget icon to set or update the season's total budget"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Delete Season:"})," Remove seasons that are no longer needed (will delete all associated orders)"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Orders"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Create Order:"}),' Click "New Order" to create an order for a specific brand and location']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Order Status:"})," Orders progress through Draft, Submitted, Approved, and Ordered statuses"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"View Order:"})," Click an order row to open the Order Builder and manage products"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Delete Order:"})," Click the trash icon to remove an order"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Filters & Grouping"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Filter by:"})," Season, Brand, Location, or Status to find specific orders"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Group by:"})," Brand or Location to organize the order list"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Collapse/Expand:"})," Click brand headers to collapse or expand sections"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Select All:"})," Use the checkbox in each brand header to select all orders for that brand"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Exporting Orders"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Select Orders:"})," Check the boxes next to orders you want to export (must be same brand)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Export Formats:"})," Standard Excel, NuOrder Excel, Elastic Suite Excel"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Brand Templates:"})," If configured, brand-specific templates will appear in the export menu"]})]})]})}),s.jsx(l,{id:"order-builder",title:"Order Builder",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"The Order Builder lets you manage products within a specific order."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Adding Products"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Add Products:"}),' Click the "Add Products" button to browse the catalog']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Search & Filter:"})," Use the search bar and filters to find products"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Set Quantities:"})," Enter quantities for each size/color variant"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ship Dates:"})," Optionally specify ship dates for order items"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Managing Items"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Edit Quantity:"})," Click on a quantity to edit it directly"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Delete Item:"})," Click the X icon to remove an item (setting quantity to 0 also prompts deletion)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Delete Family:"})," Remove all items in a product family at once"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Collapse/Expand:"})," Toggle product family sections to focus on what you need"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Order Summary"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Total Units:"})," Shows the total quantity of items in the order"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Total Cost:"})," Displays the wholesale cost total for the order"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Status:"})," Update the order status using the dropdown menu"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Exporting"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Export Button:"})," Download the order in various Excel formats"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Copy Order:"})," Duplicate the order to another location"]})]})]})}),s.jsx(l,{id:"products",title:"Products Page",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"View and search all products in your catalog across all brands."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Features"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Search:"})," Find products by name, SKU, UPC, or other attributes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Filter by Brand:"})," Show products from a specific brand"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Filter by Category:"})," Narrow down by product category"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"View Details:"})," See product information including sizes, colors, and pricing"]})]})]})}),s.jsx(l,{id:"brands",title:"Brands Page",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Manage your brand information and order form templates."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Brand Management"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Add Brand:"})," Create new brands with contact information (Admin only)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Edit Brand:"})," Update brand details and vendor codes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Vendor Code:"})," Optional code used in exports for brand identification"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Active Status:"})," Deactivate brands to hide them from dropdowns"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Order Form Templates (Admin/Buyer)"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Purpose:"})," Upload brand-specific Excel order forms to use as export templates"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Upload Template:"})," Click a brand row to expand and manage its templates"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Column Mapping:"})," Map template columns to data fields (SKU, UPC, Quantity, etc.)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Start Row:"})," Specify which row in the template the data should start"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Export:"})," When exporting orders, select the brand template to fill in the brand's specific form"]})]})]})}),s.jsx(l,{id:"catalog-upload",title:"Catalog Upload (Admin/Buyer)",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Import product catalogs from Excel or CSV files to populate your product database."}),s.jsx(n,{number:"1",title:"Select or Create Brand",children:"Choose an existing brand or create a new one for this catalog."}),s.jsx(n,{number:"2",title:"Upload File",children:"Drag and drop or select an Excel (.xlsx, .xls) or CSV file. For Excel files with multiple sheets, select which sheets to import."}),s.jsx(n,{number:"3",title:"Set Header Row",children:"Specify which row contains your column headers (usually row 1)."}),s.jsxs(n,{number:"4",title:"Map Columns",children:["Match your file's columns to the database fields:",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Required:"})," UPC, SKU, Product Name, Size, Color, Gender, Category"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Optional:"})," Wholesale Cost, MSRP, Subcategory, Inseam"]})]})]}),s.jsx(n,{number:"5",title:"Preview & Upload",children:'Review the preview and click "Upload Catalog" to import the products.'}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:[s.jsx("h4",{className:"font-medium text-yellow-800",children:"Tips"}),s.jsxs("ul",{className:"list-disc list-inside text-yellow-700 text-sm mt-2 space-y-1",children:[s.jsx("li",{children:"The system auto-detects common column names and maps them automatically"}),s.jsx("li",{children:"Existing products (matching UPC) will be updated with new information"}),s.jsx("li",{children:"Upload history is tracked so you can see past imports"})]})]})]})}),s.jsx(l,{id:"sales-data",title:"Sales Data Upload (Admin/Buyer)",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Import historical sales data to power order suggestions based on past performance."}),s.jsx(n,{number:"1",title:"Upload Sales File",children:"Select an Excel or CSV file containing your sales history."}),s.jsxs(n,{number:"2",title:"Map Columns",children:["Match columns to fields:",s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Quantity (Required):"})," Number of units sold"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"UPC (Recommended):"})," Product identifier to match catalog products"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Product Name:"})," Alternative product identifier"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Location:"})," Store/location where sale occurred"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Date:"})," When the sale occurred"]})]})]}),s.jsx(n,{number:"3",title:"Set Date Range & Location",children:"Specify the date range for this sales data and the location (if not in file)."}),s.jsx(n,{number:"4",title:"Upload",children:"Import the data. You can delete uploads later if needed."})]})}),s.jsx(l,{id:"suggestions",title:"Order Suggestions (Admin/Buyer)",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Get AI-powered order suggestions based on historical sales data."}),s.jsx(n,{number:"1",title:"Select Filters",children:"Choose a Brand and Location to analyze. Optionally adjust the sales history period."}),s.jsx(n,{number:"2",title:"Generate Suggestions",children:'Click "Get Suggestions" to analyze sales data and generate recommended order quantities.'}),s.jsx(n,{number:"3",title:"Review Suggestions",children:"View suggested products grouped by family, with recommended quantities based on sales velocity."}),s.jsx(n,{number:"4",title:"Adjust Quantities",children:"Modify suggested quantities as needed. Select items you want to include."}),s.jsx(n,{number:"5",title:"Create Order",children:'Select a season and configure ship dates, then click "Add to Order" to create the order.'}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"How Suggestions Work"}),s.jsx("p",{className:"text-blue-700 text-sm mt-2",children:"The system analyzes sales velocity (units sold per month) and projects future demand. Suggestions are based on products that match both your catalog (by UPC) and sales data."})]})]})}),s.jsx(l,{id:"users",title:"User Management (Admin Only)",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions for the system."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"User Roles"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Viewer:"})," Read-only access to orders, products, and brands"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Buyer:"})," Can create/edit orders, upload catalogs, and manage sales data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Admin:"})," Full access including user management and brand configuration"]})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Managing Users"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Add User:"}),' Click "Add New User" and fill in name, email, password, and role']}),s.jsxs("li",{children:[s.jsx("strong",{children:"View Users:"})," See all users with their roles, status, and last login"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Active Status:"})," Users can be deactivated to prevent login"]})]})]})}),s.jsx(l,{id:"export-formats",title:"Export Formats",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Export orders in various formats to submit to vendors or import into other systems."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Standard Export"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Basic Excel format with all order details including SKU, UPC, product info, quantities, and pricing."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"NuOrder Export"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Formatted for import into the NuOrder B2B platform with appropriate column structure."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Elastic Suite Export"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Formatted for import into Elastic Suite with their required column format."}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Brand Templates"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Custom templates uploaded per brand. The system fills in your data into the brand's specific order form format, preserving headers and formatting."})]})}),s.jsx(l,{id:"keyboard-shortcuts",title:"Tips & Best Practices",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"General Tips"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsx("li",{children:"Upload catalogs before creating orders to ensure products are available"}),s.jsx("li",{children:'Use consistent naming for seasons (e.g., "Spring 2025", "Fall 2025")'}),s.jsx("li",{children:"Set season budgets to track spending across all orders"}),s.jsx("li",{children:"Use the suggestions feature if you have historical sales data"})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Data Quality"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsx("li",{children:"Ensure UPCs are consistent across catalogs and sales data for accurate matching"}),s.jsx("li",{children:"Upload complete catalogs - missing products can't be added to orders"}),s.jsx("li",{children:"Keep sales data current for better suggestions"})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mt-4",children:"Workflow Recommendations"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 ml-2",children:[s.jsx("li",{children:"Start with Draft status, move to Submitted when ready for review"}),s.jsx("li",{children:"Use Approved status after internal approval, Ordered when sent to vendor"}),s.jsx("li",{children:"Export orders after they reach Approved or Ordered status"}),s.jsx("li",{children:"Create separate orders per brand/location for easier tracking"})]})]})}),s.jsx("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Need more help? Contact your system administrator."})})]})})};function rN(){return s.jsx(Uj,{children:s.jsx(Pb,{children:s.jsxs(Qb,{children:[s.jsx(lt,{path:"/login",element:s.jsx(Bj,{})}),s.jsx(lt,{path:"/",element:s.jsx(Rt,{children:s.jsx(Qj,{})})}),s.jsx(lt,{path:"/products",element:s.jsx(Rt,{children:s.jsx(kj,{})})}),s.jsx(lt,{path:"/brands",element:s.jsx(Rt,{children:s.jsx(Hj,{})})}),s.jsx(lt,{path:"/catalog-upload",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx($j,{})})}),s.jsx(lt,{path:"/users",element:s.jsx(Rt,{requiredRole:"admin",children:s.jsx(Fj,{})})}),s.jsx(lt,{path:"/orders",element:s.jsx(_n,{to:"/",replace:!0})}),s.jsx(lt,{path:"/seasons",element:s.jsx(_n,{to:"/",replace:!0})}),s.jsx(lt,{path:"/seasons/:id",element:s.jsx(_n,{to:"/",replace:!0})}),s.jsx(lt,{path:"/orders/:id",element:s.jsx(Rt,{children:s.jsx(Xj,{})})}),s.jsx(lt,{path:"/orders/:orderId/add-products",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(fh,{})})}),s.jsx(lt,{path:"/add-products",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(fh,{})})}),s.jsx(lt,{path:"/sales-data-upload",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(Pj,{})})}),s.jsx(lt,{path:"/order-suggestions",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(Wj,{})})}),s.jsx(lt,{path:"/prices/compare",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(Ij,{})})}),s.jsx(lt,{path:"/prices/history",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(eN,{})})}),s.jsx(lt,{path:"/sales-sync",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(tN,{})})}),s.jsx(lt,{path:"/budget",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(aN,{})})}),s.jsx(lt,{path:"/order-adjustment",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(sN,{})})}),s.jsx(lt,{path:"/export-center",element:s.jsx(Rt,{requiredRole:["admin","buyer"],children:s.jsx(lN,{})})}),s.jsx(lt,{path:"/help",element:s.jsx(Rt,{children:s.jsx(nN,{})})}),s.jsx(lt,{path:"*",element:s.jsx(_n,{to:"/",replace:!0})})]})})})}eb.createRoot(document.getElementById("root")).render(s.jsx(m.StrictMode,{children:s.jsx(rN,{})}));
